var Gs=e=>{throw TypeError(e)};var Vs=(e,t,r)=>t.has(e)||Gs("Cannot "+r);var Te=(e,t,r)=>(Vs(e,t,"read from private field"),r?r.call(e):t.get(e)),Vt=(e,t,r)=>t.has(e)?Gs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),La=(e,t,r,n)=>(Vs(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Vn=Array.isArray,nl=Array.prototype.indexOf,us=Array.from,ds=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,Po=Object.getOwnPropertyDescriptors,al=Object.prototype,sl=Array.prototype,fs=Object.getPrototypeOf,Ws=Object.isExtensible;function dn(e){return typeof e=="function"}const Pr=()=>{};function ol(e){return e()}function Sn(e){for(var t=0;t<e.length;t++)e[t]()}const hr=2,Lo=4,ba=8,vs=16,Sr=32,sn=64,oa=128,rr=256,ia=512,Ut=1024,Mr=2048,Vr=4096,wr=8192,ka=16384,il=32768,Wn=65536,ll=1<<17,cl=1<<19,Ro=1<<20,Ja=1<<21,pr=Symbol("$state"),ps=Symbol("legacy props"),ul=Symbol("");function Mo(e){return e===this.v}function Do(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function hs(e){return!Do(e,this.v)}function dl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function vl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function pl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hl(){throw new Error("https://svelte.dev/e/hydration_failed")}function gl(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function _l(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function yl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ml(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let on=!1;function xl(){on=!0}const gs=1,_s=2,Fo=4,wl=8,bl=16,kl=1,El=2,zo=4,$l=8,Sl=16,Al=1,Cl=2,ys="[",ms="[!",xs="]",mn={},Dt=Symbol(),Nl="http://www.w3.org/1999/xhtml",Tl="http://www.w3.org/2000/svg";function ws(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function bs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ge=null;function Js(e){Ge=e}function Qe(e,t=!1,r){var n=Ge={p:Ge,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};on&&!t&&(Ge.l={s:null,u:null,r1:[],r2:tn(!1)}),Es(()=>{n.d=!0})}function et(e){const t=Ge;if(t!==null){const i=t.e;if(i!==null){var r=ze,n=Fe;t.e=null;try{for(var s=0;s<i.length;s++){var o=i[s];Rr(o.effect),gr(o.reaction),Ea(o.fn)}}finally{Rr(r),gr(n)}}Ge=t.p,t.m=!0}return{}}function Jn(){return!on||Ge!==null&&Ge.l===null}function Fr(e,t){if(typeof e!="object"||e===null||pr in e)return e;const r=fs(e);if(r!==al&&r!==sl)return e;var n=new Map,s=Vn(e),o=ot(0),i=Fe,l=c=>{var u=Fe;gr(i);var v;return v=c(),gr(u),v};return s&&n.set("length",ot(e.length)),new Proxy(e,{defineProperty(c,u,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&_l();var p=n.get(u);return p===void 0?(p=l(()=>ot(v.value)),n.set(u,p)):y(p,l(()=>Fr(v.value))),!0},deleteProperty(c,u){var v=n.get(u);if(v===void 0)u in c&&n.set(u,l(()=>ot(Dt)));else{if(s&&typeof u=="string"){var p=n.get("length"),h=Number(u);Number.isInteger(h)&&h<p.v&&y(p,h)}y(v,Dt),Hs(o)}return!0},get(c,u,v){var x;if(u===pr)return e;var p=n.get(u),h=u in c;if(p===void 0&&(!h||(x=Ir(c,u))!=null&&x.writable)&&(p=l(()=>ot(Fr(h?c[u]:Dt))),n.set(u,p)),p!==void 0){var g=a(p);return g===Dt?void 0:g}return Reflect.get(c,u,v)},getOwnPropertyDescriptor(c,u){var v=Reflect.getOwnPropertyDescriptor(c,u);if(v&&"value"in v){var p=n.get(u);p&&(v.value=a(p))}else if(v===void 0){var h=n.get(u),g=h==null?void 0:h.v;if(h!==void 0&&g!==Dt)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return v},has(c,u){var g;if(u===pr)return!0;var v=n.get(u),p=v!==void 0&&v.v!==Dt||Reflect.has(c,u);if(v!==void 0||ze!==null&&(!p||(g=Ir(c,u))!=null&&g.writable)){v===void 0&&(v=l(()=>ot(p?Fr(c[u]):Dt)),n.set(u,v));var h=a(v);if(h===Dt)return!1}return p},set(c,u,v,p){var N;var h=n.get(u),g=u in c;if(s&&u==="length")for(var x=v;x<h.v;x+=1){var k=n.get(x+"");k!==void 0?y(k,Dt):x in c&&(k=l(()=>ot(Dt)),n.set(x+"",k))}h===void 0?(!g||(N=Ir(c,u))!=null&&N.writable)&&(h=l(()=>ot(void 0)),y(h,l(()=>Fr(v))),n.set(u,h)):(g=h.v!==Dt,y(h,l(()=>Fr(v))));var w=Reflect.getOwnPropertyDescriptor(c,u);if(w!=null&&w.set&&w.set.call(p,v),!g){if(s&&typeof u=="string"){var I=n.get("length"),F=Number(u);Number.isInteger(F)&&F>=I.v&&y(I,F+1)}Hs(o)}return!0},ownKeys(c){a(o);var u=Reflect.ownKeys(c).filter(h=>{var g=n.get(h);return g===void 0||g.v!==Dt});for(var[v,p]of n)p.v!==Dt&&!(v in c)&&u.push(v);return u},setPrototypeOf(){yl()}})}function Hs(e,t=1){y(e,e.v+t)}function Ks(e){try{if(e!==null&&typeof e=="object"&&pr in e)return e[pr]}catch{}return e}function Ol(e,t){return Object.is(Ks(e),Ks(t))}const An=new Map;function tn(e,t){var r={f:0,v:e,reactions:null,equals:Mo,rv:0,wv:0};return r}function ot(e,t){const r=tn(e);return ti(r),r}function G(e,t=!1){var n;const r=tn(e);return t||(r.equals=hs),on&&Ge!==null&&Ge.l!==null&&((n=Ge.l).s??(n.s=[])).push(r),r}function te(e,t){return y(e,cr(()=>a(e))),t}function y(e,t,r=!1){Fe!==null&&!vr&&Jn()&&(Fe.f&(hr|vs))!==0&&!(Lt!=null&&Lt.includes(e))&&ml();let n=r?Fr(t):t;return Ha(e,n)}function Ha(e,t){if(!e.equals(t)){var r=e.v;Yn?An.set(e,t):An.set(e,r),e.v=t,e.wv=ni(),jo(e,Mr),Jn()&&ze!==null&&(ze.f&Ut)!==0&&(ze.f&(Sr|sn))===0&&(Zt===null?jl([e]):Zt.push(e))}return t}function Ys(e,t=1){var r=a(e),n=t===1?r++:r--;return y(e,r),n}function jo(e,t){var r=e.reactions;if(r!==null)for(var n=Jn(),s=r.length,o=0;o<s;o++){var i=r[o],l=i.f;(l&Mr)===0&&(!n&&i===ze||(ur(i,t),(l&(Ut|rr))!==0&&((l&hr)!==0?jo(i,Vr):Ca(i))))}}let xe=!1;function Jt(e){xe=e}let Oe;function jt(e){if(e===null)throw ws(),mn;return Oe=e}function Lr(){return jt(Ar(Oe))}function d(e){if(xe){if(Ar(Oe)!==null)throw ws(),mn;Oe=e}}function me(e=1){if(xe){for(var t=e,r=Oe;t--;)r=Ar(r);Oe=r}}function Ka(){for(var e=0,t=Oe;;){if(t.nodeType===8){var r=t.data;if(r===xs){if(e===0)return t;e-=1}else(r===ys||r===ms)&&(e+=1)}var n=Ar(t);t.remove(),t=n}}var Xs,Uo,qo,Bo;function Ya(){if(Xs===void 0){Xs=window,Uo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;qo=Ir(t,"firstChild").get,Bo=Ir(t,"nextSibling").get,Ws(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ws(r)&&(r.__t=void 0)}}function kr(e=""){return document.createTextNode(e)}function lr(e){return qo.call(e)}function Ar(e){return Bo.call(e)}function f(e,t){if(!xe)return lr(e);var r=lr(Oe);if(r===null)r=Oe.appendChild(kr());else if(t&&r.nodeType!==3){var n=kr();return r==null||r.before(n),jt(n),n}return jt(r),r}function se(e,t){if(!xe){var r=lr(e);return r instanceof Comment&&r.data===""?Ar(r):r}return Oe}function _(e,t=1,r=!1){let n=xe?Oe:e;for(var s;t--;)s=n,n=Ar(n);if(!xe)return n;var o=n==null?void 0:n.nodeType;if(r&&o!==3){var i=kr();return n===null?s==null||s.after(i):n.before(i),jt(i),i}return jt(n),n}function ks(e){e.textContent=""}function rn(e){var t=hr|Mr,r=Fe!==null&&(Fe.f&hr)!==0?Fe:null;return ze===null||r!==null&&(r.f&rr)!==0?t|=rr:ze.f|=Ro,{ctx:Ge,deps:null,effects:null,equals:Mo,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??ze}}function Ra(e){const t=rn(e);return ti(t),t}function Ne(e){const t=rn(e);return t.equals=hs,t}function Go(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Er(t[r])}}function Il(e){for(var t=e.parent;t!==null;){if((t.f&hr)===0)return t;t=t.parent}return null}function Pl(e){var t,r=ze;Rr(Il(e));try{Go(e),t=si(e)}finally{Rr(r)}return t}function Vo(e){var t=Pl(e),r=(Or||(e.f&rr)!==0)&&e.deps!==null?Vr:Ut;ur(e,r),e.equals(t)||(e.v=t,e.wv=ni())}function Wo(e){ze===null&&Fe===null&&vl(),Fe!==null&&(Fe.f&rr)!==0&&ze===null&&fl(),Yn&&dl()}function Ll(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ln(e,t,r,n=!0){var s=ze,o={ctx:Ge,deps:null,nodes_start:null,nodes_end:null,f:e|Mr,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Aa(o),o.f|=il}catch(c){throw Er(o),c}else t!==null&&Ca(o);var i=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Ro|oa))===0;if(!i&&n&&(s!==null&&Ll(o,s),Fe!==null&&(Fe.f&hr)!==0)){var l=Fe;(l.effects??(l.effects=[])).push(o)}return o}function Es(e){const t=ln(ba,null,!1);return ur(t,Ut),t.teardown=e,t}function la(e){Wo();var t=ze!==null&&(ze.f&Sr)!==0&&Ge!==null&&!Ge.m;if(t){var r=Ge;(r.e??(r.e=[])).push({fn:e,effect:ze,reaction:Fe})}else{var n=Ea(e);return n}}function Jo(e){return Wo(),Hn(e)}function Rl(e){const t=ln(sn,e,!0);return(r={})=>new Promise(n=>{r.outro?nn(t,()=>{Er(t),n(void 0)}):(Er(t),n(void 0))})}function Ea(e){return ln(Lo,e,!1)}function wt(e,t){var r=Ge,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Hn(()=>{e(),!n.ran&&(n.ran=!0,y(r.l.r2,!0),cr(t))})}function Cr(){var e=Ge;Hn(()=>{if(a(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&Ut)!==0&&ur(r,Vr),cn(r)&&Aa(r),t.ran=!1}e.l.r2.v=!1}})}function Hn(e){return ln(ba,e,!0)}function B(e,t=[],r=rn){const n=t.map(r);return Kn(()=>e(...n.map(a)))}function Kn(e,t=0){return ln(ba|vs|t,e,!0)}function Br(e,t=!0){return ln(ba|Sr,e,!0,t)}function Ho(e){var t=e.teardown;if(t!==null){const r=Yn,n=Fe;Qs(!0),gr(null);try{t.call(null)}finally{Qs(r),gr(n)}}}function Ko(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&sn)!==0?r.parent=null:Er(r,t),r=n}}function Ml(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Sr)===0&&Er(t),t=r}}function Er(e,t=!0){var r=!1;if((t||(e.f&cl)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,s=e.nodes_end;n!==null;){var o=n===s?null:Ar(n);n.remove(),n=o}r=!0}Ko(e,t&&!r),fa(e,0),ur(e,ka);var i=e.transitions;if(i!==null)for(const c of i)c.stop();Ho(e);var l=e.parent;l!==null&&l.first!==null&&Yo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Yo(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function nn(e,t){var r=[];$s(e,r,!0),Xo(r,()=>{Er(e),t&&t()})}function Xo(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function $s(e,t,r){if((e.f&wr)===0){if(e.f^=wr,e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&t.push(i);for(var n=e.first;n!==null;){var s=n.next,o=(n.f&Wn)!==0||(n.f&Sr)!==0;$s(n,t,o?r:!1),n=s}}}function Cn(e){Zo(e,!0)}function Zo(e,t){if((e.f&wr)!==0){e.f^=wr,(e.f&Ut)===0&&(e.f^=Ut),cn(e)&&(ur(e,Mr),Ca(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&Wn)!==0||(r.f&Sr)!==0;Zo(r,s?t:!1),r=n}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}const Dl=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let Nn=[],Tn=[];function Qo(){var e=Nn;Nn=[],Sn(e)}function ei(){var e=Tn;Tn=[],Sn(e)}function $a(e){Nn.length===0&&queueMicrotask(Qo),Nn.push(e)}function Fl(e){Tn.length===0&&Dl(ei),Tn.push(e)}function Zs(){Nn.length>0&&Qo(),Tn.length>0&&ei()}let na=!1,ca=!1,ua=null,qr=!1,Yn=!1;function Qs(e){Yn=e}let xn=[];let Fe=null,vr=!1;function gr(e){Fe=e}let ze=null;function Rr(e){ze=e}let Lt=null;function zl(e){Lt=e}function ti(e){Fe!==null&&Fe.f&Ja&&(Lt===null?zl([e]):Lt.push(e))}let Pt=null,Wt=0,Zt=null;function jl(e){Zt=e}let ri=1,da=0,Or=!1;function ni(){return++ri}function cn(e){var p;var t=e.f;if((t&Mr)!==0)return!0;if((t&Vr)!==0){var r=e.deps,n=(t&rr)!==0;if(r!==null){var s,o,i=(t&ia)!==0,l=n&&ze!==null&&!Or,c=r.length;if(i||l){var u=e,v=u.parent;for(s=0;s<c;s++)o=r[s],(i||!((p=o==null?void 0:o.reactions)!=null&&p.includes(u)))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=ia),l&&v!==null&&(v.f&rr)===0&&(u.f^=rr)}for(s=0;s<c;s++)if(o=r[s],cn(o)&&Vo(o),o.wv>e.wv)return!0}(!n||ze!==null&&!Or)&&ur(e,Ut)}return!1}function Ul(e,t){for(var r=t;r!==null;){if((r.f&oa)!==0)try{r.fn(e);return}catch{r.f^=oa}r=r.parent}throw na=!1,e}function ql(e){return(e.f&ka)===0&&(e.parent===null||(e.parent.f&oa)===0)}function Sa(e,t,r,n){if(na){if(r===null&&(na=!1),ql(t))throw e;return}r!==null&&(na=!0);{Ul(e,t);return}}function ai(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Lt!=null&&Lt.includes(e)||((o.f&hr)!==0?ai(o,t,!1):t===o&&(r?ur(o,Mr):(o.f&Ut)!==0&&ur(o,Vr),Ca(o)))}}function si(e){var g;var t=Pt,r=Wt,n=Zt,s=Fe,o=Or,i=Lt,l=Ge,c=vr,u=e.f;Pt=null,Wt=0,Zt=null,Or=(u&rr)!==0&&(vr||!qr||Fe===null),Fe=(u&(Sr|sn))===0?e:null,Lt=null,Js(e.ctx),vr=!1,da++,e.f|=Ja;try{var v=(0,e.fn)(),p=e.deps;if(Pt!==null){var h;if(fa(e,Wt),p!==null&&Wt>0)for(p.length=Wt+Pt.length,h=0;h<Pt.length;h++)p[Wt+h]=Pt[h];else e.deps=p=Pt;if(!Or)for(h=Wt;h<p.length;h++)((g=p[h]).reactions??(g.reactions=[])).push(e)}else p!==null&&Wt<p.length&&(fa(e,Wt),p.length=Wt);if(Jn()&&Zt!==null&&!vr&&p!==null&&(e.f&(hr|Vr|Mr))===0)for(h=0;h<Zt.length;h++)ai(Zt[h],e);return s!==null&&(da++,Zt!==null&&(n===null?n=Zt:n.push(...Zt))),v}finally{Pt=t,Wt=r,Zt=n,Fe=s,Or=o,Lt=i,Js(l),vr=c,e.f^=Ja}}function Bl(e,t){let r=t.reactions;if(r!==null){var n=nl.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&hr)!==0&&(Pt===null||!Pt.includes(t))&&(ur(t,Vr),(t.f&(rr|ia))===0&&(t.f^=ia),Go(t),fa(t,0))}function fa(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Bl(e,r[n])}function Aa(e){var t=e.f;if((t&ka)===0){ur(e,Ut);var r=ze,n=Ge,s=qr;ze=e,qr=!0;try{(t&vs)!==0?Ml(e):Ko(e),Ho(e);var o=si(e);e.teardown=typeof o=="function"?o:null,e.wv=ri;var i=e.deps,l}catch(c){Sa(c,e,r,n||e.ctx)}finally{qr=s,ze=r}}}function Gl(){try{pl()}catch(e){if(ua!==null)Sa(e,ua,null);else throw e}}function oi(){var e=qr;try{var t=0;for(qr=!0;xn.length>0;){t++>1e3&&Gl();var r=xn,n=r.length;xn=[];for(var s=0;s<n;s++){var o=Wl(r[s]);Vl(o)}}}finally{ca=!1,qr=e,ua=null,An.clear()}}function Vl(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(ka|wr))===0)try{cn(n)&&(Aa(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Yo(n):n.fn=null))}catch(s){Sa(s,n,null,n.ctx)}}}function Ca(e){ca||(ca=!0,queueMicrotask(oi));for(var t=ua=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(sn|Sr))!==0){if((r&Ut)===0)return;t.f^=Ut}}xn.push(t)}function Wl(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(Sr|sn))!==0,o=s&&(n&Ut)!==0;if(!o&&(n&wr)===0){if((n&Lo)!==0)t.push(r);else if(s)r.f^=Ut;else{var i=Fe;try{Fe=r,cn(r)&&Aa(r)}catch(u){Sa(u,r,null,r.ctx)}finally{Fe=i}}var l=r.first;if(l!==null){r=l;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)r=c.next,c=c.parent}return t}function ii(e){var t;for(Zs();xn.length>0;)ca=!0,oi(),Zs();return t}async function li(){await Promise.resolve(),ii()}function a(e){var t=e.f,r=(t&hr)!==0;if(Fe!==null&&!vr){if(!(Lt!=null&&Lt.includes(e))){var n=Fe.deps;e.rv<da&&(e.rv=da,Pt===null&&n!==null&&n[Wt]===e?Wt++:Pt===null?Pt=[e]:(!Or||!Pt.includes(e))&&Pt.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,o=s.parent;o!==null&&(o.f&rr)===0&&(s.f^=rr)}return r&&(s=e,cn(s)&&Vo(s)),Yn&&An.has(e)?An.get(e):e.v}function cr(e){var t=vr;try{return vr=!0,e()}finally{vr=t}}const Jl=-7169;function ur(e,t){e.f=e.f&Jl|t}function zt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(pr in e)Xa(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&pr in r&&Xa(r)}}}function Xa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Xa(e[n],t)}catch{}const r=fs(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Po(r);for(let s in n){const o=n[s].get;if(o)try{o.call(e)}catch{}}}}}function Hl(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Kl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Yl(e){return Kl.includes(e)}const Xl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Zl(e){return e=e.toLowerCase(),Xl[e]??e}const Ql=["touchstart","touchmove"];function ec(e){return Ql.includes(e)}const tc=["textarea","script","style","title"];function rc(e){return tc.includes(e)}function ci(e,t){if(t){const r=document.body;e.autofocus=!0,$a(()=>{document.activeElement===r&&e.focus()})}}function Yr(e){xe&&lr(e)!==null&&ks(e)}let eo=!1;function ui(){eo||(eo=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function di(e){var t=Fe,r=ze;gr(null),Rr(null);try{return e()}finally{gr(t),Rr(r)}}function nc(e,t,r,n=r){e.addEventListener(t,()=>di(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),ui()}const fi=new Set,Za=new Set;function vi(e,t,r,n={}){function s(o){if(n.capture||_n.call(t,o),!o.cancelBubble)return di(()=>r==null?void 0:r.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?$a(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function D(e,t,r,n,s){var o={capture:n,passive:s},i=vi(e,t,r,o);(t===document.body||t===window||t===document)&&Es(()=>{t.removeEventListener(e,i,o)})}function ac(e){for(var t=0;t<e.length;t++)fi.add(e[t]);for(var r of Za)r(e)}function _n(e){var F;var t=this,r=t.ownerDocument,n=e.type,s=((F=e.composedPath)==null?void 0:F.call(e))||[],o=s[0]||e.target,i=0,l=e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=s[i]||e.target,o!==t){ds(e,"currentTarget",{configurable:!0,get(){return o||r}});var v=Fe,p=ze;gr(null),Rr(null);try{for(var h,g=[];o!==null;){var x=o.assignedSlot||o.parentNode||o.host||null;try{var k=o["__"+n];if(k!=null&&(!o.disabled||e.target===o))if(Vn(k)){var[w,...I]=k;w.apply(o,[e,...I])}else k.call(o,e)}catch(N){h?g.push(N):h=N}if(e.cancelBubble||x===t||x===null)break;o=x}if(h){for(let N of g)queueMicrotask(()=>{throw N});throw h}}finally{e.__root=t,delete e.currentTarget,gr(v),Rr(p)}}}function pi(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ir(e,t){var r=ze;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function A(e,t){var r=(t&Al)!==0,n=(t&Cl)!==0,s,o=!e.startsWith("<!>");return()=>{if(xe)return ir(Oe,null),Oe;s===void 0&&(s=pi(o?e:"<!>"+e),r||(s=lr(s)));var i=n||Uo?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=lr(i),c=i.lastChild;ir(l,c)}else ir(i,i);return i}}function sc(e,t,r="svg"){var n=!e.startsWith("<!>"),s=`<${r}>${n?e:"<!>"+e}</${r}>`,o;return()=>{if(xe)return ir(Oe,null),Oe;if(!o){var i=pi(s),l=lr(i);o=lr(l)}var c=o.cloneNode(!0);return ir(c,c),c}}function Ht(e=""){if(!xe){var t=kr(e+"");return ir(t,t),t}var r=Oe;return r.nodeType!==3&&(r.before(r=kr()),jt(r)),ir(r,r),r}function ke(){if(xe)return ir(Oe,null),Oe;var e=document.createDocumentFragment(),t=document.createComment(""),r=kr();return e.append(t,r),ir(t,r),e}function m(e,t){if(xe){ze.nodes_end=Oe,Lr();return}e!==null&&e.before(t)}function V(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function hi(e,t){return gi(e,t)}function oc(e,t){Ya(),t.intro=t.intro??!1;const r=t.target,n=xe,s=Oe;try{for(var o=lr(r);o&&(o.nodeType!==8||o.data!==ys);)o=Ar(o);if(!o)throw mn;Jt(!0),jt(o),Lr();const i=gi(e,{...t,anchor:o});if(Oe===null||Oe.nodeType!==8||Oe.data!==xs)throw ws(),mn;return Jt(!1),i}catch(i){if(i===mn)return t.recover===!1&&hl(),Ya(),ks(r),Jt(!1),hi(e,t);throw i}finally{Jt(n),jt(s)}}const Wr=new Map;function gi(e,{target:t,anchor:r,props:n={},events:s,context:o,intro:i=!0}){Ya();var l=new Set,c=p=>{for(var h=0;h<p.length;h++){var g=p[h];if(!l.has(g)){l.add(g);var x=ec(g);t.addEventListener(g,_n,{passive:x});var k=Wr.get(g);k===void 0?(document.addEventListener(g,_n,{passive:x}),Wr.set(g,1)):Wr.set(g,k+1)}}};c(us(fi)),Za.add(c);var u=void 0,v=Rl(()=>{var p=r??t.appendChild(kr());return Br(()=>{if(o){Qe({});var h=Ge;h.c=o}s&&(n.$$events=s),xe&&ir(p,null),u=e(p,n)||{},xe&&(ze.nodes_end=Oe),o&&et()}),()=>{var x;for(var h of l){t.removeEventListener(h,_n);var g=Wr.get(h);--g===0?(document.removeEventListener(h,_n),Wr.delete(h)):Wr.set(h,g)}Za.delete(c),p!==r&&((x=p.parentNode)==null||x.removeChild(p))}});return Qa.set(u,v),u}let Qa=new WeakMap;function ic(e,t){const r=Qa.get(e);return r?(Qa.delete(e),r(t)):Promise.resolve()}function R(e,t,[r,n]=[0,0]){xe&&r===0&&Lr();var s=e,o=null,i=null,l=Dt,c=r>0?Wn:0,u=!1;const v=(h,g=!0)=>{u=!0,p(g,h)},p=(h,g)=>{if(l===(l=h))return;let x=!1;if(xe&&n!==-1){if(r===0){const w=s.data;w===ys?n=0:w===ms?n=1/0:(n=parseInt(w.substring(1)),n!==n&&(n=l?1/0:-1))}const k=n>r;!!l===k&&(s=Ka(),jt(s),Jt(!1),x=!0,n=-1)}l?(o?Cn(o):g&&(o=Br(()=>g(s))),i&&nn(i,()=>{i=null})):(i?Cn(i):g&&(i=Br(()=>g(s,[r+1,n]))),o&&nn(o,()=>{o=null})),x&&Jt(!0)};Kn(()=>{u=!1,t(v),u||p(null,null)},c),xe&&(s=Oe)}function tt(e,t){return t}function lc(e,t,r,n){for(var s=[],o=t.length,i=0;i<o;i++)$s(t[i].e,s,!0);var l=o>0&&s.length===0&&r!==null;if(l){var c=r.parentNode;ks(c),c.append(r),n.clear(),Nr(e,t[0].prev,t[o-1].next)}Xo(s,()=>{for(var u=0;u<o;u++){var v=t[u];l||(n.delete(v.k),Nr(e,v.prev,v.next)),Er(v.e,!l)}})}function rt(e,t,r,n,s,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Fo)!==0;if(c){var u=e;i=xe?jt(lr(u)):u.appendChild(kr())}xe&&Lr();var v=null,p=!1,h=Ne(()=>{var g=r();return Vn(g)?g:g==null?[]:us(g)});Kn(()=>{var g=a(h),x=g.length;if(p&&x===0)return;p=x===0;let k=!1;if(xe){var w=i.data===ms;w!==(x===0)&&(i=Ka(),jt(i),Jt(!1),k=!0)}if(xe){for(var I=null,F,N=0;N<x;N++){if(Oe.nodeType===8&&Oe.data===xs){i=Oe,k=!0,Jt(!1);break}var $=g[N],C=n($,N);F=_i(Oe,l,I,null,$,C,N,s,t,r),l.items.set(C,F),I=F}x>0&&jt(Ka())}xe||cc(g,l,i,s,t,n,r),o!==null&&(x===0?v?Cn(v):v=Br(()=>o(i)):v!==null&&nn(v,()=>{v=null})),k&&Jt(!0),a(h)}),xe&&(i=Oe)}function cc(e,t,r,n,s,o,i){var pe,he,Z,ue;var l=(s&wl)!==0,c=(s&(gs|_s))!==0,u=e.length,v=t.items,p=t.first,h=p,g,x=null,k,w=[],I=[],F,N,$,C;if(l)for(C=0;C<u;C+=1)F=e[C],N=o(F,C),$=v.get(N),$!==void 0&&((pe=$.a)==null||pe.measure(),(k??(k=new Set)).add($));for(C=0;C<u;C+=1){if(F=e[C],N=o(F,C),$=v.get(N),$===void 0){var U=h?h.e.nodes_start:r;x=_i(U,t,x,x===null?t.first:x.next,F,N,C,n,s,i),v.set(N,x),w=[],I=[],h=x.next;continue}if(c&&uc($,F,C,s),($.e.f&wr)!==0&&(Cn($.e),l&&((he=$.a)==null||he.unfix(),(k??(k=new Set)).delete($))),$!==h){if(g!==void 0&&g.has($)){if(w.length<I.length){var M=I[0],H;x=M.prev;var re=w[0],ee=w[w.length-1];for(H=0;H<w.length;H+=1)to(w[H],M,r);for(H=0;H<I.length;H+=1)g.delete(I[H]);Nr(t,re.prev,ee.next),Nr(t,x,re),Nr(t,ee,M),h=M,x=ee,C-=1,w=[],I=[]}else g.delete($),to($,h,r),Nr(t,$.prev,$.next),Nr(t,$,x===null?t.first:x.next),Nr(t,x,$),x=$;continue}for(w=[],I=[];h!==null&&h.k!==N;)(h.e.f&wr)===0&&(g??(g=new Set)).add(h),I.push(h),h=h.next;if(h===null)continue;$=h}w.push($),x=$,h=$.next}if(h!==null||g!==void 0){for(var K=g===void 0?[]:us(g);h!==null;)(h.e.f&wr)===0&&K.push(h),h=h.next;var ne=K.length;if(ne>0){var ye=(s&Fo)!==0&&u===0?r:null;if(l){for(C=0;C<ne;C+=1)(Z=K[C].a)==null||Z.measure();for(C=0;C<ne;C+=1)(ue=K[C].a)==null||ue.fix()}lc(t,K,ye,v)}}l&&$a(()=>{var E;if(k!==void 0)for($ of k)(E=$.a)==null||E.apply()}),ze.first=t.first&&t.first.e,ze.last=x&&x.e}function uc(e,t,r,n){(n&gs)!==0&&Ha(e.v,t),(n&_s)!==0?Ha(e.i,r):e.i=r}function _i(e,t,r,n,s,o,i,l,c,u){var v=(c&gs)!==0,p=(c&bl)===0,h=v?p?G(s):tn(s):s,g=(c&_s)===0?i:tn(i),x={i:g,v:h,k:o,a:null,e:null,prev:r,next:n};try{return x.e=Br(()=>l(e,h,g,u),xe),x.e.prev=r&&r.e,x.e.next=n&&n.e,r===null?t.first=x:(r.next=x,r.e.next=x.e),n!==null&&(n.prev=x,n.e.prev=x.e),x}finally{}}function to(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,o=e.e.nodes_start;o!==n;){var i=Ar(o);s.before(o),o=i}}function Nr(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ve(e,t,r,n,s){var l;xe&&Lr();var o=(l=t.$$slots)==null?void 0:l[r],i=!1;o===!0&&(o=t.children,i=!0),o===void 0||o(e,i?()=>n:n)}function aa(e,t,r){xe&&Lr();var n=e,s,o;Kn(()=>{s!==(s=t())&&(o&&(nn(o),o=null),s&&(o=Br(()=>r(n,s))))},Wn),xe&&(n=Oe)}function dc(e,t,r,n,s,o){let i=xe;xe&&Lr();var l,c,u=null;xe&&Oe.nodeType===1&&(u=Oe,Lr());var v=xe?Oe:e,p;Kn(()=>{const h=t()||null;var g=Tl;h!==l&&(p&&(h===null?nn(p,()=>{p=null,c=null}):h===c?Cn(p):Er(p)),h&&h!==c&&(p=Br(()=>{if(u=xe?u:document.createElementNS(g,h),ir(u,u),n){xe&&rc(h)&&u.append(document.createComment(""));var x=xe?lr(u):u.appendChild(kr());xe&&(x===null?Jt(!1):jt(x)),n(u,x)}ze.nodes_end=u,v.before(u)})),l=h,l&&(c=l))},Wn),i&&(Jt(!0),jt(v))}function yi(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=yi(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fc(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=yi(e))&&(n&&(n+=" "),n+=t);return n}function vc(e){return typeof e=="object"?fc(e):e??""}const ro=[...` 	
\r\f \v\uFEFF`];function pc(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var o=s.length,i=0;(i=n.indexOf(s,i))>=0;){var l=i+o;(i===0||ro.includes(n[i-1]))&&(l===n.length||ro.includes(n[l]))?n=(i===0?"":n.substring(0,i))+n.substring(l+1):i=l}}return n===""?null:n}function no(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var o=e[s];o!=null&&o!==""&&(n+=" "+s+": "+o+r)}return n}function Ma(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function hc(e,t){if(t){var r="",n,s;if(Array.isArray(t)?(n=t[0],s=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,i=0,l=!1,c=[];n&&c.push(...Object.keys(n).map(Ma)),s&&c.push(...Object.keys(s).map(Ma));var u=0,v=-1;const k=e.length;for(var p=0;p<k;p++){var h=e[p];if(l?h==="/"&&e[p-1]==="*"&&(l=!1):o?o===h&&(o=!1):h==="/"&&e[p+1]==="*"?l=!0:h==='"'||h==="'"?o=h:h==="("?i++:h===")"&&i--,!l&&o===!1&&i===0){if(h===":"&&v===-1)v=p;else if(h===";"||p===k-1){if(v!==-1){var g=Ma(e.substring(u,v).trim());if(!c.includes(g)){h!==";"&&p++;var x=e.substring(u,p).trim();r+=" "+x+";"}}u=p+1,v=-1}}}}return n&&(r+=no(n)),s&&(r+=no(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Pe(e,t,r,n,s,o){var i=e.__className;if(xe||i!==r){var l=pc(r,n,o);(!xe||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l)),e.__className=r}else if(o&&s!==o)for(var c in o){var u=!!o[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return o}function Da(e,t={},r,n){for(var s in r){var o=r[s];t[s]!==o&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,o,n))}}function _r(e,t,r,n){var s=e.__style;if(xe||s!==t){var o=hc(t,n);(!xe||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else n&&(Array.isArray(n)?(Da(e,r==null?void 0:r[0],n[0]),Da(e,r==null?void 0:r[1],n[1],"important")):Da(e,r,n));return n}const fn=Symbol("class"),vn=Symbol("style"),mi=Symbol("is custom element"),xi=Symbol("is html");function Xe(e){if(xe){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;$r(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var s=e.checked;$r(e,"checked",null),e.checked=s}}};e.__on_r=r,Fl(r),ui()}}function _t(e,t){var r=Na(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function es(e,t){var r=Na(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function gc(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function $r(e,t,r,n){var s=Na(e);xe&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=r)&&(t==="loading"&&(e[ul]=r),r==null?e.removeAttribute(t):typeof r!="string"&&wi(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ts(e,t,r,n,s=!1){var o=Na(e),i=o[mi],l=!o[xi];let c=xe&&i;c&&Jt(!1);var u=t||{},v=e.tagName==="OPTION";for(var p in t)p in r||(r[p]=null);r.class?r.class=vc(r.class):(n||r[fn])&&(r.class=null),r[vn]&&(r.style??(r.style=null));var h=wi(e);for(const N in r){let $=r[N];if(v&&N==="value"&&$==null){e.value=e.__value="",u[N]=$;continue}if(N==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";Pe(e,g,$,n,t==null?void 0:t[fn],r[fn]),u[N]=$,u[fn]=r[fn];continue}if(N==="style"){_r(e,$,t==null?void 0:t[vn],r[vn]),u[N]=$,u[vn]=r[vn];continue}var x=u[N];if($!==x){u[N]=$;var k=N[0]+N[1];if(k!=="$$")if(k==="on"){const C={},U="$$"+N;let M=N.slice(2);var w=Yl(M);if(Hl(M)&&(M=M.slice(0,-7),C.capture=!0),!w&&x){if($!=null)continue;e.removeEventListener(M,u[U],C),u[U]=null}if($!=null)if(w)e[`__${M}`]=$,ac([M]);else{let H=function(re){u[N].call(this,re)};u[U]=vi(M,e,H,C)}else w&&(e[`__${M}`]=void 0)}else if(N==="style")$r(e,N,$);else if(N==="autofocus")ci(e,!!$);else if(!i&&(N==="__value"||N==="value"&&$!=null))e.value=e.__value=$;else if(N==="selected"&&v)gc(e,$);else{var I=N;l||(I=Zl(I));var F=I==="defaultValue"||I==="defaultChecked";if($==null&&!i&&!F)if(o[N]=null,I==="value"||I==="checked"){let C=e;const U=t===void 0;if(I==="value"){let M=C.defaultValue;C.removeAttribute(I),C.defaultValue=M,C.value=C.__value=U?M:null}else{let M=C.defaultChecked;C.removeAttribute(I),C.defaultChecked=M,C.checked=U?M:!1}}else e.removeAttribute(N);else F||h.includes(I)&&(i||typeof $!="string")?e[I]=$:typeof $!="function"&&$r(e,I,$)}}}return c&&Jt(!0),u}function Na(e){return e.__attributes??(e.__attributes={[mi]:e.nodeName.includes("-"),[xi]:e.namespaceURI===Nl})}var ao=new Map;function wi(e){var t=ao.get(e.nodeName);if(t)return t;ao.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=Po(n);for(var o in r)r[o].set&&t.push(o);n=fs(n)}return t}function Tr(e,t,r=t){var n=Jn();nc(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=Fa(e)?za(o):o,r(o),n&&o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),(xe&&e.defaultValue!==e.value||cr(t)==null&&e.value)&&r(Fa(e)?za(e.value):e.value),Hn(()=>{var s=t();Fa(e)&&s===za(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Fa(e){var t=e.type;return t==="number"||t==="range"}function za(e){return e===""?null:+e}function va(e,t,r){if(e.multiple)return _c(e,t);for(var n of e.options){var s=ki(n);if(Ol(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function bi(e,t){let r=!0;Ea(()=>{t&&va(e,cr(t),r),r=!1;var n=new MutationObserver(()=>{var s=e.__value;va(e,s)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function _c(e,t){for(var r of e.options)r.selected=~t.indexOf(ki(r))}function ki(e){return"__value"in e?e.__value:e.value}function so(e,t){return e===t||(e==null?void 0:e[pr])===t}function wn(e={},t,r,n){return Ea(()=>{var s,o;return Hn(()=>{s=o,o=[],cr(()=>{e!==r(...o)&&(t(e,...o),s&&so(r(...s),e)&&t(null,...s))})}),()=>{$a(()=>{o&&so(r(...o),e)&&t(null,...o)})}}),e}function yc(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function ft(e=!1){const t=Ge,r=t.l.u;if(!r)return;let n=()=>zt(t.s);if(e){let s=0,o={};const i=rn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&s++,s});n=()=>a(i)}r.b.length&&Jo(()=>{oo(t,n),Sn(r.b)}),la(()=>{const s=cr(()=>r.m.map(ol));return()=>{for(const o of s)typeof o=="function"&&o()}}),r.a.length&&la(()=>{oo(t,n),Sn(r.a)})}function oo(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}function yn(e,t){var o;var r=(o=e.$$events)==null?void 0:o[t.type],n=Vn(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function Ss(e,t,r){if(e==null)return t(void 0),r&&r(void 0),Pr;const n=cr(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Jr=[];function mc(e,t){return{subscribe:sr(e,t).subscribe}}function sr(e,t=Pr){let r=null;const n=new Set;function s(l){if(Do(e,l)&&(e=l,r)){const c=!Jr.length;for(const u of n)u[1](),Jr.push(u,e);if(c){for(let u=0;u<Jr.length;u+=2)Jr[u][0](Jr[u+1]);Jr.length=0}}}function o(l){s(l(e))}function i(l,c=Pr){const u=[l,c];return n.add(u),n.size===1&&(r=t(s,o)||Pr),l(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:s,update:o,subscribe:i}}function xc(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return mc(r,(i,l)=>{let c=!1;const u=[];let v=0,p=Pr;const h=()=>{if(v)return;p();const x=t(n?u[0]:u,i,l);o?i(x):p=typeof x=="function"?x:Pr},g=s.map((x,k)=>Ss(x,w=>{u[k]=w,v&=~(1<<k),c&&h()},()=>{v|=1<<k}));return c=!0,h(),function(){Sn(g),p(),c=!1}})}function wc(e){let t;return Ss(e,r=>t=r)(),t}let Qn=!1,rs=Symbol();function nr(e,t,r){const n=r[t]??(r[t]={store:null,source:G(void 0),unsubscribe:Pr});if(n.store!==e&&!(rs in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Pr;else{var s=!0;n.unsubscribe=Ss(e,o=>{s?n.source.v=o:y(n.source,o)}),s=!1}return e&&rs in r?wc(e):a(n.source)}function un(){const e={};function t(){Es(()=>{for(var r in e)e[r].unsubscribe();ds(e,rs,{enumerable:!1,value:!0})})}return[e,t]}function bc(e){var t=Qn;try{return Qn=!1,[e(),Qn]}finally{Qn=t}}const kc={get(e,t){if(!e.exclude.includes(t))return a(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=oe({get[t](){return e.props[t]}},t,zo)),e.special[t](r),Ys(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Ys(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Ke(e,t){return new Proxy({props:e,exclude:t,special:{},version:tn(0)},kc)}const Ec={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(dn(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];dn(s)&&(s=s());const o=Ir(s,t);if(o&&o.set)return o.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(dn(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=Ir(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===pr||t===ps)return!1;for(let r of e.props)if(dn(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){dn(r)&&(r=r());for(const n in r)t.includes(n)||t.push(n)}return t}};function at(...e){return new Proxy({props:e},Ec)}function io(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function oe(e,t,r,n){var U;var s=(r&kl)!==0,o=!on||(r&El)!==0,i=(r&$l)!==0,l=(r&Sl)!==0,c=!1,u;i?[u,c]=bc(()=>e[t]):u=e[t];var v=pr in e||ps in e,p=i&&(((U=Ir(e,t))==null?void 0:U.set)??(v&&t in e&&(M=>e[t]=M)))||void 0,h=n,g=!0,x=!1,k=()=>(x=!0,g&&(g=!1,l?h=cr(n):h=n),h);u===void 0&&n!==void 0&&(p&&o&&gl(),u=k(),p&&p(u));var w;if(o)w=()=>{var M=e[t];return M===void 0?k():(g=!0,x=!1,M)};else{var I=(s?rn:Ne)(()=>e[t]);I.f|=ll,w=()=>{var M=a(I);return M!==void 0&&(h=void 0),M===void 0?h:M}}if((r&zo)===0)return w;if(p){var F=e.$$legacy;return function(M,H){return arguments.length>0?((!o||!H||F||c)&&p(H?w():M),M):w()}}var N=!1,$=G(u),C=rn(()=>{var M=w(),H=a($);return N?(N=!1,H):$.v=M});return i&&a(C),s||(C.equals=hs),function(M,H){if(arguments.length>0){const re=H?a(C):o&&i?Fr(M):M;if(!C.equals(re)){if(N=!0,y($,re),x&&h!==void 0&&(h=re),io(C))return M;cr(()=>a(C))}return M}return io(C)?C.v:a(C)}}function $c(e){return class extends Sc{constructor(t){super({component:e,...t})}}}var mr,Qt;class Sc{constructor(t){Vt(this,mr);Vt(this,Qt);var o;var r=new Map,n=(i,l)=>{var c=G(l);return r.set(i,c),c};const s=new Proxy({...t.props||{},$$events:{}},{get(i,l){return a(r.get(l)??n(l,Reflect.get(i,l)))},has(i,l){return l===ps?!0:(a(r.get(l)??n(l,Reflect.get(i,l))),Reflect.has(i,l))},set(i,l,c){return y(r.get(l)??n(l,c),c),Reflect.set(i,l,c)}});La(this,Qt,(t.hydrate?oc:hi)(t.component,{target:t.target,anchor:t.anchor,props:s,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((o=t==null?void 0:t.props)!=null&&o.$$host)||t.sync===!1)&&ii(),La(this,mr,s.$$events);for(const i of Object.keys(Te(this,Qt)))i==="$set"||i==="$destroy"||i==="$on"||ds(this,i,{get(){return Te(this,Qt)[i]},set(l){Te(this,Qt)[i]=l},enumerable:!0});Te(this,Qt).$set=i=>{Object.assign(s,i)},Te(this,Qt).$destroy=()=>{ic(Te(this,Qt))}}$set(t){Te(this,Qt).$set(t)}$on(t,r){Te(this,mr)[t]=Te(this,mr)[t]||[];const n=(...s)=>r.call(this,...s);return Te(this,mr)[t].push(n),()=>{Te(this,mr)[t]=Te(this,mr)[t].filter(s=>s!==n)}}$destroy(){Te(this,Qt).$destroy()}}mr=new WeakMap,Qt=new WeakMap;function dr(e){Ge===null&&bs(),on&&Ge.l!==null?Nc(Ge).m.push(e):la(()=>{const t=cr(e);if(typeof t=="function")return t})}function Ac(e){Ge===null&&bs(),dr(()=>()=>cr(e))}function Cc(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function As(){const e=Ge;return e===null&&bs(),(t,r,n)=>{var o;const s=(o=e.s.$$events)==null?void 0:o[t];if(s){const i=Vn(s)?s.slice():[s],l=Cc(t,r,n);for(const c of i)c.call(e.x,l);return!l.defaultPrevented}return!0}}function Nc(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}new URL("sveltekit-internal://");function Tc(e,t){return e==="/"||t==="ignore"?e:t==="never"?e.endsWith("/")?e.slice(0,-1):e:t==="always"&&!e.endsWith("/")?e+"/":e}function Oc(e){return e.split("%25").map(decodeURI).join("%25")}function Ic(e){for(const t in e)e[t]=decodeURIComponent(e[t]);return e}function ja({href:e}){return e.split("#")[0]}function Pc(e,t,r,n=!1){const s=new URL(e);Object.defineProperty(s,"searchParams",{value:new Proxy(s.searchParams,{get(i,l){if(l==="get"||l==="getAll"||l==="has")return u=>(r(u),i[l](u));t();const c=Reflect.get(i,l);return typeof c=="function"?c.bind(i):c}}),enumerable:!0,configurable:!0});const o=["href","pathname","search","toString","toJSON"];n&&o.push("hash");for(const i of o)Object.defineProperty(s,i,{get(){return t(),e[i]},enumerable:!0,configurable:!0});return s}function Lc(...e){let t=5381;for(const r of e)if(typeof r=="string"){let n=r.length;for(;n;)t=t*33^r.charCodeAt(--n)}else if(ArrayBuffer.isView(r)){const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);let s=n.length;for(;s;)t=t*33^n[--s]}else throw new TypeError("value must be a string or TypedArray");return(t>>>0).toString(36)}function Rc(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}const Mc=window.fetch;window.fetch=(e,t)=>((e instanceof Request?e.method:(t==null?void 0:t.method)||"GET")!=="GET"&&bn.delete(Cs(e)),Mc(e,t));const bn=new Map;function Dc(e,t){const r=Cs(e,t),n=document.querySelector(r);if(n!=null&&n.textContent){let{body:s,...o}=JSON.parse(n.textContent);const i=n.getAttribute("data-ttl");return i&&bn.set(r,{body:s,init:o,ttl:1e3*Number(i)}),n.getAttribute("data-b64")!==null&&(s=Rc(s)),Promise.resolve(new Response(s,o))}return window.fetch(e,t)}function Fc(e,t,r){if(bn.size>0){const n=Cs(e,r),s=bn.get(n);if(s){if(performance.now()<s.ttl&&["default","force-cache","only-if-cached",void 0].includes(r==null?void 0:r.cache))return new Response(s.body,s.init);bn.delete(n)}}return window.fetch(t,r)}function Cs(e,t){let n=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(t!=null&&t.headers||t!=null&&t.body){const s=[];t.headers&&s.push([...new Headers(t.headers)].join(",")),t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&s.push(t.body),n+=`[data-hash="${Lc(...s)}"]`}return n}const zc=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function jc(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${qc(e).map(n=>{const s=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(n);if(s)return t.push({name:s[1],matcher:s[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const o=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(n);if(o)return t.push({name:o[1],matcher:o[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!n)return;const i=n.split(/\[(.+?)\](?!\])/);return"/"+i.map((c,u)=>{if(u%2){if(c.startsWith("x+"))return Ua(String.fromCharCode(parseInt(c.slice(2),16)));if(c.startsWith("u+"))return Ua(String.fromCharCode(...c.slice(2).split("-").map(k=>parseInt(k,16))));const v=zc.exec(c),[,p,h,g,x]=v;return t.push({name:g,matcher:x,optional:!!p,rest:!!h,chained:h?u===1&&i[0]==="":!1}),h?"(.*?)":p?"([^/]*)?":"([^/]+?)"}return Ua(c)}).join("")}).join("")}/?$`),params:t}}function Uc(e){return!/^\([^)]+\)$/.test(e)}function qc(e){return e.slice(1).split("/").filter(Uc)}function Bc(e,t,r){const n={},s=e.slice(1),o=s.filter(l=>l!==void 0);let i=0;for(let l=0;l<t.length;l+=1){const c=t[l];let u=s[l-i];if(c.chained&&c.rest&&i&&(u=s.slice(l-i,l+1).filter(v=>v).join("/"),i=0),u===void 0){c.rest&&(n[c.name]="");continue}if(!c.matcher||r[c.matcher](u)){n[c.name]=u;const v=t[l+1],p=s[l+1];v&&!v.rest&&v.optional&&p&&c.chained&&(i=0),!v&&!p&&Object.keys(n).length===o.length&&(i=0);continue}if(c.optional&&c.chained){i++;continue}return}if(!i)return n}function Ua(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Gc({nodes:e,server_loads:t,dictionary:r,matchers:n}){const s=new Set(t);return Object.entries(r).map(([l,[c,u,v]])=>{const{pattern:p,params:h}=jc(l),g={id:l,exec:x=>{const k=p.exec(x);if(k)return Bc(k,h,n)},errors:[1,...v||[]].map(x=>e[x]),layouts:[0,...u||[]].map(i),leaf:o(c)};return g.errors.length=g.layouts.length=Math.max(g.errors.length,g.layouts.length),g});function o(l){const c=l<0;return c&&(l=~l),[c,e[l]]}function i(l){return l===void 0?l:[s.has(l),e[l]]}}function Ei(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function lo(e,t,r=JSON.stringify){const n=r(t);try{sessionStorage[e]=n}catch{}}var Ao;const ar=((Ao=globalThis.__sveltekit_b8e9ge)==null?void 0:Ao.base)??"";var Co;const Vc=((Co=globalThis.__sveltekit_b8e9ge)==null?void 0:Co.assets)??ar,Wc="1745642890683",$i="sveltekit:snapshot",Si="sveltekit:scroll",Ai="sveltekit:states",Jc="sveltekit:pageurl",Zr="sveltekit:history",On="sveltekit:navigation",zr={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},Xn=location.origin;function Ci(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){const r=document.getElementsByTagName("base");t=r.length?r[0].href:document.URL}return new URL(e,t)}function Ns(){return{x:pageXOffset,y:pageYOffset}}function Hr(e,t){return e.getAttribute(`data-sveltekit-${t}`)}const co={...zr,"":zr.hover};function Ni(e){let t=e.assignedSlot??e.parentNode;return(t==null?void 0:t.nodeType)===11&&(t=t.host),t}function Ti(e,t){for(;e&&e!==t;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=Ni(e)}}function ns(e,t,r){let n;try{if(n=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI),r&&n.hash.match(/^#[^/]/)){const l=location.hash.split("#")[1]||"/";n.hash=`#${l}${n.hash}`}}catch{}const s=e instanceof SVGAElement?e.target.baseVal:e.target,o=!n||!!s||Ta(n,t,r)||(e.getAttribute("rel")||"").split(/\s+/).includes("external"),i=(n==null?void 0:n.origin)===Xn&&e.hasAttribute("download");return{url:n,external:o,target:s,download:i}}function pa(e){let t=null,r=null,n=null,s=null,o=null,i=null,l=e;for(;l&&l!==document.documentElement;)n===null&&(n=Hr(l,"preload-code")),s===null&&(s=Hr(l,"preload-data")),t===null&&(t=Hr(l,"keepfocus")),r===null&&(r=Hr(l,"noscroll")),o===null&&(o=Hr(l,"reload")),i===null&&(i=Hr(l,"replacestate")),l=Ni(l);function c(u){switch(u){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:co[n??"off"],preload_data:co[s??"off"],keepfocus:c(t),noscroll:c(r),reload:c(o),replace_state:c(i)}}function uo(e){const t=sr(e);let r=!0;function n(){r=!0,t.update(i=>i)}function s(i){r=!1,t.set(i)}function o(i){let l;return t.subscribe(c=>{(l===void 0||r&&c!==l)&&i(l=c)})}return{notify:n,set:s,subscribe:o}}const Oi={v:()=>{}};function Hc(){const{set:e,subscribe:t}=sr(!1);let r;async function n(){clearTimeout(r);try{const s=await fetch(`${Vc}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!s.ok)return!1;const i=(await s.json()).version!==Wc;return i&&(e(!0),Oi.v(),clearTimeout(r)),i}catch{return!1}}return{subscribe:t,check:n}}function Ta(e,t,r){return e.origin!==Xn||!e.pathname.startsWith(t)?!0:r?!(e.pathname===t+"/"||e.pathname===t+"/index.html"||e.protocol==="file:"&&e.pathname.replace(/\/[^/]+\.html?$/,"")===t):!1}function T0(e){}function fo(e){const t=Yc(e),r=new ArrayBuffer(t.length),n=new DataView(r);for(let s=0;s<r.byteLength;s++)n.setUint8(s,t.charCodeAt(s));return r}const Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Yc(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",r=0,n=0;for(let s=0;s<e.length;s++)r<<=6,r|=Kc.indexOf(e[s]),n+=6,n===24&&(t+=String.fromCharCode((r&16711680)>>16),t+=String.fromCharCode((r&65280)>>8),t+=String.fromCharCode(r&255),r=n=0);return n===12?(r>>=4,t+=String.fromCharCode(r)):n===18&&(r>>=2,t+=String.fromCharCode((r&65280)>>8),t+=String.fromCharCode(r&255)),t}const Xc=-1,Zc=-2,Qc=-3,eu=-4,tu=-5,ru=-6;function nu(e,t){if(typeof e=="number")return s(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,n=Array(r.length);function s(o,i=!1){if(o===Xc)return;if(o===Qc)return NaN;if(o===eu)return 1/0;if(o===tu)return-1/0;if(o===ru)return-0;if(i)throw new Error("Invalid input");if(o in n)return n[o];const l=r[o];if(!l||typeof l!="object")n[o]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const c=l[0],u=t==null?void 0:t[c];if(u)return n[o]=u(s(l[1]));switch(c){case"Date":n[o]=new Date(l[1]);break;case"Set":const v=new Set;n[o]=v;for(let g=1;g<l.length;g+=1)v.add(s(l[g]));break;case"Map":const p=new Map;n[o]=p;for(let g=1;g<l.length;g+=2)p.set(s(l[g]),s(l[g+1]));break;case"RegExp":n[o]=new RegExp(l[1],l[2]);break;case"Object":n[o]=Object(l[1]);break;case"BigInt":n[o]=BigInt(l[1]);break;case"null":const h=Object.create(null);n[o]=h;for(let g=1;g<l.length;g+=2)h[l[g]]=s(l[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const g=globalThis[c],x=l[1],k=fo(x),w=new g(k);n[o]=w;break}case"ArrayBuffer":{const g=l[1],x=fo(g);n[o]=x;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(l.length);n[o]=c;for(let u=0;u<l.length;u+=1){const v=l[u];v!==Zc&&(c[u]=s(v))}}else{const c={};n[o]=c;for(const u in l){const v=l[u];c[u]=s(v)}}return n[o]}return s(0)}const Ii=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Ii];const au=new Set([...Ii]);[...au];function su(e){return e.filter(t=>t!=null)}class Oa{constructor(t,r){this.status=t,typeof r=="string"?this.body={message:r}:r?this.body=r:this.body={message:`Error: ${t}`}}toString(){return JSON.stringify(this.body)}}class Ts{constructor(t,r){this.status=t,this.location=r}}class Os extends Error{constructor(t,r,n){super(n),this.status=t,this.text=r}}const ou="x-sveltekit-invalidated",iu="x-sveltekit-trailing-slash";function ha(e){return e instanceof Oa||e instanceof Os?e.status:500}function lu(e){return e instanceof Os?e.text:"Internal Error"}let Tt,In,qa;const cu=dr.toString().includes("$$")||/function \w+\(\) \{\}/.test(dr.toString());var Rn,Mn,Dn,Fn,zn,jn,Un,qn,No,Bn,To,Gn,Oo;cu?(Tt={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},In={current:null},qa={current:!1}):(Tt=new(No=class{constructor(){Vt(this,Rn,ot({}));Vt(this,Mn,ot(null));Vt(this,Dn,ot(null));Vt(this,Fn,ot({}));Vt(this,zn,ot({id:null}));Vt(this,jn,ot({}));Vt(this,Un,ot(-1));Vt(this,qn,ot(new URL("https://example.com")))}get data(){return a(Te(this,Rn))}set data(t){y(Te(this,Rn),t)}get form(){return a(Te(this,Mn))}set form(t){y(Te(this,Mn),t)}get error(){return a(Te(this,Dn))}set error(t){y(Te(this,Dn),t)}get params(){return a(Te(this,Fn))}set params(t){y(Te(this,Fn),t)}get route(){return a(Te(this,zn))}set route(t){y(Te(this,zn),t)}get state(){return a(Te(this,jn))}set state(t){y(Te(this,jn),t)}get status(){return a(Te(this,Un))}set status(t){y(Te(this,Un),t)}get url(){return a(Te(this,qn))}set url(t){y(Te(this,qn),t)}},Rn=new WeakMap,Mn=new WeakMap,Dn=new WeakMap,Fn=new WeakMap,zn=new WeakMap,jn=new WeakMap,Un=new WeakMap,qn=new WeakMap,No),In=new(To=class{constructor(){Vt(this,Bn,ot(null))}get current(){return a(Te(this,Bn))}set current(t){y(Te(this,Bn),t)}},Bn=new WeakMap,To),qa=new(Oo=class{constructor(){Vt(this,Gn,ot(!1))}get current(){return a(Te(this,Gn))}set current(t){y(Te(this,Gn),t)}},Gn=new WeakMap,Oo),Oi.v=()=>qa.current=!0);function uu(e){Object.assign(Tt,e)}const du="/__data.json",fu=".html__data.json";function vu(e){return e.endsWith(".html")?e.replace(/\.html$/,fu):e.replace(/\/$/,"")+du}const pu=new Set(["icon","shortcut icon","apple-touch-icon"]),Gr=Ei(Si)??{},Pn=Ei($i)??{},br={url:uo({}),page:uo({}),navigating:sr(null),updated:Hc()};function Is(e){Gr[e]=Ns()}function hu(e,t){let r=e+1;for(;Gr[r];)delete Gr[r],r+=1;for(r=t+1;Pn[r];)delete Pn[r],r+=1}function an(e){return location.href=e.href,new Promise(()=>{})}async function Pi(){if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration(ar||"/");e&&await e.update()}}function vo(){}let Ps,as,ga,xr,ss,dt;const _a=[],ya=[];let er=null;const ea=new Map,Li=new Set,gu=new Set,kn=new Set;let Ze={branch:[],error:null,url:null},Ls=!1,ma=!1,po=!0,Ln=!1,pn=!1,Ri=!1,Rs=!1,Mi,Nt,tr,jr;const En=new Set;async function L0(e,t,r){var s,o,i,l;document.URL!==location.href&&(location.href=location.href),dt=e,await((o=(s=e.hooks).init)==null?void 0:o.call(s)),Ps=Gc(e),xr=document.documentElement,ss=t,as=e.nodes[0],ga=e.nodes[1],as(),ga(),Nt=(i=history.state)==null?void 0:i[Zr],tr=(l=history.state)==null?void 0:l[On],Nt||(Nt=tr=Date.now(),history.replaceState({...history.state,[Zr]:Nt,[On]:tr},""));const n=Gr[Nt];n&&(history.scrollRestoration="manual",scrollTo(n.x,n.y)),r?await Au(ss,r):await Eu(dt.hash?Nu(new URL(location.href)):location.href,{replaceState:!0}),Su()}function _u(){_a.length=0,Rs=!1}function Di(e){ya.some(t=>t==null?void 0:t.snapshot)&&(Pn[e]=ya.map(t=>{var r;return(r=t==null?void 0:t.snapshot)==null?void 0:r.capture()}))}function Fi(e){var t;(t=Pn[e])==null||t.forEach((r,n)=>{var s,o;(o=(s=ya[n])==null?void 0:s.snapshot)==null||o.restore(r)})}function ho(){Is(Nt),lo(Si,Gr),Di(tr),lo($i,Pn)}async function Ms(e,t,r,n){return sa({type:"goto",url:Ci(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:r,nav_token:n,accept:()=>{t.invalidateAll&&(Rs=!0),t.invalidate&&t.invalidate.forEach($u)}})}async function yu(e){if(e.id!==(er==null?void 0:er.id)){const t={};En.add(t),er={id:e.id,token:t,promise:Ui({...e,preload:t}).then(r=>(En.delete(t),r.type==="loaded"&&r.state.error&&(er=null),r))}}return er.promise}async function Ba(e){var r;const t=(r=await Pa(e,!1))==null?void 0:r.route;t&&await Promise.all([...t.layouts,t.leaf].map(n=>n==null?void 0:n[1]()))}function zi(e,t,r){var o;Ze=e.state;const n=document.querySelector("style[data-sveltekit]");n&&n.remove(),Object.assign(Tt,e.props.page),Mi=new dt.root({target:t,props:{...e.props,stores:br,components:ya},hydrate:r,sync:!1}),Fi(tr);const s={from:null,to:{params:Ze.params,route:{id:((o=Ze.route)==null?void 0:o.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};kn.forEach(i=>i(s)),ma=!0}function xa({url:e,params:t,branch:r,status:n,error:s,route:o,form:i}){let l="never";if(ar&&(e.pathname===ar||e.pathname===ar+"/"))l="always";else for(const g of r)(g==null?void 0:g.slash)!==void 0&&(l=g.slash);e.pathname=Tc(e.pathname,l),e.search=e.search;const c={type:"loaded",state:{url:e,params:t,branch:r,error:s,route:o},props:{constructors:su(r).map(g=>g.node.component),page:zs(Tt)}};i!==void 0&&(c.props.form=i);let u={},v=!Tt,p=0;for(let g=0;g<Math.max(r.length,Ze.branch.length);g+=1){const x=r[g],k=Ze.branch[g];(x==null?void 0:x.data)!==(k==null?void 0:k.data)&&(v=!0),x&&(u={...u,...x.data},v&&(c.props[`data_${p}`]=u),p+=1)}return(!Ze.url||e.href!==Ze.url.href||Ze.error!==s||i!==void 0&&i!==Tt.form||v)&&(c.props.page={error:s,params:t,route:{id:(o==null?void 0:o.id)??null},state:{},status:n,url:new URL(e),form:i??null,data:v?u:Tt.data}),c}async function Ds({loader:e,parent:t,url:r,params:n,route:s,server_data_node:o}){var v,p,h;let i=null,l=!0;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},u=await e();if((v=u.universal)!=null&&v.load){let g=function(...k){for(const w of k){const{href:I}=new URL(w,r);c.dependencies.add(I)}};const x={route:new Proxy(s,{get:(k,w)=>(l&&(c.route=!0),k[w])}),params:new Proxy(n,{get:(k,w)=>(l&&c.params.add(w),k[w])}),data:(o==null?void 0:o.data)??null,url:Pc(r,()=>{l&&(c.url=!0)},k=>{l&&c.search_params.add(k)},dt.hash),async fetch(k,w){k instanceof Request&&(w={body:k.method==="GET"||k.method==="HEAD"?void 0:await k.blob(),cache:k.cache,credentials:k.credentials,headers:[...k.headers].length?k.headers:void 0,integrity:k.integrity,keepalive:k.keepalive,method:k.method,mode:k.mode,redirect:k.redirect,referrer:k.referrer,referrerPolicy:k.referrerPolicy,signal:k.signal,...w});const{resolved:I,promise:F}=ji(k,w,r);return l&&g(I.href),F},setHeaders:()=>{},depends:g,parent(){return l&&(c.parent=!0),t()},untrack(k){l=!1;try{return k()}finally{l=!0}}};i=await u.universal.load.call(null,x)??null}return{node:u,loader:e,server:o,universal:(p=u.universal)!=null&&p.load?{type:"data",data:i,uses:c}:null,data:i??(o==null?void 0:o.data)??null,slash:((h=u.universal)==null?void 0:h.trailingSlash)??(o==null?void 0:o.slash)}}function ji(e,t,r){let n=e instanceof Request?e.url:e;const s=new URL(n,r);s.origin===r.origin&&(n=s.href.slice(r.origin.length));const o=ma?Fc(n,s.href,t):Dc(n,t);return{resolved:s,promise:o}}function go(e,t,r,n,s,o){if(Rs)return!0;if(!s)return!1;if(s.parent&&e||s.route&&t||s.url&&r)return!0;for(const i of s.search_params)if(n.has(i))return!0;for(const i of s.params)if(o[i]!==Ze.params[i])return!0;for(const i of s.dependencies)if(_a.some(l=>l(new URL(i))))return!0;return!1}function Fs(e,t){return(e==null?void 0:e.type)==="data"?e:(e==null?void 0:e.type)==="skip"?t??null:null}function mu(e,t){if(!e)return new Set(t.searchParams.keys());const r=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(const n of r){const s=e.searchParams.getAll(n),o=t.searchParams.getAll(n);s.every(i=>o.includes(i))&&o.every(i=>s.includes(i))&&r.delete(n)}return r}function _o({error:e,url:t,route:r,params:n}){return{type:"loaded",state:{error:e,url:t,route:r,params:n,branch:[]},props:{page:zs(Tt),constructors:[]}}}async function Ui({id:e,invalidating:t,url:r,params:n,route:s,preload:o}){if((er==null?void 0:er.id)===e)return En.delete(er.token),er.promise;const{errors:i,layouts:l,leaf:c}=s,u=[...l,c];i.forEach($=>$==null?void 0:$().catch(()=>{})),u.forEach($=>$==null?void 0:$[1]().catch(()=>{}));let v=null;const p=Ze.url?e!==wa(Ze.url):!1,h=Ze.route?s.id!==Ze.route.id:!1,g=mu(Ze.url,r);let x=!1;const k=u.map(($,C)=>{var H;const U=Ze.branch[C],M=!!($!=null&&$[0])&&((U==null?void 0:U.loader)!==$[1]||go(x,h,p,g,(H=U.server)==null?void 0:H.uses,n));return M&&(x=!0),M});if(k.some(Boolean)){try{v=await Gi(r,k)}catch($){const C=await Qr($,{url:r,params:n,route:{id:e}});return En.has(o)?_o({error:C,url:r,params:n,route:s}):Ia({status:ha($),error:C,url:r,route:s})}if(v.type==="redirect")return v}const w=v==null?void 0:v.nodes;let I=!1;const F=u.map(async($,C)=>{var re;if(!$)return;const U=Ze.branch[C],M=w==null?void 0:w[C];if((!M||M.type==="skip")&&$[1]===(U==null?void 0:U.loader)&&!go(I,h,p,g,(re=U.universal)==null?void 0:re.uses,n))return U;if(I=!0,(M==null?void 0:M.type)==="error")throw M;return Ds({loader:$[1],url:r,params:n,route:s,parent:async()=>{var K;const ee={};for(let ne=0;ne<C;ne+=1)Object.assign(ee,(K=await F[ne])==null?void 0:K.data);return ee},server_data_node:Fs(M===void 0&&$[0]?{type:"skip"}:M??null,$[0]?U==null?void 0:U.server:void 0)})});for(const $ of F)$.catch(()=>{});const N=[];for(let $=0;$<u.length;$+=1)if(u[$])try{N.push(await F[$])}catch(C){if(C instanceof Ts)return{type:"redirect",location:C.location};if(En.has(o))return _o({error:await Qr(C,{params:n,url:r,route:{id:s.id}}),url:r,params:n,route:s});let U=ha(C),M;if(w!=null&&w.includes(C))U=C.status??U,M=C.error;else if(C instanceof Oa)M=C.body;else{if(await br.updated.check())return await Pi(),await an(r);M=await Qr(C,{params:n,url:r,route:{id:s.id}})}const H=await xu($,N,i);return H?xa({url:r,params:n,branch:N.slice(0,H.idx).concat(H.node),status:U,error:M,route:s}):await Bi(r,{id:s.id},M,U)}else N.push(void 0);return xa({url:r,params:n,branch:N,status:200,error:null,route:s,form:t?void 0:null})}async function xu(e,t,r){for(;e--;)if(r[e]){let n=e;for(;!t[n];)n-=1;try{return{idx:n+1,node:{node:await r[e](),loader:r[e],data:{},server:null,universal:null}}}catch{continue}}}async function Ia({status:e,error:t,url:r,route:n}){const s={};let o=null;if(dt.server_loads[0]===0)try{const l=await Gi(r,[!0]);if(l.type!=="data"||l.nodes[0]&&l.nodes[0].type!=="data")throw 0;o=l.nodes[0]??null}catch{(r.origin!==Xn||r.pathname!==location.pathname||Ls)&&await an(r)}try{const l=await Ds({loader:as,url:r,params:s,route:n,parent:()=>Promise.resolve({}),server_data_node:Fs(o)}),c={node:await ga(),loader:ga,universal:null,server:null,data:null};return xa({url:r,params:s,branch:[l,c],status:e,error:t,route:null})}catch(l){if(l instanceof Ts)return Ms(new URL(l.location,location.href),{},0);throw l}}async function wu(e){const t=e.href;if(ea.has(t))return ea.get(t);let r;try{const n=(async()=>{let s=await dt.hooks.reroute({url:new URL(e),fetch:async(o,i)=>ji(o,i,e).promise})??e;if(typeof s=="string"){const o=new URL(e);dt.hash?o.hash=s:o.pathname=s,s=o}return s})();ea.set(t,n),r=await n}catch{ea.delete(t);return}return r}async function Pa(e,t){if(e&&!Ta(e,ar,dt.hash)){const r=await wu(e);if(!r)return;const n=bu(r);for(const s of Ps){const o=s.exec(n);if(o)return{id:wa(e),invalidating:t,route:s,params:Ic(o),url:e}}}}function bu(e){return Oc(dt.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(ar.length))||"/"}function wa(e){return(dt.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function qi({url:e,type:t,intent:r,delta:n}){let s=!1;const o=Wi(Ze,r,e,t);n!==void 0&&(o.navigation.delta=n);const i={...o.navigation,cancel:()=>{s=!0,o.reject(new Error("navigation cancelled"))}};return Ln||Li.forEach(l=>l(i)),s?null:o}async function sa({type:e,url:t,popped:r,keepfocus:n,noscroll:s,replace_state:o,state:i={},redirect_count:l=0,nav_token:c={},accept:u=vo,block:v=vo}){const p=jr;jr=c;const h=await Pa(t,!1),g=qi({url:t,type:e,delta:r==null?void 0:r.delta,intent:h});if(!g){v(),jr===c&&(jr=p);return}const x=Nt,k=tr;u(),Ln=!0,ma&&br.navigating.set(In.current=g.navigation);let w=h&&await Ui(h);if(!w){if(Ta(t,ar,dt.hash))return await an(t);w=await Bi(t,{id:null},await Qr(new Os(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=(h==null?void 0:h.url)||t,jr!==c)return g.reject(new Error("navigation aborted")),!1;if(w.type==="redirect")if(l>=20)w=await Ia({status:500,error:await Qr(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}});else return await Ms(new URL(w.location,t).href,{},l+1,c),!1;else w.props.page.status>=400&&await br.updated.check()&&(await Pi(),await an(t));if(_u(),Is(x),Di(k),w.props.page.url.pathname!==t.pathname&&(t.pathname=w.props.page.url.pathname),i=r?r.state:i,!r){const $=o?0:1,C={[Zr]:Nt+=$,[On]:tr+=$,[Ai]:i};(o?history.replaceState:history.pushState).call(history,C,"",t),o||hu(Nt,tr)}if(er=null,w.props.page.state=i,ma){Ze=w.state,w.props.page&&(w.props.page.url=t);const $=(await Promise.all(Array.from(gu,C=>C(g.navigation)))).filter(C=>typeof C=="function");if($.length>0){let C=function(){$.forEach(U=>{kn.delete(U)})};$.push(C),$.forEach(U=>{kn.add(U)})}Mi.$set(w.props),uu(w.props.page),Ri=!0}else zi(w,ss,!1);const{activeElement:I}=document;await li();const F=r?r.scroll:s?Ns():null;if(po){const $=t.hash&&document.getElementById(decodeURIComponent(dt.hash?t.hash.split("#")[2]??"":t.hash.slice(1)));F?scrollTo(F.x,F.y):$?$.scrollIntoView():scrollTo(0,0)}const N=document.activeElement!==I&&document.activeElement!==document.body;!n&&!N&&Cu(),po=!0,w.props.page&&Object.assign(Tt,w.props.page),Ln=!1,e==="popstate"&&Fi(tr),g.fulfil(void 0),kn.forEach($=>$(g.navigation)),br.navigating.set(In.current=null)}async function Bi(e,t,r,n){return e.origin===Xn&&e.pathname===location.pathname&&!Ls?await Ia({status:n,error:r,url:e,route:t}):await an(e)}function ku(){let e,t,r;xr.addEventListener("mousemove",l=>{const c=l.target;clearTimeout(e),e=setTimeout(()=>{o(c,zr.hover)},20)});function n(l){l.defaultPrevented||o(l.composedPath()[0],zr.tap)}xr.addEventListener("mousedown",n),xr.addEventListener("touchstart",n,{passive:!0});const s=new IntersectionObserver(l=>{for(const c of l)c.isIntersecting&&(Ba(new URL(c.target.href)),s.unobserve(c.target))},{threshold:0});async function o(l,c){const u=Ti(l,xr),v=u===t&&c>=r;if(!u||v)return;const{url:p,external:h,download:g}=ns(u,ar,dt.hash);if(h||g)return;const x=pa(u),k=p&&wa(Ze.url)===wa(p);if(!(x.reload||k))if(c<=x.preload_data){t=u,r=zr.tap;const w=await Pa(p,!1);if(!w)return;yu(w)}else c<=x.preload_code&&(t=u,r=c,Ba(p))}function i(){s.disconnect();for(const l of xr.querySelectorAll("a")){const{url:c,external:u,download:v}=ns(l,ar,dt.hash);if(u||v)continue;const p=pa(l);p.reload||(p.preload_code===zr.viewport&&s.observe(l),p.preload_code===zr.eager&&Ba(c))}}kn.add(i),i()}function Qr(e,t){if(e instanceof Oa)return e.body;const r=ha(e),n=lu(e);return dt.hooks.handleError({error:e,event:t,status:r,message:n})??{message:n}}function Eu(e,t={}){return e=new URL(Ci(e)),e.origin!==Xn?Promise.reject(new Error("goto: invalid URL")):Ms(e,t,0)}function $u(e){if(typeof e=="function")_a.push(e);else{const{href:t}=new URL(e,location.href);_a.push(r=>r.href===t)}}function Su(){var t;history.scrollRestoration="manual",addEventListener("beforeunload",r=>{let n=!1;if(ho(),!Ln){const s=Wi(Ze,void 0,null,"leave"),o={...s.navigation,cancel:()=>{n=!0,s.reject(new Error("navigation cancelled"))}};Li.forEach(i=>i(o))}n?(r.preventDefault(),r.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&ho()}),(t=navigator.connection)!=null&&t.saveData||ku(),xr.addEventListener("click",async r=>{if(r.button||r.which!==1||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.defaultPrevented)return;const n=Ti(r.composedPath()[0],xr);if(!n)return;const{url:s,external:o,target:i,download:l}=ns(n,ar,dt.hash);if(!s)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;const c=pa(n);if(!(n instanceof SVGAElement)&&s.protocol!==location.protocol&&!(s.protocol==="https:"||s.protocol==="http:")||l)return;const[v,p]=(dt.hash?s.hash.replace(/^#/,""):s.href).split("#"),h=v===ja(location);if(o||c.reload&&(!h||!p)){qi({url:s,type:"link"})?Ln=!0:r.preventDefault();return}if(p!==void 0&&h){const[,g]=Ze.url.href.split("#");if(g===p){if(r.preventDefault(),p===""||p==="top"&&n.ownerDocument.getElementById("top")===null)window.scrollTo({top:0});else{const x=n.ownerDocument.getElementById(decodeURIComponent(p));x&&(x.scrollIntoView(),x.focus())}return}if(pn=!0,Is(Nt),e(s),!c.replace_state)return;pn=!1}r.preventDefault(),await new Promise(g=>{requestAnimationFrame(()=>{setTimeout(g,0)}),setTimeout(g,100)}),await sa({type:"link",url:s,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??s.href===location.href})}),xr.addEventListener("submit",r=>{if(r.defaultPrevented)return;const n=HTMLFormElement.prototype.cloneNode.call(r.target),s=r.submitter;if(((s==null?void 0:s.formTarget)||n.target)==="_blank"||((s==null?void 0:s.formMethod)||n.method)!=="get")return;const l=new URL((s==null?void 0:s.hasAttribute("formaction"))&&(s==null?void 0:s.formAction)||n.action);if(Ta(l,ar,!1))return;const c=r.target,u=pa(c);if(u.reload)return;r.preventDefault(),r.stopPropagation();const v=new FormData(c),p=s==null?void 0:s.getAttribute("name");p&&v.append(p,(s==null?void 0:s.getAttribute("value"))??""),l.search=new URLSearchParams(v).toString(),sa({type:"form",url:l,keepfocus:u.keepfocus,noscroll:u.noscroll,replace_state:u.replace_state??l.href===location.href})}),addEventListener("popstate",async r=>{var n;if((n=r.state)!=null&&n[Zr]){const s=r.state[Zr];if(jr={},s===Nt)return;const o=Gr[s],i=r.state[Ai]??{},l=new URL(r.state[Jc]??location.href),c=r.state[On],u=Ze.url?ja(location)===ja(Ze.url):!1;if(c===tr&&(Ri||u)){i!==Tt.state&&(Tt.state=i),e(l),Gr[Nt]=Ns(),o&&scrollTo(o.x,o.y),Nt=s;return}const p=s-Nt;await sa({type:"popstate",url:l,popped:{state:i,scroll:o,delta:p},accept:()=>{Nt=s,tr=c},block:()=>{history.go(-p)},nav_token:jr})}else if(!pn){const s=new URL(location.href);e(s),dt.hash&&location.reload()}}),addEventListener("hashchange",()=>{pn&&(pn=!1,history.replaceState({...history.state,[Zr]:++Nt,[On]:tr},"",location.href))});for(const r of document.querySelectorAll("link"))pu.has(r.rel)&&(r.href=r.href);addEventListener("pageshow",r=>{r.persisted&&br.navigating.set(In.current=null)});function e(r){Ze.url=Tt.url=r,br.page.set(zs(Tt)),br.page.notify()}}async function Au(e,{status:t=200,error:r,node_ids:n,params:s,route:o,server_route:i,data:l,form:c}){Ls=!0;const u=new URL(location.href);let v;({params:s={},route:o={id:null}}=await Pa(u,!1)||{}),v=Ps.find(({id:g})=>g===o.id);let p,h=!0;try{const g=n.map(async(k,w)=>{const I=l[w];return I!=null&&I.uses&&(I.uses=Vi(I.uses)),Ds({loader:dt.nodes[k],url:u,params:s,route:o,parent:async()=>{const F={};for(let N=0;N<w;N+=1)Object.assign(F,(await g[N]).data);return F},server_data_node:Fs(I)})}),x=await Promise.all(g);if(v){const k=v.layouts;for(let w=0;w<k.length;w++)k[w]||x.splice(w,0,void 0)}p=xa({url:u,params:s,branch:x,status:t,error:r,form:c,route:v??null})}catch(g){if(g instanceof Ts){await an(new URL(g.location,location.href));return}p=await Ia({status:ha(g),error:await Qr(g,{url:u,params:s,route:o}),url:u,route:o}),e.textContent="",h=!1}p.props.page&&(p.props.page.state={}),zi(p,e,h)}async function Gi(e,t){var o;const r=new URL(e);r.pathname=vu(e.pathname),e.pathname.endsWith("/")&&r.searchParams.append(iu,"1"),r.searchParams.append(ou,t.map(i=>i?"1":"0").join(""));const n=window.fetch,s=await n(r.href,{});if(!s.ok){let i;throw(o=s.headers.get("content-type"))!=null&&o.includes("application/json")?i=await s.json():s.status===404?i="Not Found":s.status===500&&(i="Internal Error"),new Oa(s.status,i)}return new Promise(async i=>{var h;const l=new Map,c=s.body.getReader(),u=new TextDecoder;function v(g){return nu(g,{...dt.decoders,Promise:x=>new Promise((k,w)=>{l.set(x,{fulfil:k,reject:w})})})}let p="";for(;;){const{done:g,value:x}=await c.read();if(g&&!p)break;for(p+=!x&&p?`
`:u.decode(x,{stream:!0});;){const k=p.indexOf(`
`);if(k===-1)break;const w=JSON.parse(p.slice(0,k));if(p=p.slice(k+1),w.type==="redirect")return i(w);if(w.type==="data")(h=w.nodes)==null||h.forEach(I=>{(I==null?void 0:I.type)==="data"&&(I.uses=Vi(I.uses),I.data=v(I.data))}),i(w);else if(w.type==="chunk"){const{id:I,data:F,error:N}=w,$=l.get(I);l.delete(I),N?$.reject(v(N)):$.fulfil(v(F))}}}})}function Vi(e){return{dependencies:new Set((e==null?void 0:e.dependencies)??[]),params:new Set((e==null?void 0:e.params)??[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url),search_params:new Set((e==null?void 0:e.search_params)??[])}}function Cu(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const t=document.body,r=t.getAttribute("tabindex");t.tabIndex=-1,t.focus({preventScroll:!0,focusVisible:!1}),r!==null?t.setAttribute("tabindex",r):t.removeAttribute("tabindex");const n=getSelection();if(n&&n.type!=="None"){const s=[];for(let o=0;o<n.rangeCount;o+=1)s.push(n.getRangeAt(o));setTimeout(()=>{if(n.rangeCount===s.length){for(let o=0;o<n.rangeCount;o+=1){const i=s[o],l=n.getRangeAt(o);if(i.commonAncestorContainer!==l.commonAncestorContainer||i.startContainer!==l.startContainer||i.endContainer!==l.endContainer||i.startOffset!==l.startOffset||i.endOffset!==l.endOffset)return}n.removeAllRanges()}})}}}function Wi(e,t,r,n){var c,u;let s,o;const i=new Promise((v,p)=>{s=v,o=p});return i.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:((c=e.route)==null?void 0:c.id)??null},url:e.url},to:r&&{params:(t==null?void 0:t.params)??null,route:{id:((u=t==null?void 0:t.route)==null?void 0:u.id)??null},url:r},willUnload:!t,type:n,complete:i},fulfil:s,reject:o}}function zs(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function Nu(e){const t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}const Tu="modulepreload",Ou=function(e){return"/"+e},yo={},Dr=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ou(c),c in yo)return;yo[c]=!0;const u=c.endsWith(".css"),v=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Tu,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},R0={},Iu="5";var Io;typeof window<"u"&&((Io=window.__svelte??(window.__svelte={})).v??(Io.v=new Set)).add(Iu);var Pu=A('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),Lu=A("<!> <!>",1);function Ru(e,t){Qe(t,!0);let r=oe(t,"components",23,()=>[]),n=oe(t,"data_0",3,null),s=oe(t,"data_1",3,null);Jo(()=>t.stores.page.set(t.page)),la(()=>{t.stores,t.page,t.constructors,r(),t.form,n(),s(),t.stores.page.notify()});let o=ot(!1),i=ot(!1),l=ot(null);dr(()=>{const k=t.stores.page.subscribe(()=>{a(o)&&(y(i,!0),li().then(()=>{y(l,document.title||"untitled page",!0)}))});return y(o,!0),k});const c=Ra(()=>t.constructors[1]);var u=Lu(),v=se(u);{var p=k=>{var w=ke();const I=Ra(()=>t.constructors[0]);var F=se(w);aa(F,()=>a(I),(N,$)=>{wn($(N,{get data(){return n()},get form(){return t.form},children:(C,U)=>{var M=ke(),H=se(M);aa(H,()=>a(c),(re,ee)=>{wn(ee(re,{get data(){return s()},get form(){return t.form}}),K=>r()[1]=K,()=>{var K;return(K=r())==null?void 0:K[1]})}),m(C,M)},$$slots:{default:!0}}),C=>r()[0]=C,()=>{var C;return(C=r())==null?void 0:C[0]})}),m(k,w)},h=k=>{var w=ke();const I=Ra(()=>t.constructors[0]);var F=se(w);aa(F,()=>a(I),(N,$)=>{wn($(N,{get data(){return n()},get form(){return t.form}}),C=>r()[0]=C,()=>{var C;return(C=r())==null?void 0:C[0]})}),m(k,w)};R(v,k=>{t.constructors[1]?k(p):k(h,!1)})}var g=_(v,2);{var x=k=>{var w=Pu(),I=f(w);{var F=N=>{var $=Ht();B(()=>V($,a(l))),m(N,$)};R(I,N=>{a(i)&&N(F)})}d(w),m(k,w)};R(g,k=>{a(o)&&k(x)})}m(e,u),et()}const M0=$c(Ru),D0=[()=>Dr(()=>Promise.resolve().then(()=>fd),void 0),()=>Dr(()=>Promise.resolve().then(()=>gd),void 0),()=>Dr(()=>Promise.resolve().then(()=>pf),void 0),()=>Dr(()=>Promise.resolve().then(()=>Df),void 0),()=>Dr(()=>Promise.resolve().then(()=>dv),void 0),()=>Dr(()=>Promise.resolve().then(()=>Av),void 0),()=>Dr(()=>Promise.resolve().then(()=>C0),void 0)],F0=[],z0={"/":[2],"/config":[3],"/lighting":[4],"/macros":[5],"/settings":[6]},Mu={handleError:({error:e})=>{console.error(e)},reroute:()=>{},transport:{}},Du=Object.fromEntries(Object.entries(Mu.transport).map(([e,t])=>[e,t.decode])),j0=!1,U0=(e,t)=>Du[e](t),Fu=!1,zu=!1,ju=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fu,ssr:zu},Symbol.toStringTag,{value:"Module"}));xl();const Ji=()=>{const e=localStorage.getItem("theme");return e==="light"||e==="dark"?e:"light"},os=sr(Ji());document.documentElement.setAttribute("data-theme",Ji()),os.subscribe(e=>{localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)});/**
 * @license lucide-svelte v0.483.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Uu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var qu=sc("<svg><!><!></svg>");function st(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]),n=Ke(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Qe(t,!1);let s=oe(t,"name",8,void 0),o=oe(t,"color",8,"currentColor"),i=oe(t,"size",8,24),l=oe(t,"strokeWidth",8,2),c=oe(t,"absoluteStrokeWidth",8,!1),u=oe(t,"iconNode",24,()=>[]);const v=(...k)=>k.filter((w,I,F)=>!!w&&F.indexOf(w)===I).join(" ");ft();var p=qu();let h;var g=f(p);rt(g,1,u,tt,(k,w)=>{let I=()=>a(w)[0],F=()=>a(w)[1];var N=ke(),$=se(N);dc($,I,!0,(C,U)=>{let M;B(()=>M=ts(C,M,{...F()}))}),m(k,N)});var x=_(g);Ve(x,t,"default",{}),d(p),B((k,w)=>h=ts(p,h,{...Uu,...n,width:i(),height:i(),stroke:o(),"stroke-width":k,class:w}),[()=>c()?Number(l())*24/Number(i()):l(),()=>v("lucide-icon","lucide",s()?`lucide-${s()}`:"",r.class)],Ne),m(e,p),et()}function Bu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"code"},()=>r,{iconNode:[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Gu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"cpu"},()=>r,{iconNode:[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1"}],["path",{d:"M15 2v2"}],["path",{d:"M15 20v2"}],["path",{d:"M2 15h2"}],["path",{d:"M2 9h2"}],["path",{d:"M20 15h2"}],["path",{d:"M20 9h2"}],["path",{d:"M9 2v2"}],["path",{d:"M9 20v2"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Xr(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"download"},()=>r,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Vu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"file-json"},()=>r,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Hi(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"file-text"},()=>r,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function js(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"info"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function is(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"keyboard"},()=>r,{iconNode:[["path",{d:"M10 8h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M14 8h.01"}],["path",{d:"M16 12h.01"}],["path",{d:"M18 8h.01"}],["path",{d:"M6 8h.01"}],["path",{d:"M7 16h10"}],["path",{d:"M8 12h.01"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Wu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"layers"},()=>r,{iconNode:[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Ki(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"lightbulb"},()=>r,{iconNode:[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Ju(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"monitor-smartphone"},()=>r,{iconNode:[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8"}],["path",{d:"M10 19v-3.96 3.15"}],["path",{d:"M7 19h5"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Hu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"moon"},()=>r,{iconNode:[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Ku(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"pen"},()=>r,{iconNode:[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Yu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"play"},()=>r,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Yi(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"plus"},()=>r,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Ur(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"refresh-cw"},()=>r,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function hn(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"rotate-ccw"},()=>r,{iconNode:[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Xu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"rotate-cw"},()=>r,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function $n(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"save"},()=>r,{iconNode:[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Zu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"settings"},()=>r,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function Qu(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"sliders-vertical"},()=>r,{iconNode:[["line",{x1:"4",x2:"4",y1:"21",y2:"14"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function ed(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"sun"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}function td(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]);st(e,at({name:"x"},()=>r,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(s,o)=>{var i=ke(),l=se(i);Ve(l,t,"default",{}),m(s,i)},$$slots:{default:!0}}))}var rd=A('<button type="button" style="display: flex; align-items: center; justify-content: center; padding: 0.5rem; border-radius: 0.25rem; color: var(--text-secondary);"><!></button>');function nd(e,t){Qe(t,!1);const[r,n]=un(),s=()=>nr(os,"$theme",r);function o(){os.update(v=>v==="dark"?"light":"dark")}ft();var i=rd(),l=f(i);{var c=v=>{ed(v,{size:18})},u=v=>{Hu(v,{size:18})};R(l,v=>{s()==="dark"?v(c):v(u,!1)})}d(i),B(()=>$r(i,"aria-label",s()==="dark"?"Switch to light mode":"Switch to dark mode")),D("click",i,o),m(e,i),et(),n()}var ad=A('<button style="margin-left: 0.5rem; padding: 0.25rem; color: var(--text-secondary);" aria-label="Reconnect"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2v6h-6"></path><path d="M3 12a9 9 0 0 1 15-6.7l3-3"></path><path d="M3 22v-6h6"></path><path d="M21 12a9 9 0 0 1-15 6.7l-3 3"></path></svg></button>'),sd=A('<header class="header"><div class="container"><div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 0;"><a href="/" style="font-size: 1.5rem; font-weight: bold;">Ocho Labs</a> <div style="display: flex; align-items: center; gap: 1rem;"><div style="display: flex; align-items: center;"><span aria-hidden="true"></span> <span style="font-size: 0.875rem; color: var(--text-secondary);"> </span> <!></div> <!></div></div> <nav class="nav" style="margin: 1rem 0;"><a href="/" class="nav-link"><!> <span>Macropad</span></a> <a href="/macros" class="nav-link"><!> <span>Macros</span></a> <a href="/lighting" class="nav-link"><!> <span>Lighting</span></a> <a href="/settings" class="nav-link"><!> <span>Settings</span></a> <a href="/config" class="nav-link"><!> <span>Raw Config</span></a></nav></div></header>');function od(e,t){let r=oe(t,"connected",8,!1);function n(){console.log("Attempting to reconnect...")}var s=sd(),o=f(s),i=f(o),l=_(f(i),2),c=f(l),u=f(c),v=_(u,2),p=f(v,!0);d(v);var h=_(v,2);{var g=ee=>{var K=ad();D("click",K,n),m(ee,K)};R(h,ee=>{r()||ee(g)})}d(c);var x=_(c,2);nd(x,{}),d(l),d(i);var k=_(i,2),w=f(k),I=f(w);is(I,{size:18}),me(2),d(w);var F=_(w,2),N=f(F);Wu(N,{size:18}),me(2),d(F);var $=_(F,2),C=f($);Ki(C,{size:18}),me(2),d($);var U=_($,2),M=f(U);Zu(M,{size:18}),me(2),d(U);var H=_(U,2),re=f(H);Vu(re,{size:18}),me(2),d(H),d(k),d(o),d(s),B(()=>{_r(u,`height: 10px; width: 10px; border-radius: 50%; margin-right: 0.5rem; 
						background-color: ${(r()?"#22c55e":"#ef4444")??""};`),V(p,r()?"Connected":"Disconnected")}),m(e,s)}const id={connected:!0,lastConnected:new Date,status:"mock",error:null,usingMockData:!0},Us=sr(id);localStorage.setItem("useMockData","true");function Et(e,t=null){localStorage.getItem("useMockData")==="true"&&e!=="mock"&&(e="mock"),Us.update(r=>{const n={...r,status:e,error:t};return e==="connected"?(n.connected=!0,n.lastConnected=new Date,n.usingMockData=!1):e==="disconnected"?(n.connected=!1,n.usingMockData=!1):e==="mock"&&(n.connected=!0,n.lastConnected=new Date,n.usingMockData=!0),n})}var ld=A('<div class="mock-data-badge svelte-gkixib" title="Using mock data - not connected to a real device">MOCK DATA</div>');function cd(e,t){Qe(t,!1);const[r,n]=un(),s=()=>nr(Us,"$connection",r),o=localStorage.getItem("useMockData")==="true";ft();var i=ke(),l=se(i);{var c=u=>{var v=ld();m(u,v)};R(l,u=>{(s().usingMockData||o)&&u(c)})}m(e,i),et(),n()}var ud=A('<div class="app svelte-1lrgwj8"><!> <main class="main container svelte-1lrgwj8"><!></main> <footer class="footer"><div class="container">Ocho Labs Snap3r Configuration Tool</div></footer> <!></div>');function dd(e,t){Qe(t,!1);const[r,n]=un(),s=()=>nr(Us,"$connection",r);let o=G(!1);wt(()=>s(),()=>{y(o,s().connected)}),Cr(),ft();var i=ud(),l=f(i);od(l,{get connected(){return a(o)}});var c=_(l,2),u=f(c);Ve(u,t,"default",{}),d(c);var v=_(c,4);cd(v,{}),d(i),m(e,i),et(),n()}const fd=Object.freeze(Object.defineProperty({__proto__:null,component:dd,universal:ju},Symbol.toStringTag,{value:"Module"})),vd={get error(){return Tt.error},get status(){return Tt.status}};br.updated.check;const mo=vd;var pd=A("<h1> </h1> <p> </p>",1);function hd(e,t){Qe(t,!1),ft();var r=pd(),n=se(r),s=f(n,!0);d(n);var o=_(n,2),i=f(o,!0);d(o),B(()=>{var l;V(s,mo.status),V(i,(l=mo.error)==null?void 0:l.message)}),m(e,r),et()}const gd=Object.freeze(Object.defineProperty({__proto__:null,component:hd},Symbol.toStringTag,{value:"Module"})),ve={CONFIG:{COMPONENTS:"/api/config/components",ACTIONS:"/api/config/actions",EXAMPLE:"/api/config/example",INFO:"/api/config/info",LEDS:"/api/config/leds",REPORTS:"/api/config/reports",DISPLAY:"/api/config/display"},MACROS:{GET:e=>`/api/macros/${e}`,LIST:"/api/macros",CREATE:"/api/macros"},WIFI:{SCAN:"/api/wifi/scan",CONFIG:"/api/config/wifi",CONNECT:"/api/wifi/connect",STATUS:"/api/status"}},_d={[ve.CONFIG.COMPONENTS]:"/mock_data/config/components.json",[ve.CONFIG.ACTIONS]:"/mock_data/config/actions.json",[ve.CONFIG.EXAMPLE]:"/mock_data/config/example.json",[ve.CONFIG.INFO]:"/mock_data/config/info.json",[ve.CONFIG.LEDS]:"/mock_data/config/leds.json",[ve.CONFIG.REPORTS]:"/mock_data/config/reports.json",[ve.CONFIG.DISPLAY]:"/mock_data/config/display.json",[ve.WIFI.STATUS]:"/mock_data/config/status.json",[ve.MACROS.LIST]:"/mock_data/macros/index.json"},Xi=e=>e.startsWith("/api/macros/")&&e!=="/api/macros"?`/mock_data/macros/${e.replace("/api/macros/","")}.json`:_d[e]||null,xo=async e=>{const t=Xi(e);if(!t)throw new Error(`No mock data available for endpoint: ${e}`);try{console.log(`Fetching mock data from ${t}`);const r=await fetch(t);if(!r.ok)throw console.error(`Failed to fetch mock data: ${r.status} ${r.statusText}`),new Error(`Failed to fetch mock data from ${t}`);return await r.json()}catch(r){if(console.error(`Error fetching mock data for ${e}:`,r),e===ve.CONFIG.INFO)return console.log("Using hardcoded fallback for INFO endpoint"),{name:"Modular Macropad (Mock)",version:"1.0.0-mock",device_id:"MOCK-123456",features:["keys","encoders","leds","display"],status:"ready"};if(e===ve.CONFIG.COMPONENTS)return console.log("Using hardcoded fallback for COMPONENTS endpoint"),{rows:3,cols:3,encoders:2,leds:9,display:!0};if(e===ve.CONFIG.ACTIONS)return console.log("Using hardcoded fallback for ACTIONS endpoint"),{actions:[{id:"press",name:"Press",type:"key"},{id:"release",name:"Release",type:"key"},{id:"type",name:"Type",type:"text"}]};throw r}},wo=e=>Xi(e)!==null,yd="",md=1e4,gn=3,bo=1e3;function ko(){return!1}const Eo={[ve.CONFIG.INFO]:{name:"Modular Macropad (Disconnected)",version:"unknown",device_id:"disconnected",features:[],status:"disconnected"},[ve.CONFIG.COMPONENTS]:{rows:3,cols:3,encoders:2,leds:9,display:!0},[ve.CONFIG.ACTIONS]:{actions:[]},[ve.CONFIG.LEDS]:{leds:{config:[]}},[ve.MACROS.LIST]:{macros:[]}};function $o(e){return e in Eo?Eo[e]:e.startsWith("/api/macros/")&&e!=="/api/macros"?{id:e.replace("/api/macros/",""),actions:[]}:{}}class ut{static async request(t,r={},n=md,s=0){if(ko()&&wo(t))try{console.log(`Using mock data for ${t}`);const c=await xo(t);return Et("mock",`Using mock data for ${t}`),c}catch(c){console.error(`Failed to load mock data for ${t}:`,c)}const o=`${yd}${t}`,i=new AbortController,l=setTimeout(()=>i.abort(),n);try{Et("connecting");const c=await fetch(o,{...r,headers:{"Content-Type":"application/json",Accept:"application/json",...r.headers},signal:i.signal});if(clearTimeout(l),!c.ok){const v=c.clone();if(c.status===501)throw Et("disconnected",`API endpoint not implemented: ${t}`),new Error(`API endpoint not implemented: ${t}. This feature might be available in a future firmware update.`);try{const p=await c.json();throw Et("disconnected",`${c.status}: ${JSON.stringify(p)}`),new Error(`API Error: ${c.status} ${c.statusText}
${JSON.stringify(p)}`)}catch{const h=await v.text();throw Et("disconnected",`${c.status}: ${h}`),new Error(`API Error: ${c.status} ${c.statusText}
${h}`)}}if(Et("connected"),c.status===204)return{};const u=c.clone();try{const v=c.headers.get("content-type");if(v&&v.includes("application/json"))return await c.json();{const p=await u.text();try{return JSON.parse(p)}catch{return p}}}catch(v){return console.warn(`Failed to parse response as JSON for ${o}:`,v),{}}}catch(c){if(clearTimeout(l),c instanceof DOMException&&c.name==="AbortError")return Et("disconnected","Request timeout"),s<gn?(console.log(`Retrying request to ${o} (attempt ${s+1}/${gn})`),await new Promise(u=>setTimeout(u,bo)),this.request(t,r,n,s+1)):(console.log(`Request failed after ${gn} retries, using fallback data`),$o(t));if(Et("disconnected",c instanceof Error?c.message:"Unknown error"),s<gn&&(c instanceof TypeError||c instanceof DOMException))return console.log(`Retrying request to ${o} (attempt ${s+1}/${gn})`),await new Promise(u=>setTimeout(u,bo)),this.request(t,r,n,s+1);if(wo(t)&&ko()){console.log(`Falling back to mock data for ${t}`);try{const u=await xo(t);return Et("mock",`Using mock data for ${t}`),u}catch(u){console.error(`Failed to load mock data for ${t}:`,u)}}return console.log(`Request failed, using fallback data for ${t}`),$o(t)}}static async get(t,r){return this.request(t,{method:"GET"},r)}static async post(t,r,n={}){let s=t;if(n.params){const o=new URLSearchParams;Object.entries(n.params).forEach(([i,l])=>{o.append(i,l)}),s+=`?${o.toString()}`}return this.request(s,{method:"POST",body:r?JSON.stringify(r):null},n.timeout)}static async put(t,r,n){return this.request(t,{method:"PUT",body:JSON.stringify(r)},n)}static async delete(t,r){return this.request(t,{method:"DELETE"},r)}static async getComponents(){return this.request(ve.CONFIG.COMPONENTS)}static async getActions(){return this.request(ve.CONFIG.ACTIONS)}static async getExample(){return this.request(ve.CONFIG.EXAMPLE)}static async getInfo(){return this.request(ve.CONFIG.INFO)}static async getLeds(){return this.request(ve.CONFIG.LEDS)}static async getReports(){return this.request(ve.CONFIG.REPORTS)}static async getDisplay(){return this.request(ve.CONFIG.DISPLAY)}static async getMacro(t){return this.request(ve.MACROS.GET(t))}static async getMacros(){return this.request(ve.MACROS.LIST)}static async scanWiFiNetworks(){return(await this.request(ve.WIFI.SCAN)).networks}static async getWiFiConfig(){return this.request(ve.WIFI.CONFIG)}static async connectToWiFi(t,r,n=!1,s=""){return this.post(ve.WIFI.CONFIG,{ssid:t,password:r,ap_mode:n,ap_name:s})}static async getSystemStatus(){return this.request(ve.WIFI.STATUS)}static async updateComponents(t){return this.request(ve.CONFIG.COMPONENTS,{method:"POST",body:JSON.stringify(t)})}static async updateActions(t){return this.request(ve.CONFIG.ACTIONS,{method:"POST",body:JSON.stringify(t)})}static async updateLeds(t){return this.request(ve.CONFIG.LEDS,{method:"POST",body:JSON.stringify(t)})}static async updateDisplay(t){return this.request(ve.CONFIG.DISPLAY,{method:"POST",body:JSON.stringify(t)})}static async saveMacro(t,r){return this.request(ve.MACROS.CREATE,{method:"POST",body:JSON.stringify(r)})}}function ta(e){const t=Math.max(0,Math.min(20,e));return Math.round(t/20*255)}function ra(e){const t=Math.max(0,Math.min(255,e));return Math.round(t/255*20)}function xd(e){const t=JSON.parse(JSON.stringify(e));if(!t||!t.leds)return t;if(t.leds.brightness!==void 0&&(t.leds.brightness=ta(t.leds.brightness)),t.leds.layers&&Array.isArray(t.leds.layers)){for(const r of t.leds.layers)if(r.brightness!==void 0&&(r.brightness=ta(r.brightness)),r["layer-config"]&&Array.isArray(r["layer-config"]))for(const n of r["layer-config"])n.brightness!==void 0&&(n.brightness=ta(n.brightness))}else if(t.leds.config&&Array.isArray(t.leds.config))for(const r of t.leds.config)r.brightness!==void 0&&(r.brightness=ta(r.brightness));return t}function wd(e){const t=JSON.parse(JSON.stringify(e));if(!t||!t.leds)return t;if(t.leds.brightness!==void 0&&(t.leds.brightness=ra(t.leds.brightness)),t.leds.layers&&Array.isArray(t.leds.layers)){for(const r of t.leds.layers)if(r.brightness!==void 0&&(r.brightness=ra(r.brightness)),r["layer-config"]&&Array.isArray(r["layer-config"]))for(const n of r["layer-config"])n.brightness!==void 0&&(n.brightness=ra(n.brightness))}else if(t.leds.config&&Array.isArray(t.leds.config))for(const r of t.leds.config)r.brightness!==void 0&&(r.brightness=ra(r.brightness));return t}class Ft{static async getComponents(){return ut.get(ve.CONFIG.COMPONENTS)}static async updateComponents(t){return ut.post(ve.CONFIG.COMPONENTS,t)}static async getActions(){return ut.get(ve.CONFIG.ACTIONS)}static async updateActions(t){return ut.post(ve.CONFIG.ACTIONS,t)}static async getExample(){return ut.get(ve.CONFIG.EXAMPLE)}static async getInfo(){return ut.get(ve.CONFIG.INFO)}static async getLeds(){const t=await ut.get(ve.CONFIG.LEDS);return wd(t)}static async updateLeds(t){const r=xd(t);return ut.post(ve.CONFIG.LEDS,r)}static async getReports(){return ut.get(ve.CONFIG.REPORTS)}static async getDisplay(){return ut.get(ve.CONFIG.DISPLAY)}static async updateDisplay(t){return ut.post(ve.CONFIG.DISPLAY,t)}static async restoreConfig(t){return ut.post("/api/config/restore",null,{params:{config:t}})}}var bd=A("<button> </button>"),kd=A('<div class="keyboard-row svelte-1phyxog"></div>'),Ed=A('<div class="keyboard svelte-1phyxog"></div>');function $d(e,t){Qe(t,!1);let r=oe(t,"selectedKey",12,null);const n=As(),s=[[{key:"esc",width:1},{key:"f1",width:1},{key:"f2",width:1},{key:"f3",width:1},{key:"f4",width:1},{key:"f5",width:1},{key:"f6",width:1},{key:"f7",width:1},{key:"f8",width:1},{key:"f9",width:1},{key:"f10",width:1},{key:"f11",width:1},{key:"f12",width:1}],[{key:"`",width:1},{key:"1",width:1},{key:"2",width:1},{key:"3",width:1},{key:"4",width:1},{key:"5",width:1},{key:"6",width:1},{key:"7",width:1},{key:"8",width:1},{key:"9",width:1},{key:"0",width:1},{key:"-",width:1},{key:"=",width:1},{key:"backspace",width:2}],[{key:"tab",width:1.5},{key:"q",width:1},{key:"w",width:1},{key:"e",width:1},{key:"r",width:1},{key:"t",width:1},{key:"y",width:1},{key:"u",width:1},{key:"i",width:1},{key:"o",width:1},{key:"p",width:1},{key:"[",width:1},{key:"]",width:1},{key:"\\",width:1.5}],[{key:"caps",width:1.75},{key:"a",width:1},{key:"s",width:1},{key:"d",width:1},{key:"f",width:1},{key:"g",width:1},{key:"h",width:1},{key:"j",width:1},{key:"k",width:1},{key:"l",width:1},{key:";",width:1},{key:"'",width:1},{key:"enter",width:2.25}],[{key:"shift",width:2.25},{key:"z",width:1},{key:"x",width:1},{key:"c",width:1},{key:"v",width:1},{key:"b",width:1},{key:"n",width:1},{key:"m",width:1},{key:",",width:1},{key:".",width:1},{key:"/",width:1},{key:"shift",width:2.75}],[{key:"ctrl",width:1.25},{key:"win",width:1.25},{key:"alt",width:1.25},{key:"space",width:6.25},{key:"alt",width:1.25},{key:"win",width:1.25},{key:"ctrl",width:1.25}]];function o(l){r(l),n("keySelect",{key:l})}ft();var i=Ed();rt(i,5,()=>s,tt,(l,c)=>{var u=kd();rt(u,5,()=>a(c),tt,(v,p)=>{let h=()=>a(p).key,g=()=>a(p).width;var x=bd();let k;var w=f(x,!0);d(x),B(I=>{k=Pe(x,1,"key svelte-1phyxog",null,k,I),_r(x,`flex: ${g()??""}`),V(w,h())},[()=>({selected:r()===h()})],Ne),D("click",x,()=>o(h())),m(v,x)}),d(u),m(l,u)}),d(i),m(e,i),et()}var Sd=A('<div class="loading svelte-7dygw5">Loading layers...</div>'),Ad=A('<div class="error svelte-7dygw5"> </div>'),Cd=A("<button> </button>"),Nd=A('<div class="no-layers svelte-7dygw5">No layers available</div>'),Td=A('<div class="loading svelte-7dygw5">Loading macropad configuration...</div>'),Od=A('<div class="error svelte-7dygw5"> </div>'),Id=A("<div> </div>"),Pd=A('<div class="macropad-grid svelte-7dygw5"></div>'),Ld=A("<button><!></button>"),Rd=A('<p class="svelte-7dygw5"> </p> <p class="svelte-7dygw5"> </p>',1),Md=A('<p class="svelte-7dygw5"><em>Not configured</em></p>'),Dd=A('<p class="svelte-7dygw5"> </p> <p class="svelte-7dygw5"> </p>',1),Fd=A('<p class="svelte-7dygw5"><em>Not configured</em></p>'),zd=A('<p class="svelte-7dygw5"> </p> <p class="svelte-7dygw5"> </p>',1),jd=A('<p class="svelte-7dygw5"><em>Not configured</em></p>'),Ud=A('<div class="encoder-details svelte-7dygw5"><h4>Encoder Bindings</h4> <div class="encoder-part-detail svelte-7dygw5"><p class="svelte-7dygw5"><strong>Clockwise:</strong></p> <!></div> <div class="encoder-part-detail svelte-7dygw5"><p class="svelte-7dygw5"><strong>Counterclockwise:</strong></p> <!></div> <div class="encoder-part-detail svelte-7dygw5"><p class="svelte-7dygw5"><strong>Button Press:</strong></p> <!></div></div>'),qd=A("<p><strong>Key:</strong> </p>"),Bd=A("<p><strong>Macro:</strong> </p>"),Gd=A("<p><strong>Clockwise:</strong> </p> <p><strong>Counterclockwise:</strong> </p> <p><strong>Button Press:</strong> </p>",1),Vd=A("<p><em>This button is configured to cycle through layers</em></p>"),Wd=A('<div class="binding-info svelte-7dygw5"><h4 class="svelte-7dygw5">Current Binding</h4> <p><strong>Type:</strong> </p> <!></div>'),Jd=A('<div class="binding-info svelte-7dygw5"><h4 class="svelte-7dygw5">Current Binding</h4> <p><em>No binding configured for this component in the current layer.</em></p></div>'),Hd=A('<div class="binding-info svelte-7dygw5"><h4 class="svelte-7dygw5">Current Binding</h4> <p><em>No binding information available</em></p></div>'),Kd=A("<p><strong>Key:</strong> </p>"),Yd=A("<p><em>None</em></p>"),Xd=A('<div class="encoder-parts-tabs svelte-7dygw5"><button>Clockwise</button> <button>Counterclockwise</button> <button>Button Press</button></div> <div class="encoder-part-config svelte-7dygw5"><h4 class="svelte-7dygw5"> </h4></div>',1),Zd=A('<div class="tab-content svelte-7dygw5"><h3 class="svelte-7dygw5">Basic Configuration</h3> <!> <div class="keyboard-section svelte-7dygw5"><h4 class="svelte-7dygw5"> </h4> <!></div></div>'),Qd=A('<div class="encoder-parts-tabs svelte-7dygw5"><button>Clockwise</button> <button>Counterclockwise</button> <button>Button Press</button></div> <div class="encoder-part-config svelte-7dygw5"><h4 class="svelte-7dygw5"> </h4></div>',1),ef=A("<button> </button>"),tf=A("<button> </button>"),rf=A('<div class="tab-content svelte-7dygw5"><h3 class="svelte-7dygw5">Extended Configuration</h3> <!> <div class="special-keys-section svelte-7dygw5"><h4 class="svelte-7dygw5">Navigation & Special Keys</h4> <div class="special-keys-grid svelte-7dygw5"></div></div> <div class="multimedia-keys-section svelte-7dygw5"><h4 class="svelte-7dygw5">Multimedia Controls</h4> <div class="multimedia-keys-grid svelte-7dygw5"></div></div></div>'),nf=A('<div class="encoder-parts-tabs svelte-7dygw5"><button>Clockwise</button> <button>Counterclockwise</button> <button>Button Press</button></div> <div class="encoder-part-config svelte-7dygw5"><h4 class="svelte-7dygw5"> </h4></div>',1),af=A('<div class="tab-content svelte-7dygw5"><h3 class="svelte-7dygw5">Macros Configuration</h3> <!> <p> </p></div>'),sf=A('<div class="tab-content svelte-7dygw5"><h3 class="svelte-7dygw5">Fader Configuration</h3> <p>Configure potentiometer behavior</p></div>'),of=A('<div class="tab-content svelte-7dygw5"><h3 class="svelte-7dygw5">Display Configuration</h3> <p>Configure display settings</p></div>'),lf=A('<div class="config-layout svelte-7dygw5"><div class="tab-sidebar svelte-7dygw5"></div> <div class="details-panel svelte-7dygw5"><h3>Component Details</h3> <div class="component-info svelte-7dygw5"><p><strong>Component ID:</strong> </p> <p><strong>Component Type:</strong> </p> <p><strong>Active Layer:</strong> </p> <!> <div class="new-binding svelte-7dygw5"><h4 class="svelte-7dygw5">New Binding</h4> <!></div></div></div> <div class="config-panel svelte-7dygw5"><!></div></div>'),cf=A('<div class="no-selection svelte-7dygw5"><p>Select a component to configure</p></div>'),uf=A('<div class="error-message svelte-7dygw5"> </div>'),df=A('<section class="save-section svelte-7dygw5"><div class="changes-indicator svelte-7dygw5"><p>You have unsaved changes</p> <span class="changes-count svelte-7dygw5"> </span></div> <div class="action-buttons svelte-7dygw5"><button class="cancel-button svelte-7dygw5">Cancel</button> <button class="save-button svelte-7dygw5"><!></button></div> <!></section>'),ff=A('<div class="macropad-config svelte-7dygw5"><section class="layer-nav svelte-7dygw5"><div class="layer-label svelte-7dygw5">Layers:</div> <!></section> <div class="main-content svelte-7dygw5"><div class="macropad-visual svelte-7dygw5"><!></div> <!></div> <!></div>');function vf(e,t){Qe(t,!1);let r=G(null),n=G(null),s=G(null),o=G({info:!1,actions:!1,components:!1,saving:!1}),i=G({info:null,actions:null,components:null,saving:null}),l=G(null),c=G(null),u=G(null),v=G([]),p=G("basic"),h=G(["basic","extended","macros"]),g=G(null),x=G("clockwise"),k=G(!1),w=G(new Map);const I={a:["0x00","0x00","0x04","0x00","0x00","0x00","0x00","0x00"],b:["0x00","0x00","0x05","0x00","0x00","0x00","0x00","0x00"],c:["0x00","0x00","0x06","0x00","0x00","0x00","0x00","0x00"],d:["0x00","0x00","0x07","0x00","0x00","0x00","0x00","0x00"],e:["0x00","0x00","0x08","0x00","0x00","0x00","0x00","0x00"],f:["0x00","0x00","0x09","0x00","0x00","0x00","0x00","0x00"],g:["0x00","0x00","0x0A","0x00","0x00","0x00","0x00","0x00"],h:["0x00","0x00","0x0B","0x00","0x00","0x00","0x00","0x00"],i:["0x00","0x00","0x0C","0x00","0x00","0x00","0x00","0x00"],j:["0x00","0x00","0x0D","0x00","0x00","0x00","0x00","0x00"],k:["0x00","0x00","0x0E","0x00","0x00","0x00","0x00","0x00"],l:["0x00","0x00","0x0F","0x00","0x00","0x00","0x00","0x00"],m:["0x00","0x00","0x10","0x00","0x00","0x00","0x00","0x00"],n:["0x00","0x00","0x11","0x00","0x00","0x00","0x00","0x00"],o:["0x00","0x00","0x12","0x00","0x00","0x00","0x00","0x00"],p:["0x00","0x00","0x13","0x00","0x00","0x00","0x00","0x00"],q:["0x00","0x00","0x14","0x00","0x00","0x00","0x00","0x00"],r:["0x00","0x00","0x15","0x00","0x00","0x00","0x00","0x00"],s:["0x00","0x00","0x16","0x00","0x00","0x00","0x00","0x00"],t:["0x00","0x00","0x17","0x00","0x00","0x00","0x00","0x00"],u:["0x00","0x00","0x18","0x00","0x00","0x00","0x00","0x00"],v:["0x00","0x00","0x19","0x00","0x00","0x00","0x00","0x00"],w:["0x00","0x00","0x1A","0x00","0x00","0x00","0x00","0x00"],x:["0x00","0x00","0x1B","0x00","0x00","0x00","0x00","0x00"],y:["0x00","0x00","0x1C","0x00","0x00","0x00","0x00","0x00"],z:["0x00","0x00","0x1D","0x00","0x00","0x00","0x00","0x00"],1:["0x00","0x00","0x1E","0x00","0x00","0x00","0x00","0x00"],2:["0x00","0x00","0x1F","0x00","0x00","0x00","0x00","0x00"],3:["0x00","0x00","0x20","0x00","0x00","0x00","0x00","0x00"],4:["0x00","0x00","0x21","0x00","0x00","0x00","0x00","0x00"],5:["0x00","0x00","0x22","0x00","0x00","0x00","0x00","0x00"],6:["0x00","0x00","0x23","0x00","0x00","0x00","0x00","0x00"],7:["0x00","0x00","0x24","0x00","0x00","0x00","0x00","0x00"],8:["0x00","0x00","0x25","0x00","0x00","0x00","0x00","0x00"],9:["0x00","0x00","0x26","0x00","0x00","0x00","0x00","0x00"],0:["0x00","0x00","0x27","0x00","0x00","0x00","0x00","0x00"],enter:["0x00","0x00","0x28","0x00","0x00","0x00","0x00","0x00"],esc:["0x00","0x00","0x29","0x00","0x00","0x00","0x00","0x00"],backspace:["0x00","0x00","0x2A","0x00","0x00","0x00","0x00","0x00"],tab:["0x00","0x00","0x2B","0x00","0x00","0x00","0x00","0x00"],space:["0x00","0x00","0x2C","0x00","0x00","0x00","0x00","0x00"],"-":["0x00","0x00","0x2D","0x00","0x00","0x00","0x00","0x00"],"=":["0x00","0x00","0x2E","0x00","0x00","0x00","0x00","0x00"],"[":["0x00","0x00","0x2F","0x00","0x00","0x00","0x00","0x00"],"]":["0x00","0x00","0x30","0x00","0x00","0x00","0x00","0x00"],"\\":["0x00","0x00","0x31","0x00","0x00","0x00","0x00","0x00"],";":["0x00","0x00","0x33","0x00","0x00","0x00","0x00","0x00"],"'":["0x00","0x00","0x34","0x00","0x00","0x00","0x00","0x00"],"`":["0x00","0x00","0x35","0x00","0x00","0x00","0x00","0x00"],",":["0x00","0x00","0x36","0x00","0x00","0x00","0x00","0x00"],".":["0x00","0x00","0x37","0x00","0x00","0x00","0x00","0x00"],"/":["0x00","0x00","0x38","0x00","0x00","0x00","0x00","0x00"],caps:["0x00","0x00","0x39","0x00","0x00","0x00","0x00","0x00"],f1:["0x00","0x00","0x3A","0x00","0x00","0x00","0x00","0x00"],f2:["0x00","0x00","0x3B","0x00","0x00","0x00","0x00","0x00"],f3:["0x00","0x00","0x3C","0x00","0x00","0x00","0x00","0x00"],f4:["0x00","0x00","0x3D","0x00","0x00","0x00","0x00","0x00"],f5:["0x00","0x00","0x3E","0x00","0x00","0x00","0x00","0x00"],f6:["0x00","0x00","0x3F","0x00","0x00","0x00","0x00","0x00"],f7:["0x00","0x00","0x40","0x00","0x00","0x00","0x00","0x00"],f8:["0x00","0x00","0x41","0x00","0x00","0x00","0x00","0x00"],f9:["0x00","0x00","0x42","0x00","0x00","0x00","0x00","0x00"],f10:["0x00","0x00","0x43","0x00","0x00","0x00","0x00","0x00"],f11:["0x00","0x00","0x44","0x00","0x00","0x00","0x00","0x00"],f12:["0x00","0x00","0x45","0x00","0x00","0x00","0x00","0x00"],shift:["0x02","0x00","0x00","0x00","0x00","0x00","0x00","0x00"],ctrl:["0x01","0x00","0x00","0x00","0x00","0x00","0x00","0x00"],alt:["0x04","0x00","0x00","0x00","0x00","0x00","0x00","0x00"],win:["0x08","0x00","0x00","0x00","0x00","0x00","0x00","0x00"],up:["0x00","0x00","0x52","0x00","0x00","0x00","0x00","0x00"],down:["0x00","0x00","0x51","0x00","0x00","0x00","0x00","0x00"],left:["0x00","0x00","0x50","0x00","0x00","0x00","0x00","0x00"],right:["0x00","0x00","0x4F","0x00","0x00","0x00","0x00","0x00"],insert:["0x00","0x00","0x49","0x00","0x00","0x00","0x00","0x00"],home:["0x00","0x00","0x4A","0x00","0x00","0x00","0x00","0x00"],pageup:["0x00","0x00","0x4B","0x00","0x00","0x00","0x00","0x00"],delete:["0x00","0x00","0x4C","0x00","0x00","0x00","0x00","0x00"],end:["0x00","0x00","0x4D","0x00","0x00","0x00","0x00","0x00"],pagedown:["0x00","0x00","0x4E","0x00","0x00","0x00","0x00","0x00"],printscreen:["0x00","0x00","0x46","0x00","0x00","0x00","0x00","0x00"],scrolllock:["0x00","0x00","0x47","0x00","0x00","0x00","0x00","0x00"],pause:["0x00","0x00","0x48","0x00","0x00","0x00","0x00","0x00"],numlock:["0x00","0x00","0x53","0x00","0x00","0x00","0x00","0x00"]},F={"play/pause":["0x00","0x00","0xCD","0x00"],stop:["0x00","0x00","0xB7","0x00"],prev:["0x00","0x00","0xB6","0x00"],next:["0x00","0x00","0xB5","0x00"],mute:["0x00","0x00","0xE2","0x00"],"vol+":["0x00","0x00","0xE9","0x00"],"vol-":["0x00","0x00","0xEA","0x00"],"bright+":["0x00","0x00","0x6F","0x00"],"bright-":["0x00","0x00","0x70","0x00"],calculator:["0x00","0x00","0x92","0x00"],email:["0x00","0x00","0x8A","0x00"],browser:["0x00","0x00","0x96","0x00"]},N=["up","down","left","right","insert","home","pageup","delete","end","pagedown","printscreen","scrolllock","pause","numlock"],$=Object.keys(F);dr(async()=>{await Promise.all([C(),U(),ee()])});async function C(){te(o,a(o).info=!0),te(i,a(i).info=null);try{y(r,await Ft.getInfo()),Et("connected")}catch(T){console.error("Error fetching info:",T),te(i,a(i).info="Failed to fetch macropad information"),Et("disconnected",a(i).info)}finally{te(o,a(o).info=!1)}}async function U(){te(o,a(o).actions=!0),te(i,a(i).actions=null);try{const T=await fetch("/api/config/actions");if(!T.ok)throw new Error(`API Error: ${T.status} ${T.statusText}`);if(y(n,await T.json()),Et("connected"),console.log("Complete actions data from raw API:",a(n)),a(n)){const P=[];if(a(n).actions&&Array.isArray(a(n).actions.layers)?(console.log("Found new array-based layers format:",a(n).actions.layers),a(n).actions.layers.forEach(j=>{j["layer-name"]&&(console.log(`Found layer in array: ${j["layer-name"]}`),P.push(j["layer-name"]))})):(a(n).actions&&a(n).actions["layer-name"]&&(console.log("Found default layer in actions:",a(n).actions["layer-name"]),P.push(a(n).actions["layer-name"])),a(n).layers&&(console.log("Found additional layers property:",a(n).layers),typeof a(n).layers=="object"&&!Array.isArray(a(n).layers)&&Object.keys(a(n).layers).forEach(j=>{console.log(`Found layer: ${j}`),P.push(j)}))),console.log("Extracted layer names:",P),P.length>0){y(v,P);let j=!1;if(a(n).actions&&Array.isArray(a(n).actions.layers)){for(const J of a(n).actions.layers)if(J.active===!0&&J["layer-name"]){y(u,J["layer-name"]),j=!0,console.log(`Found active layer in array: ${a(u)}`);break}!j&&a(n).actions.layers.length>0&&a(n).actions.layers[0]["layer-name"]&&(y(u,a(n).actions.layers[0]["layer-name"]),j=!0,console.log(`Using first layer from array as active: ${a(u)}`))}if(!j){if(a(n).actions&&a(n).actions.active===!0)y(u,a(n).actions["layer-name"]),j=!0;else if(a(n).layers){for(const J in a(n).layers)if(a(n).layers[J].active===!0){y(u,J),j=!0;break}}}!j&&P.length>0&&(y(u,P[0]),console.log(`No active layer found, using first available: ${a(u)}`))}else y(v,["default-actions-layer"]),y(u,"default-actions-layer"),console.log("No layers found, using default: default-actions-layer");const q=H(a(u));q?console.log(`Active layer ${a(u)} config contains these components:`,Object.keys(q)):console.log(`No configuration found for active layer: ${a(u)}`)}}catch(T){console.error("Error fetching actions:",T),te(i,a(i).actions="Failed to fetch actions configuration"),Et("disconnected",a(i).actions)}finally{te(o,a(o).actions=!1)}}function M(T){var P,q;return!((q=(P=a(n))==null?void 0:P.actions)!=null&&q.layers)||!Array.isArray(a(n).actions.layers)?null:a(n).actions.layers.find(j=>j["layer-name"]===T)}function H(T){var P,q,j,J;if(!a(n)||!T)return null;if(a(n).actions&&Array.isArray(a(n).actions.layers)){const Q=M(T);return(Q==null?void 0:Q["layer-config"])||null}return T===((P=a(n).actions)==null?void 0:P["layer-name"])?((q=a(n).actions)==null?void 0:q["layer-config"])||null:((J=(j=a(n).layers)==null?void 0:j[T])==null?void 0:J["layer-config"])||null}function re(T){if(!a(n)||!a(u))return null;const P=H(a(u));return(P==null?void 0:P[T])||null}async function ee(){te(o,a(o).components=!0),te(i,a(i).components=null);try{y(s,await Ft.getComponents()),Et("connected")}catch(T){console.error("Error fetching components:",T),te(i,a(i).components="Failed to fetch components configuration"),Et("disconnected",a(i).components)}finally{te(o,a(o).components=!1)}}function K(T){var P;y(l,T),a(s)&&a(s).components&&(y(c,a(s).components.find(q=>q.id===T)),ne((P=a(c))==null?void 0:P.type),a(h).length>0&&y(p,a(h)[0])),y(g,null)}function ne(T){if(T){switch(T.toLowerCase()){case"encoder":y(h,["basic","extended","macros"]);break;case"potentiometer":y(h,["basic","extended","macros","fader"]);break;case"display":y(h,["display"]);break;default:y(h,["basic","extended","macros"]);break}a(h).includes(a(p))||y(p,a(h)[0])}}function ye(T){y(p,T)}function pe(T,P="standard"){if(y(g,T.detail.key),console.log(`Selected key: ${a(g)} for component: ${a(l)}, type: ${P}`),a(l)&&a(u)&&a(g)){let q=null;P==="multimedia"?q={type:"multimedia",buttonPress:F[a(g)]||["0x00","0x00","0x00","0x00"]}:q={type:"hid",buttonPress:I[a(g)]||["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]};const j=`${a(u)}:${a(l)}`;a(w).set(j,q),y(w,a(w)),y(k,!0),console.log(`Set pending binding for ${j}:`,q)}}function he(T){const{key:P,action:q,actionType:j}=T.detail;if(y(g,P),console.log(`Selected key: ${P} for encoder action: ${q}, type: ${j}, component: ${a(l)}`),a(l)&&a(u)&&P){const J=`${a(u)}:${a(l)}`;let X={...a(w).get(J)||re(a(l))||{}};const de=q==="button"?"buttonPress":q,ae=j==="multimedia"?F[P]||["0x00","0x00","0x00","0x00"]:I[P]||["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"];X[de]={type:j,report:ae},q==="counterclockwise"&&(X.counterClockwise=X.counterclockwise),a(w).set(J,X),y(w,a(w)),y(k,!0),console.log(`Set pending binding for ${J}:`,X)}}function Z(T,P){pe({detail:{key:T}},P)}async function ue(T){var P,q,j,J,Q,X,de;if(y(u,T),console.log(`Selected layer: ${T}`),T===((q=(P=a(n))==null?void 0:P.actions)==null?void 0:q["layer-name"])?console.log("Using configuration from default layer:",(J=(j=a(n))==null?void 0:j.actions)==null?void 0:J["layer-config"]):console.log("Using configuration from additional layer:",(de=(X=(Q=a(n))==null?void 0:Q.layers)==null?void 0:X[T])==null?void 0:de["layer-config"]),a(l)){const ae=re(a(l));console.log(`Binding for ${a(l)} in layer ${T}:`,ae)}}async function E(){if(!a(k)||!a(n)||!a(u)){console.log("No changes to save");return}te(o,a(o).saving=!0),te(i,a(i).saving=null);try{console.log("Saving changes to actions configuration...");const T=JSON.parse(JSON.stringify(a(n)));for(const[P,q]of a(w).entries()){const[j,J]=P.split(":");if(T.actions&&Array.isArray(T.actions.layers)){const Q=T.actions.layers.findIndex(X=>X["layer-name"]===j);Q>=0&&(T.actions.layers[Q]["layer-config"]||(T.actions.layers[Q]["layer-config"]={}),T.actions.layers[Q]["layer-config"][J]=q,console.log(`Updated binding for ${J} in layer ${j}:`,q))}}await Ft.updateActions(T),console.log("Actions configuration updated successfully"),await U(),a(w).clear(),y(w,a(w)),y(k,!1),y(g,null)}catch(T){console.error("Error saving actions configuration:",T),te(i,a(i).saving="Failed to save changes")}finally{te(o,a(o).saving=!1)}}function L(){a(w).clear(),y(w,a(w)),y(k,!1),y(g,null)}function b(T){switch(T){case"basic":return is;case"extended":return Qu;case"macros":return Bu;case"encoder":return Xu;case"display":return Ju;default:return is}}ft();var S=ff(),z=f(S),Y=_(f(z),2);{var O=T=>{var P=Sd();m(T,P)},W=(T,P)=>{{var q=J=>{var Q=Ad(),X=f(Q,!0);d(Q),B(()=>V(X,a(i).actions)),m(J,Q)},j=(J,Q)=>{{var X=ae=>{var ge=ke(),Re=se(ge);rt(Re,1,()=>a(v),tt,(Be,Le)=>{var $e=Cd();let je;var $t=f($e,!0);d($e),B(it=>{je=Pe($e,1,"layer-button svelte-7dygw5",null,je,it),V($t,a(Le))},[()=>({active:a(u)===a(Le)})],Ne),D("click",$e,()=>ue(a(Le))),m(Be,$e)}),m(ae,ge)},de=ae=>{var ge=Nd();m(ae,ge)};R(J,ae=>{a(v).length>0?ae(X):ae(de,!1)},Q)}};R(T,J=>{a(i).actions?J(q):J(j,!1)},P)}};R(Y,T=>{a(o).actions?T(O):T(W,!1)})}d(z);var le=_(z,2),ce=f(le),fe=f(ce);{var Se=T=>{var P=Td();m(T,P)},_e=(T,P)=>{{var q=J=>{var Q=Od(),X=f(Q,!0);d(Q),B(()=>V(X,a(i).info||a(i).components)),m(J,Q)},j=(J,Q)=>{{var X=de=>{var ae=Pd();rt(ae,4,()=>Array(5),tt,(ge,Re,Be)=>{var Le=ke(),$e=se(Le);rt($e,0,()=>Array(5),tt,(je,$t,it,yt)=>{var vt=ke(),Ot=se(vt);rt(Ot,1,()=>a(s).components,tt,(It,lt)=>{var De=ke(),We=se(De);{var Ee=Kt=>{var ct=Id();let mt;var pt=f(ct,!0);d(ct),B(Yt=>{mt=Pe(ct,1,"component svelte-7dygw5",null,mt,Yt),_r(ct,`
											grid-column: ${a(lt).start_location.column+1} / span ${a(lt).size.columns??""};
											grid-row: ${a(lt).start_location.row+1} / span ${a(lt).size.rows??""};
										`),V(pt,a(lt).type)},[()=>({selected:a(l)===a(lt).id})],Ne),D("click",ct,()=>K(a(lt).id)),m(Kt,ct)};R(We,Kt=>{a(lt).start_location.row===Be&&a(lt).start_location.column===it&&Kt(Ee)})}m(It,De)}),m(je,vt)}),m(ge,Le)}),d(ae),m(de,ae)};R(J,de=>{a(r)&&a(s)&&de(X)},Q)}};R(T,J=>{a(i).info||a(i).components?J(q):J(j,!1)},P)}};R(fe,T=>{a(o).info||a(o).components?T(Se):T(_e,!1)})}d(ce);var ie=_(ce,2);{var we=T=>{var P=lf(),q=f(P);rt(q,5,()=>a(h),tt,(De,We)=>{var Ee=Ld();let Kt;var ct=f(Ee);aa(ct,()=>b(a(We)),(mt,pt)=>{pt(mt,{size:24})}),d(Ee),B((mt,pt)=>{Kt=Pe(Ee,1,"sidebar-tab-button svelte-7dygw5",null,Kt,mt),$r(Ee,"title",pt)},[()=>({active:a(p)===a(We)}),()=>a(We).charAt(0).toUpperCase()+a(We).slice(1)],Ne),D("click",Ee,()=>ye(a(We))),m(De,Ee)}),d(q);var j=_(q,2),J=_(f(j),2),Q=f(J),X=_(f(Q));d(Q);var de=_(Q,2),ae=_(f(de));d(de);var ge=_(de,2),Re=_(f(ge));d(ge);var Be=_(ge,2);{var Le=De=>{var We=ke();const Ee=Ne(()=>re(a(l)));var Kt=se(We);{var ct=pt=>{var Yt=ke(),nt=se(Yt);{var ht=bt=>{var qe=Ud(),Ie=_(f(qe),2),Me=_(f(Ie),2);{var Ue=He=>{var Ye=Rd(),xt=se(Ye),Gt=f(xt);d(xt);var Mt=_(xt,2),or=f(Mt);d(Mt),B(Ct=>{V(Gt,`Type: ${a(Ee).clockwise.type??""}`),V(or,`Value: ${Ct??""}`)},[()=>{var Ct;return((Ct=a(Ee).clockwise.report)==null?void 0:Ct.join(", "))||"None"}],Ne),m(He,Ye)},gt=He=>{var Ye=Md();m(He,Ye)};R(Me,He=>{a(Ee).clockwise?He(Ue):He(gt,!1)})}d(Ie);var Je=_(Ie,2),kt=_(f(Je),2);{var St=He=>{var Ye=Dd(),xt=se(Ye),Gt=f(xt);d(xt);var Mt=_(xt,2),or=f(Mt);d(Mt),B(Ct=>{V(Gt,`Type: ${a(Ee).counterclockwise.type??""}`),V(or,`Value: ${Ct??""}`)},[()=>{var Ct;return((Ct=a(Ee).counterclockwise.report)==null?void 0:Ct.join(", "))||"None"}],Ne),m(He,Ye)},Bt=He=>{var Ye=Fd();m(He,Ye)};R(kt,He=>{a(Ee).counterclockwise?He(St):He(Bt,!1)})}d(Je);var Rt=_(Je,2),At=_(f(Rt),2);{var Xt=He=>{var Ye=zd(),xt=se(Ye),Gt=f(xt);d(xt);var Mt=_(xt,2),or=f(Mt);d(Mt),B(Ct=>{V(Gt,`Type: ${a(Ee).buttonPress.type??""}`),V(or,`Value: ${Ct??""}`)},[()=>{var Ct;return((Ct=a(Ee).buttonPress.report)==null?void 0:Ct.join(", "))||"None"}],Ne),m(He,Ye)},fr=He=>{var Ye=jd();m(He,Ye)};R(At,He=>{a(Ee).buttonPress?He(Xt):He(fr,!1)})}d(Rt),d(qe),m(bt,qe)},qt=bt=>{var qe=Wd(),Ie=_(f(qe),2),Me=_(f(Ie));d(Ie);var Ue=_(Ie,2);{var gt=kt=>{var St=qd(),Bt=_(f(St));d(St),B(Rt=>V(Bt,` ${Rt??""}`),[()=>a(Ee).buttonPress.join(", ")],Ne),m(kt,St)},Je=(kt,St)=>{{var Bt=At=>{var Xt=Bd(),fr=_(f(Xt));d(Xt),B(()=>V(fr,` ${a(Ee).macroId??""}`)),m(At,Xt)},Rt=(At,Xt)=>{{var fr=Ye=>{var xt=Gd(),Gt=se(xt),Mt=_(f(Gt));d(Gt);var or=_(Gt,2),Ct=_(f(or));d(or);var Bs=_(or,2),Qi=_(f(Bs));d(Bs),B((el,tl,rl)=>{V(Mt,` ${el??""}`),V(Ct,` ${tl??""}`),V(Qi,` ${rl??""}`)},[()=>a(Ee).clockwise?a(Ee).clockwise.join(", "):"None",()=>a(Ee).counterclockwise?a(Ee).counterclockwise.join(", "):"None",()=>a(Ee).buttonPress?a(Ee).buttonPress.join(", "):"None"],Ne),m(Ye,xt)},He=(Ye,xt)=>{{var Gt=Mt=>{var or=Vd();m(Mt,or)};R(Ye,Mt=>{a(Ee).type==="cycle-layer"&&Mt(Gt)},xt)}};R(At,Ye=>{a(Ee).type==="multimedia"?Ye(fr):Ye(He,!1)},Xt)}};R(kt,At=>{a(Ee).type==="macro"&&a(Ee).macroId?At(Bt):At(Rt,!1)},St)}};R(Ue,kt=>{a(Ee).type==="hid"&&a(Ee).buttonPress?kt(gt):kt(Je,!1)})}d(qe),B(()=>V(Me,` ${a(Ee).type??""}`)),m(bt,qe)};R(nt,bt=>{a(c).type==="encoder"?bt(ht):bt(qt,!1)})}m(pt,Yt)},mt=pt=>{var Yt=Jd();m(pt,Yt)};R(Kt,pt=>{a(Ee)?pt(ct):pt(mt,!1)})}m(De,We)},$e=De=>{var We=Hd();m(De,We)};R(Be,De=>{a(u)&&a(n)?De(Le):De($e,!1)})}var je=_(Be,2),$t=_(f(je),2);{var it=De=>{var We=Kd(),Ee=_(f(We));d(We),B(()=>V(Ee,` ${a(g)??""}`)),m(De,We)},yt=De=>{var We=Yd();m(De,We)};R($t,De=>{a(g)?De(it):De(yt,!1)})}d(je),d(J),d(j);var vt=_(j,2),Ot=f(vt);{var It=De=>{var We=Zd(),Ee=_(f(We),2);{var Kt=nt=>{var ht=Xd(),qt=se(ht),bt=f(qt);let qe;var Ie=_(bt,2);let Me;var Ue=_(Ie,2);let gt;d(qt);var Je=_(qt,2),kt=f(Je),St=f(kt);d(kt),d(Je),B((Bt,Rt,At)=>{qe=Pe(bt,1,"encoder-part-tab svelte-7dygw5",null,qe,Bt),Me=Pe(Ie,1,"encoder-part-tab svelte-7dygw5",null,Me,Rt),gt=Pe(Ue,1,"encoder-part-tab svelte-7dygw5",null,gt,At),V(St,`Configure ${(a(x)==="clockwise"?"Clockwise Rotation":a(x)==="counterclockwise"?"Counterclockwise Rotation":"Button Press")??""}`)},[()=>({active:a(x)==="clockwise"}),()=>({active:a(x)==="counterclockwise"}),()=>({active:a(x)==="button"})],Ne),D("click",bt,()=>y(x,"clockwise")),D("click",Ie,()=>y(x,"counterclockwise")),D("click",Ue,()=>y(x,"button")),m(nt,ht)};R(Ee,nt=>{var ht;((ht=a(c))==null?void 0:ht.type)==="encoder"&&nt(Kt)})}var ct=_(Ee,2),mt=f(ct),pt=f(mt);d(mt);var Yt=_(mt,2);$d(Yt,{get selectedKey(){return a(g)},$$events:{keySelect:nt=>{var ht;return((ht=a(c))==null?void 0:ht.type)==="encoder"?he(new CustomEvent("keySelect",{detail:{key:nt.detail.key,action:a(x),actionType:"hid"}})):pe(nt,"standard")}}}),d(ct),d(We),B(()=>{var nt;return V(pt,`Select a key to map to ${(((nt=a(c))==null?void 0:nt.type)==="encoder"?`encoder ${a(x)}`:"this component")??""}`)}),m(De,We)},lt=(De,We)=>{{var Ee=ct=>{var mt=rf(),pt=_(f(mt),2);{var Yt=qe=>{var Ie=Qd(),Me=se(Ie),Ue=f(Me);let gt;var Je=_(Ue,2);let kt;var St=_(Je,2);let Bt;d(Me);var Rt=_(Me,2),At=f(Rt),Xt=f(At);d(At),d(Rt),B((fr,He,Ye)=>{gt=Pe(Ue,1,"encoder-part-tab svelte-7dygw5",null,gt,fr),kt=Pe(Je,1,"encoder-part-tab svelte-7dygw5",null,kt,He),Bt=Pe(St,1,"encoder-part-tab svelte-7dygw5",null,Bt,Ye),V(Xt,`Configure ${(a(x)==="clockwise"?"Clockwise Rotation":a(x)==="counterclockwise"?"Counterclockwise Rotation":"Button Press")??""}`)},[()=>({active:a(x)==="clockwise"}),()=>({active:a(x)==="counterclockwise"}),()=>({active:a(x)==="button"})],Ne),D("click",Ue,()=>y(x,"clockwise")),D("click",Je,()=>y(x,"counterclockwise")),D("click",St,()=>y(x,"button")),m(qe,Ie)};R(pt,qe=>{var Ie;((Ie=a(c))==null?void 0:Ie.type)==="encoder"&&qe(Yt)})}var nt=_(pt,2),ht=_(f(nt),2);rt(ht,5,()=>N,tt,(qe,Ie)=>{var Me=ef();let Ue;var gt=f(Me,!0);d(Me),B(Je=>{Ue=Pe(Me,1,"special-key svelte-7dygw5",null,Ue,Je),V(gt,a(Ie))},[()=>({selected:a(g)===a(Ie)})],Ne),D("click",Me,()=>{var Je;return((Je=a(c))==null?void 0:Je.type)==="encoder"?he(new CustomEvent("keySelect",{detail:{key:a(Ie),action:a(x),actionType:"hid"}})):Z(a(Ie),"special")}),m(qe,Me)}),d(ht),d(nt);var qt=_(nt,2),bt=_(f(qt),2);rt(bt,5,()=>$,tt,(qe,Ie)=>{var Me=tf();let Ue;var gt=f(Me,!0);d(Me),B(Je=>{Ue=Pe(Me,1,"multimedia-key svelte-7dygw5",null,Ue,Je),V(gt,a(Ie))},[()=>({selected:a(g)===a(Ie)})],Ne),D("click",Me,()=>{var Je;return((Je=a(c))==null?void 0:Je.type)==="encoder"?he(new CustomEvent("keySelect",{detail:{key:a(Ie),action:a(x),actionType:"multimedia"}})):Z(a(Ie),"multimedia")}),m(qe,Me)}),d(bt),d(qt),d(mt),m(ct,mt)},Kt=(ct,mt)=>{{var pt=nt=>{var ht=af(),qt=_(f(ht),2);{var bt=Me=>{var Ue=nf(),gt=se(Ue),Je=f(gt);let kt;var St=_(Je,2);let Bt;var Rt=_(St,2);let At;d(gt);var Xt=_(gt,2),fr=f(Xt),He=f(fr);d(fr),d(Xt),B((Ye,xt,Gt)=>{kt=Pe(Je,1,"encoder-part-tab svelte-7dygw5",null,kt,Ye),Bt=Pe(St,1,"encoder-part-tab svelte-7dygw5",null,Bt,xt),At=Pe(Rt,1,"encoder-part-tab svelte-7dygw5",null,At,Gt),V(He,`Configure ${(a(x)==="clockwise"?"Clockwise Rotation":a(x)==="counterclockwise"?"Counterclockwise Rotation":"Button Press")??""}`)},[()=>({active:a(x)==="clockwise"}),()=>({active:a(x)==="counterclockwise"}),()=>({active:a(x)==="button"})],Ne),D("click",Je,()=>y(x,"clockwise")),D("click",St,()=>y(x,"counterclockwise")),D("click",Rt,()=>y(x,"button")),m(Me,Ue)};R(qt,Me=>{var Ue;((Ue=a(c))==null?void 0:Ue.type)==="encoder"&&Me(bt)})}var qe=_(qt,2),Ie=f(qe);d(qe),d(ht),B(()=>{var Me,Ue;return V(Ie,`Configure macros for ${(((Me=a(c))==null?void 0:Me.type)==="encoder"?`encoder ${a(x)}`:(Ue=a(c))==null?void 0:Ue.type)??""}`)}),m(nt,ht)},Yt=(nt,ht)=>{{var qt=qe=>{var Ie=sf();m(qe,Ie)},bt=(qe,Ie)=>{{var Me=Ue=>{var gt=of();m(Ue,gt)};R(qe,Ue=>{a(p)==="display"&&Ue(Me)},Ie)}};R(nt,qe=>{a(p)==="fader"?qe(qt):qe(bt,!1)},ht)}};R(ct,nt=>{a(p)==="macros"?nt(pt):nt(Yt,!1)},mt)}};R(De,ct=>{a(p)==="extended"?ct(Ee):ct(Kt,!1)},We)}};R(Ot,De=>{a(p)==="basic"?De(It):De(lt,!1)})}d(vt),d(P),B(()=>{V(X,` ${a(l)??""}`),V(ae,` ${a(c).type??""}`),V(Re,` ${a(u)??""}`)}),m(T,P)},be=T=>{var P=cf();m(T,P)};R(ie,T=>{a(l)&&a(c)?T(we):T(be,!1)})}d(le);var Ae=_(le,2);{var Ce=T=>{var P=df(),q=f(P),j=_(f(q),2),J=f(j,!0);d(j),d(q);var Q=_(q,2),X=f(Q),de=_(X,2),ae=f(de);{var ge=$e=>{var je=Ht("Saving...");m($e,je)},Re=$e=>{var je=Ht("Save Changes");m($e,je)};R(ae,$e=>{a(o).saving?$e(ge):$e(Re,!1)})}d(de),d(Q);var Be=_(Q,2);{var Le=$e=>{var je=uf(),$t=f(je,!0);d(je),B(()=>V($t,a(i).saving)),m($e,je)};R(Be,$e=>{a(i).saving&&$e(Le)})}d(P),B(()=>{V(J,a(w).size),X.disabled=a(o).saving,de.disabled=a(o).saving}),D("click",X,L),D("click",de,E),m(T,P)};R(Ae,T=>{a(k)&&T(Ce)})}d(S),m(e,S),et()}const pf=Object.freeze(Object.defineProperty({__proto__:null,component:vf},Symbol.toStringTag,{value:"Module"}));var hf=A('<div class="loading svelte-121og9w">Loading info data...</div>'),gf=A('<div class="error svelte-121og9w"><p class="svelte-121og9w"> </p> <button class="svelte-121og9w">Retry</button></div>'),_f=A('<div class="json-editor svelte-121og9w"><textarea rows="20" spellcheck="false" readonly="" class="svelte-121og9w"></textarea></div>'),yf=A('<div class="tab-panel svelte-121og9w"><div class="tab-header svelte-121og9w"><h2>Info Configuration</h2> <div class="tab-actions svelte-121og9w"><button class="action-button svelte-121og9w"><!> <span>Refresh</span></button> <button class="action-button svelte-121og9w"><!> <span>Download</span></button> <button class="action-button svelte-121og9w"><!> <span>Restore</span></button></div></div> <p class="svelte-121og9w">Basic information about your macropad.</p> <!></div>'),mf=A('<div class="loading svelte-121og9w">Loading components data...</div>'),xf=A('<div class="error svelte-121og9w"><p class="svelte-121og9w"> </p> <button class="svelte-121og9w">Retry</button></div>'),wf=A('<div class="json-editor svelte-121og9w"><textarea rows="20" spellcheck="false" class="svelte-121og9w"></textarea></div>'),bf=A('<div class="tab-panel svelte-121og9w"><div class="tab-header svelte-121og9w"><h2>Components Configuration</h2> <div class="tab-actions svelte-121og9w"><button class="action-button svelte-121og9w"><!> <span>Refresh</span></button> <button class="action-button svelte-121og9w"><!> <span>Save</span></button> <button class="action-button svelte-121og9w"><!> <span>Download</span></button> <button class="action-button svelte-121og9w"><!> <span>Restore</span></button></div></div> <p class="svelte-121og9w">Configure the hardware components of your macropad.</p> <!></div>'),kf=A('<div class="loading svelte-121og9w">Loading actions data...</div>'),Ef=A('<div class="error svelte-121og9w"><p class="svelte-121og9w"> </p> <button class="svelte-121og9w">Retry</button></div>'),$f=A('<div class="json-editor svelte-121og9w"><textarea rows="20" spellcheck="false" class="svelte-121og9w"></textarea></div>'),Sf=A('<div class="tab-panel svelte-121og9w"><div class="tab-header svelte-121og9w"><h2>Actions Configuration</h2> <div class="tab-actions svelte-121og9w"><button class="action-button svelte-121og9w"><!> <span>Refresh</span></button> <button class="action-button svelte-121og9w"><!> <span>Save</span></button> <button class="action-button svelte-121og9w"><!> <span>Download</span></button> <button class="action-button svelte-121og9w"><!> <span>Restore</span></button></div></div> <p class="svelte-121og9w">Configure the actions and key mappings for your macropad.</p> <!></div>'),Af=A('<div class="loading svelte-121og9w">Loading LEDs data...</div>'),Cf=A('<div class="error svelte-121og9w"><p class="svelte-121og9w"> </p> <button class="svelte-121og9w">Retry</button></div>'),Nf=A('<div class="json-editor svelte-121og9w"><textarea rows="20" spellcheck="false" class="svelte-121og9w"></textarea></div>'),Tf=A('<div class="tab-panel svelte-121og9w"><div class="tab-header svelte-121og9w"><h2>LEDs Configuration</h2> <div class="tab-actions svelte-121og9w"><button class="action-button svelte-121og9w"><!> <span>Refresh</span></button> <button class="action-button svelte-121og9w"><!> <span>Save</span></button> <button class="action-button svelte-121og9w"><!> <span>Download</span></button> <button class="action-button svelte-121og9w"><!> <span>Restore</span></button></div></div> <p class="svelte-121og9w">Configure the LED settings for your macropad.</p> <!></div>'),Of=A('<div class="loading svelte-121og9w">Loading reports data...</div>'),If=A('<div class="error svelte-121og9w"><p class="svelte-121og9w"> </p> <button class="svelte-121og9w">Retry</button></div>'),Pf=A('<div class="json-editor svelte-121og9w"><textarea rows="20" spellcheck="false" readonly="" class="svelte-121og9w"></textarea></div>'),Lf=A('<div class="tab-panel svelte-121og9w"><div class="tab-header svelte-121og9w"><h2>Reports Configuration</h2> <div class="tab-actions svelte-121og9w"><button class="action-button svelte-121og9w"><!> <span>Refresh</span></button> <button class="action-button svelte-121og9w"><!> <span>Download</span></button> <button class="action-button svelte-121og9w"><!> <span>Restore</span></button></div></div> <p class="svelte-121og9w">Configure the reports and notifications for your macropad.</p> <!></div>'),Rf=A('<div class="page-container svelte-121og9w"><h1 class="svelte-121og9w">Raw Configuration</h1> <p class="svelte-121og9w">View and edit raw configuration files for your macropad.</p> <div class="config-layout svelte-121og9w"><div class="sidebar svelte-121og9w"><div class="sidebar-header svelte-121og9w"><h2 class="svelte-121og9w">Configuration</h2></div> <div class="tab-list svelte-121og9w"><button><!> <span>Info</span></button> <button><!> <span>Components</span></button> <button><!> <span>Actions</span></button> <button><!> <span>LEDs</span></button> <button><!> <span>Reports</span></button></div></div> <div class="main-content svelte-121og9w"><!></div></div></div>');function Mf(e,t){Qe(t,!1);let r=G("info"),n=G({info:!1,components:!1,actions:!1,leds:!1,reports:!1}),s=G({info:null,components:null,actions:null,leds:null,reports:null}),o=G(null),i=G(null),l=G(null),c=G(null),u=G(null),v=G({info:"",components:"",actions:"",leds:"",reports:""});async function p(b){y(r,b),h(b)||await g(b)}function h(b){switch(b){case"info":return a(o);case"components":return a(i);case"actions":return a(l);case"leds":return a(c);case"reports":return a(u);default:return null}}async function g(b){te(n,a(n)[b]=!0),te(s,a(s)[b]=null);try{let S;switch(b){case"info":S=await Ft.getInfo(),y(o,S),te(v,a(v).info=JSON.stringify(S,null,2));break;case"components":S=await Ft.getComponents(),y(i,S),te(v,a(v).components=JSON.stringify(S,null,2));break;case"actions":S=await Ft.getActions(),y(l,S),te(v,a(v).actions=JSON.stringify(S,null,2));break;case"leds":S=await Ft.getLeds(),y(c,S),te(v,a(v).leds=JSON.stringify(S,null,2));break;case"reports":S=await Ft.getReports(),y(u,S),te(v,a(v).reports=JSON.stringify(S,null,2));break}}catch(S){if(console.error(`Error fetching ${b} data:`,S),S instanceof Error){let z=S.message;if(z.includes("API endpoint not implemented"))te(s,a(s)[b]="This feature requires a firmware update. The current firmware doesn't support this functionality.");else if(z.includes("API Error:")){try{const Y=z.indexOf("{");if(Y>-1){const O=z.substring(Y),W=JSON.parse(O);z=W.error||W.message||z}}catch{}te(s,a(s)[b]=z)}else te(s,a(s)[b]=z)}else te(s,a(s)[b]="Unknown error occurred")}finally{te(n,a(n)[b]=!1)}}async function x(b){te(n,a(n)[b]=!0),te(s,a(s)[b]=null);try{const S=JSON.parse(a(v)[b]);let z;switch(b){case"components":z=await Ft.updateComponents(S),y(i,S);break;case"actions":z=await Ft.updateActions(S),y(l,S);break;case"leds":z=await Ft.updateLeds(S),y(c,S);break}alert(`${b.charAt(0).toUpperCase()+b.slice(1)} configuration saved successfully!`)}catch(S){if(console.error(`Error saving ${b} data:`,S),S instanceof SyntaxError)te(s,a(s)[b]="Invalid JSON format: "+S.message);else if(S instanceof Error){let z=S.message;if(z.includes("API Error:"))try{const Y=z.indexOf("{");if(Y>-1){const O=z.substring(Y),W=JSON.parse(O);z=W.error||W.message||z}}catch{}te(s,a(s)[b]=z)}else te(s,a(s)[b]="Unknown error occurred");alert(`Error saving ${b} configuration: ${a(s)[b]}`)}finally{te(n,a(n)[b]=!1)}}function k(b){const S=a(v)[b],z=new Blob([S],{type:"application/json"}),Y=URL.createObjectURL(z),O=document.createElement("a");O.href=Y,O.download=`${b}-config.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(Y)}async function w(){await g(a(r))}async function I(b){if(confirm(`Are you sure you want to restore the ${b} configuration to defaults? This will overwrite your current settings.`)){te(n,a(n)[b]=!0),te(s,a(s)[b]=null);try{await Ft.restoreConfig(b),await g(b),alert(`${b.charAt(0).toUpperCase()+b.slice(1)} configuration restored successfully!`)}catch(S){console.error(`Error restoring ${b} configuration:`,S),te(s,a(s)[b]=S instanceof Error?S.message:"Unknown error")}finally{te(n,a(n)[b]=!1)}}}dr(async()=>{await g(a(r))}),ft();var F=Rf(),N=_(f(F),4),$=f(N),C=_(f($),2),U=f(C),M=f(U);js(M,{size:16}),me(2),d(U);var H=_(U,2),re=f(H);Gu(re,{size:16}),me(2),d(H);var ee=_(H,2),K=f(ee);Yu(K,{size:16}),me(2),d(ee);var ne=_(ee,2),ye=f(ne);Ki(ye,{size:16}),me(2),d(ne);var pe=_(ne,2),he=f(pe);Hi(he,{size:16}),me(2),d(pe),d(C),d($);var Z=_($,2),ue=f(Z);{var E=b=>{var S=yf(),z=f(S),Y=_(f(z),2),O=f(Y),W=f(O);const le=Ne(()=>a(n).info?"spinning":"");Ur(W,{size:16,get class(){return a(le)}}),me(2),d(O);var ce=_(O,2),fe=f(ce);Xr(fe,{size:16}),me(2),d(ce);var Se=_(ce,2),_e=f(Se);hn(_e,{size:16}),me(2),d(Se),d(Y),d(z);var ie=_(z,4);{var we=Ae=>{var Ce=hf();m(Ae,Ce)},be=(Ae,Ce)=>{{var T=q=>{var j=gf(),J=f(j),Q=f(J);d(J);var X=_(J,2);d(j),B(()=>V(Q,`Error loading info: ${a(s).info??""}`)),D("click",X,w),m(q,j)},P=(q,j)=>{{var J=Q=>{var X=_f(),de=f(X);Yr(de),d(X),Tr(de,()=>a(v).info,ae=>te(v,a(v).info=ae)),m(Q,X)};R(q,Q=>{a(o)&&Q(J)},j)}};R(Ae,q=>{a(s).info?q(T):q(P,!1)},Ce)}};R(ie,Ae=>{a(n).info?Ae(we):Ae(be,!1)})}d(S),B(()=>{O.disabled=a(n).info,ce.disabled=a(n).info,Se.disabled=a(n).info}),D("click",O,w),D("click",ce,()=>k("info")),D("click",Se,()=>I("info")),m(b,S)},L=(b,S)=>{{var z=O=>{var W=bf(),le=f(W),ce=_(f(le),2),fe=f(ce),Se=f(fe);const _e=Ne(()=>a(n).components?"spinning":"");Ur(Se,{size:16,get class(){return a(_e)}}),me(2),d(fe);var ie=_(fe,2),we=f(ie);$n(we,{size:16}),me(2),d(ie);var be=_(ie,2),Ae=f(be);Xr(Ae,{size:16}),me(2),d(be);var Ce=_(be,2),T=f(Ce);hn(T,{size:16}),me(2),d(Ce),d(ce),d(le);var P=_(le,4);{var q=J=>{var Q=mf();m(J,Q)},j=(J,Q)=>{{var X=ae=>{var ge=xf(),Re=f(ge),Be=f(Re);d(Re);var Le=_(Re,2);d(ge),B(()=>V(Be,`Error loading components: ${a(s).components??""}`)),D("click",Le,w),m(ae,ge)},de=(ae,ge)=>{{var Re=Be=>{var Le=wf(),$e=f(Le);Yr($e),d(Le),Tr($e,()=>a(v).components,je=>te(v,a(v).components=je)),m(Be,Le)};R(ae,Be=>{a(i)&&Be(Re)},ge)}};R(J,ae=>{a(s).components?ae(X):ae(de,!1)},Q)}};R(P,J=>{a(n).components?J(q):J(j,!1)})}d(W),B(()=>{fe.disabled=a(n).components,ie.disabled=a(n).components,be.disabled=a(n).components,Ce.disabled=a(n).components}),D("click",fe,w),D("click",ie,()=>x("components")),D("click",be,()=>k("components")),D("click",Ce,()=>I("components")),m(O,W)},Y=(O,W)=>{{var le=fe=>{var Se=Sf(),_e=f(Se),ie=_(f(_e),2),we=f(ie),be=f(we);const Ae=Ne(()=>a(n).actions?"spinning":"");Ur(be,{size:16,get class(){return a(Ae)}}),me(2),d(we);var Ce=_(we,2),T=f(Ce);$n(T,{size:16}),me(2),d(Ce);var P=_(Ce,2),q=f(P);Xr(q,{size:16}),me(2),d(P);var j=_(P,2),J=f(j);hn(J,{size:16}),me(2),d(j),d(ie),d(_e);var Q=_(_e,4);{var X=ae=>{var ge=kf();m(ae,ge)},de=(ae,ge)=>{{var Re=Le=>{var $e=Ef(),je=f($e),$t=f(je);d(je);var it=_(je,2);d($e),B(()=>V($t,`Error loading actions: ${a(s).actions??""}`)),D("click",it,w),m(Le,$e)},Be=(Le,$e)=>{{var je=$t=>{var it=$f(),yt=f(it);Yr(yt),d(it),Tr(yt,()=>a(v).actions,vt=>te(v,a(v).actions=vt)),m($t,it)};R(Le,$t=>{a(l)&&$t(je)},$e)}};R(ae,Le=>{a(s).actions?Le(Re):Le(Be,!1)},ge)}};R(Q,ae=>{a(n).actions?ae(X):ae(de,!1)})}d(Se),B(()=>{we.disabled=a(n).actions,Ce.disabled=a(n).actions,P.disabled=a(n).actions,j.disabled=a(n).actions}),D("click",we,w),D("click",Ce,()=>x("actions")),D("click",P,()=>k("actions")),D("click",j,()=>I("actions")),m(fe,Se)},ce=(fe,Se)=>{{var _e=we=>{var be=Tf(),Ae=f(be),Ce=_(f(Ae),2),T=f(Ce),P=f(T);const q=Ne(()=>a(n).leds?"spinning":"");Ur(P,{size:16,get class(){return a(q)}}),me(2),d(T);var j=_(T,2),J=f(j);$n(J,{size:16}),me(2),d(j);var Q=_(j,2),X=f(Q);Xr(X,{size:16}),me(2),d(Q);var de=_(Q,2),ae=f(de);hn(ae,{size:16}),me(2),d(de),d(Ce),d(Ae);var ge=_(Ae,4);{var Re=Le=>{var $e=Af();m(Le,$e)},Be=(Le,$e)=>{{var je=it=>{var yt=Cf(),vt=f(yt),Ot=f(vt);d(vt);var It=_(vt,2);d(yt),B(()=>V(Ot,`Error loading LEDs: ${a(s).leds??""}`)),D("click",It,w),m(it,yt)},$t=(it,yt)=>{{var vt=Ot=>{var It=Nf(),lt=f(It);Yr(lt),d(It),Tr(lt,()=>a(v).leds,De=>te(v,a(v).leds=De)),m(Ot,It)};R(it,Ot=>{a(c)&&Ot(vt)},yt)}};R(Le,it=>{a(s).leds?it(je):it($t,!1)},$e)}};R(ge,Le=>{a(n).leds?Le(Re):Le(Be,!1)})}d(be),B(()=>{T.disabled=a(n).leds,j.disabled=a(n).leds,Q.disabled=a(n).leds,de.disabled=a(n).leds}),D("click",T,w),D("click",j,()=>x("leds")),D("click",Q,()=>k("leds")),D("click",de,()=>I("leds")),m(we,be)},ie=(we,be)=>{{var Ae=Ce=>{var T=Lf(),P=f(T),q=_(f(P),2),j=f(q),J=f(j);const Q=Ne(()=>a(n).reports?"spinning":"");Ur(J,{size:16,get class(){return a(Q)}}),me(2),d(j);var X=_(j,2),de=f(X);Xr(de,{size:16}),me(2),d(X);var ae=_(X,2),ge=f(ae);hn(ge,{size:16}),me(2),d(ae),d(q),d(P);var Re=_(P,4);{var Be=$e=>{var je=Of();m($e,je)},Le=($e,je)=>{{var $t=yt=>{var vt=If(),Ot=f(vt),It=f(Ot);d(Ot);var lt=_(Ot,2);d(vt),B(()=>V(It,`Error loading reports: ${a(s).reports??""}`)),D("click",lt,w),m(yt,vt)},it=(yt,vt)=>{{var Ot=It=>{var lt=Pf(),De=f(lt);Yr(De),d(lt),Tr(De,()=>a(v).reports,We=>te(v,a(v).reports=We)),m(It,lt)};R(yt,It=>{a(u)&&It(Ot)},vt)}};R($e,yt=>{a(s).reports?yt($t):yt(it,!1)},je)}};R(Re,$e=>{a(n).reports?$e(Be):$e(Le,!1)})}d(T),B(()=>{j.disabled=a(n).reports,X.disabled=a(n).reports,ae.disabled=a(n).reports}),D("click",j,w),D("click",X,()=>k("reports")),D("click",ae,()=>I("reports")),m(Ce,T)};R(we,Ce=>{a(r)==="reports"&&Ce(Ae)},be)}};R(fe,we=>{a(r)==="leds"?we(_e):we(ie,!1)},Se)}};R(O,fe=>{a(r)==="actions"?fe(le):fe(ce,!1)},W)}};R(b,O=>{a(r)==="components"?O(z):O(Y,!1)},S)}};R(ue,b=>{a(r)==="info"?b(E):b(L,!1)})}d(Z),d(N),d(F),B(()=>{Pe(U,1,`tab-item ${a(r)==="info"?"active":""}`,"svelte-121og9w"),Pe(H,1,`tab-item ${a(r)==="components"?"active":""}`,"svelte-121og9w"),Pe(ee,1,`tab-item ${a(r)==="actions"?"active":""}`,"svelte-121og9w"),Pe(ne,1,`tab-item ${a(r)==="leds"?"active":""}`,"svelte-121og9w"),Pe(pe,1,`tab-item ${a(r)==="reports"?"active":""}`,"svelte-121og9w")}),D("click",U,()=>p("info")),D("click",H,()=>p("components")),D("click",ee,()=>p("actions")),D("click",ne,()=>p("leds")),D("click",pe,()=>p("reports")),m(e,F),et()}const Df=Object.freeze(Object.defineProperty({__proto__:null,component:Mf},Symbol.toStringTag,{value:"Module"}));var Ff=A('<div class="empty-grid svelte-1smbbpf">Loading LED configuration...</div>'),zf=A('<div><div class="led-info svelte-1smbbpf"> </div></div>'),jf=A('<div class="led-grid svelte-1smbbpf"><!></div>');function Uf(e,t){Qe(t,!1);const r=G();let n=oe(t,"ledsData",8,null),s=oe(t,"activeLayer",8,""),o=oe(t,"selectedLED",8,null),i=oe(t,"onSelectLED",8);function l(g,x){if(!g||!g.leds)return[];if(g.leds.layers&&Array.isArray(g.leds.layers)){const k=g.leds.layers.find(w=>w["layer-name"]===x);return k?k["layer-config"]||[]:[]}return g.leds.config||[]}function c(g){return!g||!g.color?"":`
			grid-column: ${g.start_location.column+1} / span ${g.size.columns};
			grid-row: ${g.start_location.row+1} / span ${g.size.rows};
			background-color: rgb(${g.color.r}, ${g.color.g}, ${g.color.b});
		`}wt(()=>(zt(n()),zt(s())),()=>{y(r,l(n(),s()))}),Cr(),ft();var u=jf(),v=f(u);{var p=g=>{var x=Ff();m(g,x)},h=g=>{var x=ke(),k=se(x);rt(k,0,()=>Array(5),tt,(w,I,F)=>{var N=ke(),$=se(N);rt($,0,()=>Array(5),tt,(C,U,M,H)=>{var re=ke(),ee=se(re);rt(ee,1,()=>a(r),tt,(K,ne)=>{var ye=ke(),pe=se(ye);{var he=Z=>{var ue=zf();let E;var L=f(ue),b=f(L,!0);d(L),d(ue),B((S,z)=>{E=Pe(ue,1,"led svelte-1smbbpf",null,E,S),_r(ue,z),V(b,a(ne).id)},[()=>({selected:o()===a(ne).id}),()=>c(a(ne))],Ne),D("click",ue,()=>i()(a(ne).id)),m(Z,ue)};R(pe,Z=>{a(ne).start_location.row===F&&a(ne).start_location.column===M&&Z(he)})}m(K,ye)}),m(C,re)}),m(w,N)}),m(g,x)};R(v,g=>{!n()||!a(r).length?g(p):g(h,!1)})}d(u),m(e,u),et()}var qf=A('<button role="tab"> </button>'),Bf=A('<div class="tabs-container svelte-tvc6xa"><div class="tabs-list border-border-color border-b svelte-tvc6xa"></div> <div class="tab-content py-4"><!></div></div>');function Gf(e,t){Qe(t,!1);let r=oe(t,"tabs",24,()=>[]),n=oe(t,"activeTab",12,"");!n()&&r().length>0&&n(r()[0].id);function s(u){n(u)}ft();var o=Bf(),i=f(o);rt(i,5,r,tt,(u,v)=>{var p=qf(),h=f(p,!0);d(p),B(()=>{Pe(p,1,`tab-button mr-2 px-4 py-2 transition-colors focus:outline-none ${(n()===a(v).id?"text-accent-color border-accent-color border-b-2":"text-text-secondary hover:text-text-primary")??""}`,"svelte-tvc6xa"),$r(p,"aria-selected",n()===a(v).id),V(h,a(v).label)}),D("click",p,()=>s(a(v).id)),m(u,p)}),d(i);var l=_(i,2),c=f(l);Ve(c,t,"default",{get activeTab(){return n()}}),d(l),d(o),m(e,o),et()}var Vf=A('<div class="color-config svelte-orbypn"><div class="color-preview svelte-orbypn" title="Click to open color picker"><div class="click-hint svelte-orbypn">Click to choose color</div> <input type="color" class="hidden-input svelte-orbypn"></div> <div class="hex-input svelte-orbypn"><label for="hex-color" class="svelte-orbypn">Hex:</label> <input type="text" id="hex-color" placeholder="#RRGGBB" class="svelte-orbypn"></div> <h4 class="svelte-orbypn">Adjust RGB Values</h4> <div class="color-controls svelte-orbypn"><div class="control-group svelte-orbypn"><label for="red">Red</label> <input type="range" id="red" min="0" max="255" class="svelte-orbypn"> <input type="number" min="0" max="255" class="svelte-orbypn"></div> <div class="control-group svelte-orbypn"><label for="green">Green</label> <input type="range" id="green" min="0" max="255" class="svelte-orbypn"> <input type="number" min="0" max="255" class="svelte-orbypn"></div> <div class="control-group svelte-orbypn"><label for="blue">Blue</label> <input type="range" id="blue" min="0" max="255" class="svelte-orbypn"> <input type="number" min="0" max="255" class="svelte-orbypn"></div></div></div>'),Wf=A('<div class="color-config svelte-orbypn"><div class="color-preview svelte-orbypn" title="Click to open color picker"><div class="click-hint svelte-orbypn">Click to choose color</div> <input type="color" class="hidden-input svelte-orbypn"></div> <div class="hex-input svelte-orbypn"><label for="hex-pressed-color" class="svelte-orbypn">Hex:</label> <input type="text" id="hex-pressed-color" placeholder="#RRGGBB" class="svelte-orbypn"></div> <h4 class="svelte-orbypn">Adjust RGB Values</h4> <div class="color-controls svelte-orbypn"><div class="control-group svelte-orbypn"><label for="pressed-red">Red</label> <input type="range" id="pressed-red" min="0" max="255" class="svelte-orbypn"> <input type="number" min="0" max="255" class="svelte-orbypn"></div> <div class="control-group svelte-orbypn"><label for="pressed-green">Green</label> <input type="range" id="pressed-green" min="0" max="255" class="svelte-orbypn"> <input type="number" min="0" max="255" class="svelte-orbypn"></div> <div class="control-group svelte-orbypn"><label for="pressed-blue">Blue</label> <input type="range" id="pressed-blue" min="0" max="255" class="svelte-orbypn"> <input type="number" min="0" max="255" class="svelte-orbypn"></div></div></div>'),Jf=A("<option> </option>"),Hf=A('<div class="config-panel svelte-orbypn"><!> <div class="additional-settings svelte-orbypn"><h3 class="svelte-orbypn">LED Settings</h3> <div class="control-group svelte-orbypn"><label for="brightness">Brightness</label> <input type="range" id="brightness" min="0" max="20" class="svelte-orbypn"> <input type="number" min="0" max="20" class="svelte-orbypn"></div> <div class="control-group svelte-orbypn"><label for="mode">Mode</label> <select id="mode" class="svelte-orbypn"></select></div></div></div>');function Kf(e,t){Qe(t,!1);const r=G(),n=G(),s=G(),o=G(),i=G(),l=G(),c=G(),u=G();let v=oe(t,"selectedLEDData",8),p=oe(t,"onChange",8),h=G(),g=G();const x=[{id:"color",label:"Color"},{id:"pressed-color",label:"Pressed Color"}];let k=G("color");const w=[{id:0,name:"Static"},{id:1,name:"Animation"},{id:2,name:"Button-controlled"},{id:3,name:"Pulse"},{id:4,name:"Rainbow"},{id:5,name:"Breathing"}];function I(){a(h)&&a(h).click()}function F(){a(g)&&a(g).click()}function N(b){const z=b.target.value,Y=ee(z);Y&&p()({color:Y})}function $(b){const z=b.target.value,Y=ee(z);Y&&p()({pressed_color:Y})}function C(b,S,z=!1){const Y=Number(b);if(!(isNaN(Y)||Y<0||Y>255))if(z){const O={...a(n)};O[S]=Y,p()({pressed_color:O})}else{const O={...a(r)};O[S]=Y,p()({color:O})}}function U(b){const S=Number(b);isNaN(S)||S<0||S>20||p()({brightness:S})}function M(b){const S=Number(b);p()({mode:S})}function H(b){const S=b.toString(16);return S.length===1?"0"+S:S}function re(b,S,z){return"#"+H(b)+H(S)+H(z)}function ee(b){const S=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);return S?{r:parseInt(S[1],16),g:parseInt(S[2],16),b:parseInt(S[3],16)}:null}wt(()=>zt(v()),()=>{var b;y(r,((b=v())==null?void 0:b.color)||{r:0,g:0,b:0})}),wt(()=>zt(v()),()=>{var b;y(n,((b=v())==null?void 0:b.pressed_color)||{r:255,g:255,b:255})}),wt(()=>zt(v()),()=>{var b;y(s,((b=v())==null?void 0:b.brightness)||8)}),wt(()=>zt(v()),()=>{var b;y(o,((b=v())==null?void 0:b.mode)||0)}),wt(()=>a(r),()=>{y(i,`rgb(${a(r).r}, ${a(r).g}, ${a(r).b})`)}),wt(()=>a(n),()=>{y(l,`rgb(${a(n).r}, ${a(n).g}, ${a(n).b})`)}),wt(()=>a(r),()=>{y(c,re(a(r).r,a(r).g,a(r).b))}),wt(()=>a(n),()=>{y(u,re(a(n).r,a(n).g,a(n).b))}),Cr(),ft();var K=Hf(),ne=f(K);Gf(ne,{tabs:x,get activeTab(){return a(k)},set activeTab(b){y(k,b)},children:(b,S)=>{var z=ke(),Y=se(z);{var O=le=>{var ce=Vf(),fe=f(ce),Se=_(f(fe),2);Xe(Se),wn(Se,X=>y(h,X),()=>a(h)),d(fe);var _e=_(fe,2),ie=_(f(_e),2);Xe(ie),d(_e);var we=_(_e,4),be=f(we),Ae=_(f(be),2);Xe(Ae);var Ce=_(Ae,2);Xe(Ce),d(be);var T=_(be,2),P=_(f(T),2);Xe(P);var q=_(P,2);Xe(q),d(T);var j=_(T,2),J=_(f(j),2);Xe(J);var Q=_(J,2);Xe(Q),d(j),d(we),d(ce),B(()=>{_r(fe,`background-color: ${a(i)??""}`),_t(Se,a(c)),_t(ie,a(c)),_t(Ae,a(r).r),_t(Ce,a(r).r),_t(P,a(r).g),_t(q,a(r).g),_t(J,a(r).b),_t(Q,a(r).b)}),D("input",Se,N),D("click",fe,I),D("input",ie,X=>{const de=X.currentTarget.value,ae=ee(de);ae&&p()({color:ae})}),D("input",Ae,X=>C(X.currentTarget.value,"r")),D("input",Ce,X=>C(X.currentTarget.value,"r")),D("input",P,X=>C(X.currentTarget.value,"g")),D("input",q,X=>C(X.currentTarget.value,"g")),D("input",J,X=>C(X.currentTarget.value,"b")),D("input",Q,X=>C(X.currentTarget.value,"b")),m(le,ce)},W=(le,ce)=>{{var fe=Se=>{var _e=Wf(),ie=f(_e),we=_(f(ie),2);Xe(we),wn(we,ge=>y(g,ge),()=>a(g)),d(ie);var be=_(ie,2),Ae=_(f(be),2);Xe(Ae),d(be);var Ce=_(be,4),T=f(Ce),P=_(f(T),2);Xe(P);var q=_(P,2);Xe(q),d(T);var j=_(T,2),J=_(f(j),2);Xe(J);var Q=_(J,2);Xe(Q),d(j);var X=_(j,2),de=_(f(X),2);Xe(de);var ae=_(de,2);Xe(ae),d(X),d(Ce),d(_e),B(()=>{_r(ie,`background-color: ${a(l)??""}`),_t(we,a(u)),_t(Ae,a(u)),_t(P,a(n).r),_t(q,a(n).r),_t(J,a(n).g),_t(Q,a(n).g),_t(de,a(n).b),_t(ae,a(n).b)}),D("input",we,$),D("click",ie,F),D("input",Ae,ge=>{const Re=ge.currentTarget.value,Be=ee(Re);Be&&p()({pressed_color:Be})}),D("input",P,ge=>C(ge.currentTarget.value,"r",!0)),D("input",q,ge=>C(ge.currentTarget.value,"r",!0)),D("input",J,ge=>C(ge.currentTarget.value,"g",!0)),D("input",Q,ge=>C(ge.currentTarget.value,"g",!0)),D("input",de,ge=>C(ge.currentTarget.value,"b",!0)),D("input",ae,ge=>C(ge.currentTarget.value,"b",!0)),m(Se,_e)};R(le,Se=>{a(k)==="pressed-color"&&Se(fe)},ce)}};R(Y,le=>{a(k)==="color"?le(O):le(W,!1)})}m(b,z)},$$slots:{default:!0},$$legacy:!0});var ye=_(ne,2),pe=_(f(ye),2),he=_(f(pe),2);Xe(he);var Z=_(he,2);Xe(Z),d(pe);var ue=_(pe,2),E=_(f(ue),2);bi(E,()=>a(o));var L;rt(E,5,()=>w,tt,(b,S)=>{var z=Jf(),Y={},O=f(z,!0);d(z),B(()=>{Y!==(Y=a(S).id)&&(z.value=(z.__value=a(S).id)==null?"":a(S).id),V(O,a(S).name)}),m(b,z)}),d(E),d(ue),d(ye),d(K),B(()=>{_t(he,a(s)),_t(Z,a(s)),L!==(L=a(o))&&(E.value=(E.__value=a(o))==null?"":a(o),va(E,a(o)))}),D("input",he,b=>U(b.currentTarget.value)),D("input",Z,b=>U(b.currentTarget.value)),D("change",E,b=>M(b.currentTarget.value)),m(e,K),et()}var Yf=A('<form class="rename-form svelte-k8esph"><input type="text" class="svelte-k8esph"></form>'),Xf=A('<button class="icon-button delete svelte-k8esph" title="Delete layer"><!></button>'),Zf=A('<div class="layer-button-group svelte-k8esph"><button> </button> <div class="button-actions svelte-k8esph"><button class="icon-button edit svelte-k8esph" title="Rename layer"><!></button> <!></div></div>'),Qf=A('<div class="layer-nav svelte-k8esph"><div class="layer-label svelte-k8esph">Layer:</div> <div class="layer-buttons svelte-k8esph"><!> <button class="layer-button add svelte-k8esph" title="Add new layer"><!></button></div></div>');function ev(e,t){Qe(t,!1);let r=oe(t,"layers",24,()=>[]),n=oe(t,"activeLayer",8,""),s=oe(t,"onSelectLayer",8),o=oe(t,"onAddLayer",8),i=oe(t,"onRemoveLayer",8),l=oe(t,"onRenameLayer",8),c=G(!1),u=G(""),v=G("");function p(F){y(u,F),y(v,F),y(c,!0)}function h(){a(v)&&a(v)!==a(u)&&l()(a(u),a(v)),y(c,!1),y(u,""),y(v,"")}ft();var g=Qf(),x=_(f(g),2),k=f(x);rt(k,1,r,tt,(F,N)=>{var $=ke(),C=se($);{var U=H=>{var re=Yf(),ee=f(re);Xe(ee),ci(ee,!0),d(re),Tr(ee,()=>a(v),K=>y(v,K)),D("blur",ee,h),D("submit",re,yc(h)),m(H,re)},M=H=>{var re=Zf(),ee=f(re),K=f(ee,!0);d(ee);var ne=_(ee,2),ye=f(ne),pe=f(ye);Ku(pe,{size:14}),d(ye);var he=_(ye,2);{var Z=ue=>{var E=Xf(),L=f(E);td(L,{size:14}),d(E),D("click",E,()=>i()(a(N)["layer-name"])),m(ue,E)};R(he,ue=>{r().length>1&&ue(Z)})}d(ne),d(re),B(()=>{Pe(ee,1,`layer-button ${(n()===a(N)["layer-name"]?"active":"")??""}`,"svelte-k8esph"),V(K,a(N)["layer-name"])}),D("click",ee,()=>s()(a(N)["layer-name"])),D("click",ye,()=>p(a(N)["layer-name"])),m(H,re)};R(C,H=>{a(c)&&a(u)===a(N)["layer-name"]?H(U):H(M,!1)})}m(F,$)});var w=_(k,2),I=f(w);Yi(I,{size:16}),d(w),d(x),d(g),D("click",w,function(...F){var N;(N=o())==null||N.apply(this,F)}),m(e,g),et()}var tv=A("<option> </option>"),rv=A('<div class="animation-panel svelte-14ciidw"><h3 class="svelte-14ciidw">Layer Animation</h3> <div class="animation-controls svelte-14ciidw"><div class="control-group svelte-14ciidw"><label for="animation-active" class="svelte-14ciidw">Enable Animation</label> <div class="toggle-switch svelte-14ciidw"><input type="checkbox" id="animation-active" class="svelte-14ciidw"> <span class="toggle-label svelte-14ciidw"> </span></div></div> <div class="control-group svelte-14ciidw"><label for="animation-mode" class="svelte-14ciidw">Animation Mode</label> <select id="animation-mode" class="svelte-14ciidw"></select></div> <div class="control-group svelte-14ciidw"><label for="animation-speed" class="svelte-14ciidw">Animation Speed</label> <input type="range" id="animation-speed" min="10" max="1000" step="10" class="svelte-14ciidw"> <span class="speed-value svelte-14ciidw"> </span></div></div> <div class="animation-description svelte-14ciidw"><h4 class="svelte-14ciidw"> </h4> <p class="description svelte-14ciidw"><!></p></div></div>');function nv(e,t){Qe(t,!1);const r=G(),n=G(),s=G();let o=oe(t,"animationSettings",8),i=oe(t,"onChange",8);const l=[{id:0,name:"Rainbow"},{id:1,name:"Chase"},{id:2,name:"Breath"},{id:3,name:"Alternating"}];function c(){i()({active:!a(r),mode:a(n),speed:a(s)})}function u(Z){const ue=Z.target,E=parseInt(ue.value);i()({active:a(r),mode:E,speed:a(s)})}function v(Z){const ue=Z.target,E=parseInt(ue.value);isNaN(E)||E<10||E>1e3||i()({active:a(r),mode:a(n),speed:E})}wt(()=>zt(o()),()=>{var Z;y(r,((Z=o())==null?void 0:Z.active)||!1)}),wt(()=>zt(o()),()=>{var Z;y(n,((Z=o())==null?void 0:Z.mode)||0)}),wt(()=>zt(o()),()=>{var Z;y(s,((Z=o())==null?void 0:Z.speed)||100)}),Cr(),ft();var p=rv(),h=_(f(p),2),g=f(h),x=_(f(g),2),k=f(x);Xe(k);var w=_(k,2),I=f(w,!0);d(w),d(x),d(g);var F=_(g,2),N=_(f(F),2);bi(N,()=>a(n));var $;rt(N,5,()=>l,tt,(Z,ue)=>{var E=tv(),L={},b=f(E,!0);d(E),B(()=>{L!==(L=a(ue).id)&&(E.value=(E.__value=a(ue).id)==null?"":a(ue).id),V(b,a(ue).name)}),m(Z,E)}),d(N),d(F);var C=_(F,2),U=_(f(C),2);Xe(U);var M=_(U,2),H=f(M);d(M),d(C),d(h);var re=_(h,2),ee=f(re),K=f(ee);d(ee);var ne=_(ee,2),ye=f(ne);{var pe=Z=>{var ue=Ht("Cycles through a rainbow of colors across all LEDs.");m(Z,ue)},he=(Z,ue)=>{{var E=b=>{var S=Ht("Animates LEDs in a chase pattern.");m(b,S)},L=(b,S)=>{{var z=O=>{var W=Ht("Fades LEDs in and out in a breathing pattern.");m(O,W)},Y=(O,W)=>{{var le=ce=>{var fe=Ht("Alternates between colors for visual contrast.");m(ce,fe)};R(O,ce=>{a(n)===3&&ce(le)},W)}};R(b,O=>{a(n)===2?O(z):O(Y,!1)},S)}};R(Z,b=>{a(n)===1?b(E):b(L,!1)},ue)}};R(ye,Z=>{a(n)===0?Z(pe):Z(he,!1)})}d(ne),d(re),d(p),B(Z=>{es(k,a(r)),V(I,a(r)?"On":"Off"),$!==($=a(n))&&(N.value=(N.__value=a(n))==null?"":a(n),va(N,a(n))),N.disabled=!a(r),_t(U,a(s)),U.disabled=!a(r),V(H,`${a(s)??""}ms`),V(K,`Current Animation: ${Z??""}`)},[()=>{var Z;return(Z=l.find(ue=>ue.id===a(n)))==null?void 0:Z.name}],Ne),D("change",k,c),D("change",N,u),D("input",U,v),m(e,p),et()}var av=A('<div class="loading svelte-mf3irm">Loading LED configuration...</div>'),sv=A('<div class="error svelte-mf3irm"><p> </p> <button>Retry</button></div>'),ov=A('<div class="config-header svelte-mf3irm"><h2 class="svelte-mf3irm"> </h2> <p class="button-info svelte-mf3irm"> </p></div> <!>',1),iv=A('<div class="no-selection svelte-mf3irm"><p>Select an LED on the grid to configure it.</p></div>'),lv=A('<!> <!> <div class="main-content svelte-mf3irm"><div class="led-visual svelte-mf3irm"><!></div> <div class="led-config svelte-mf3irm"><!></div></div>',1),cv=A('<div class="page-container svelte-mf3irm"><div class="header svelte-mf3irm"><h1 class="svelte-mf3irm">Lighting Configuration</h1> <div class="header-actions svelte-mf3irm"><button class="action-button refresh svelte-mf3irm" title="Refresh LED configuration"><!> <span>Refresh</span></button> <button class="action-button save svelte-mf3irm" title="Save LED configuration"><!> <span>Save</span></button></div></div> <!></div>');function uv(e,t){Qe(t,!1);let r=G(!0),n=G(null),s=G(null),o=G([]),i=G(""),l=G(null),c=G(null),u={},v=G(!1);dr(async()=>{await p()});async function p(){y(r,!0),y(n,null);try{const E=await Ft.getLeds();y(s,E),h(),a(o).length>0&&y(i,a(o)[0]["layer-name"]),Et("connected")}catch(E){console.error("Error fetching LED configuration:",E),y(n,E.message||"Failed to load LED configuration"),Et("disconnected")}finally{y(r,!1)}}function h(){y(o,[]),!(!a(s)||!a(s).leds)&&(a(s).leds.layers&&Array.isArray(a(s).leds.layers)?y(o,a(s).leds.layers.map(E=>({"layer-name":E["layer-name"],active:E.active||!1}))):y(o,[{"layer-name":a(s).leds["layer-name"]||"default-led-layer",active:a(s).leds.active||!1}]),console.log("Available LED layers:",a(o)))}function g(E){var L;if(y(l,E),a(s)&&a(s).leds)if(a(s).leds.layers&&Array.isArray(a(s).leds.layers)){const b=a(s).leds.layers.find(S=>S["layer-name"]===a(i));if(b&&b["layer-config"]){const S=b["layer-config"].find(z=>z.id===E);S&&y(c,JSON.parse(JSON.stringify(S)))}}else{const b=(L=a(s).leds.config)==null?void 0:L.find(S=>S.id===E);b&&y(c,JSON.parse(JSON.stringify(b)))}console.log("Selected LED:",a(c))}function x(E){y(i,E),y(l,null),y(c,null)}function k(E){if(!a(l)||!a(i))return;const L=`${a(i)}:${a(l)}`;u[L]={...u[L],...E},y(v,!0);for(const b in E)typeof E[b]=="object"&&E[b]!==null?te(c,a(c)[b]={...a(c)[b],...E[b]}):te(c,a(c)[b]=E[b]);N(a(l),E),console.log("Updated LED:",a(c))}function w(){if(!a(s)||!a(s).leds)return;const E="led-layer";let L=1,b=`${E}-${L}`;for(;a(o).some(Y=>Y["layer-name"]===b);)L++,b=`${E}-${L}`;if(!a(s).leds.layers){const Y=a(s).leds.config||[],O=a(s).leds["layer-name"]||"default-led-layer";te(s,a(s).leds.layers=[{"layer-name":O,active:a(s).leds.active||!1,pin:a(s).leds.pin,type:a(s).leds.type,brightness:a(s).leds.brightness,animation:a(s).leds.animation,"layer-config":Y}]),delete a(s).leds.config}const S=a(s).leds.layers.find(Y=>Y["layer-name"]===a(i)),z={"layer-name":b,active:!1,pin:a(s).leds.pin||(S==null?void 0:S.pin)||7,type:a(s).leds.type||(S==null?void 0:S.type)||"sk6812",brightness:a(s).leds.brightness||(S==null?void 0:S.brightness)||8,animation:a(s).leds.animation||(S==null?void 0:S.animation)||{active:!1,mode:0,speed:100},"layer-config":JSON.parse(JSON.stringify((S==null?void 0:S["layer-config"])||[]))};a(s).leds.layers.push(z),y(o,[...a(o),{"layer-name":b,active:!1}]),y(i,b),y(v,!0)}function I(E){!a(s)||!a(s).leds||!a(s).leds.layers||(te(s,a(s).leds.layers=a(s).leds.layers.filter(L=>L["layer-name"]!==E)),y(o,a(o).filter(L=>L["layer-name"]!==E)),a(i)===E&&a(o).length>0&&y(i,a(o)[0]["layer-name"]),y(v,!0),y(l,null),y(c,null))}function F(E,L){if(!a(s)||!a(s).leds||!a(s).leds.layers)return;const b=a(s).leds.layers.findIndex(S=>S["layer-name"]===E);b>=0&&(te(s,a(s).leds.layers[b]["layer-name"]=L),y(o,a(o).map(S=>S["layer-name"]===E?{...S,"layer-name":L}:S)),a(i)===E&&y(i,L),y(v,!0))}function N(E,L){if(!(!a(s)||!a(s).leds)){if(a(s).leds.layers&&Array.isArray(a(s).leds.layers)){const b=a(s).leds.layers.findIndex(S=>S["layer-name"]===a(i));if(b>=0&&a(s).leds.layers[b]["layer-config"]){const S=a(s).leds.layers[b]["layer-config"].findIndex(z=>z.id===E);if(S>=0){const z=a(s).leds.layers[b]["layer-config"][S];for(const Y in L)typeof L[Y]=="object"&&L[Y]!==null?z[Y]={...z[Y],...L[Y]}:z[Y]=L[Y]}}}else if(a(s).leds.config){const b=a(s).leds.config.findIndex(S=>S.id===E);if(b>=0){const S=a(s).leds.config[b];for(const z in L)typeof L[z]=="object"&&L[z]!==null?S[z]={...S[z],...L[z]}:S[z]=L[z]}}}}async function $(){if(a(v))try{await Ft.updateLeds(a(s)),u={},y(v,!1),alert("LED configuration saved successfully!")}catch(E){console.error("Error saving LED configuration:",E),alert(`Failed to save LED configuration: ${E.message}`)}}function C(E){if(!(!a(s)||!a(s).leds||!a(i)))if(a(s).leds.layers&&Array.isArray(a(s).leds.layers)){const L=a(s).leds.layers.findIndex(b=>b["layer-name"]===a(i));L>=0&&(te(s,a(s).leds.layers[L].animation=E),y(v,!0))}else te(s,a(s).leds.animation=E),y(v,!0)}function U(){if(!a(s)||!a(s).leds||!a(i))return{active:!1,mode:0,speed:100};if(a(s).leds.layers&&Array.isArray(a(s).leds.layers)){const E=a(s).leds.layers.find(L=>L["layer-name"]===a(i));return(E==null?void 0:E.animation)||{active:!1,mode:0,speed:100}}return a(s).leds.animation||{active:!1,mode:0,speed:100}}wt(()=>(a(i),a(s)),()=>{a(i)&&a(s)&&(y(l,null),y(c,null))}),Cr(),ft();var M=cv(),H=f(M),re=_(f(H),2),ee=f(re),K=f(ee);const ne=Ne(()=>a(r)?"spinning":"");Ur(K,{size:16,get class(){return a(ne)}}),me(2),d(ee);var ye=_(ee,2),pe=f(ye);$n(pe,{size:16}),me(2),d(ye),d(re),d(H);var he=_(H,2);{var Z=E=>{var L=av();m(E,L)},ue=(E,L)=>{{var b=z=>{var Y=sv(),O=f(Y),W=f(O);d(O);var le=_(O,2);d(Y),B(()=>V(W,`Error: ${a(n)??""}`)),D("click",le,p),m(z,Y)},S=(z,Y)=>{{var O=W=>{var le=lv(),ce=se(le);ev(ce,{get layers(){return a(o)},get activeLayer(){return a(i)},onSelectLayer:x,onAddLayer:w,onRemoveLayer:I,onRenameLayer:F});var fe=_(ce,2);{var Se=P=>{const q=Ne(U);nv(P,{get animationSettings(){return a(q)},onChange:C})};R(fe,P=>{a(i)&&P(Se)})}var _e=_(fe,2),ie=f(_e),we=f(ie);Uf(we,{get ledsData(){return a(s)},get activeLayer(){return a(i)},get selectedLED(){return a(l)},onSelectLED:g}),d(ie);var be=_(ie,2),Ae=f(be);{var Ce=P=>{var q=ov(),j=se(q),J=f(j),Q=f(J);d(J);var X=_(J,2),de=f(X);d(X),d(j);var ae=_(j,2);Kf(ae,{get selectedLEDData(){return a(c)},onChange:k}),B(()=>{V(Q,`Configure LED: ${a(l)??""}`),V(de,`Associated Button: ${a(c).button_id||"None"}`)}),m(P,q)},T=P=>{var q=iv();m(P,q)};R(Ae,P=>{a(l)&&a(c)?P(Ce):P(T,!1)})}d(be),d(_e),m(W,le)};R(z,W=>{a(s)&&W(O)},Y)}};R(E,z=>{a(n)?z(b):z(S,!1)},L)}};R(he,E=>{a(r)?E(Z):E(ue,!1)})}d(M),B(()=>{ee.disabled=a(r),ye.disabled=!a(v)||a(r)}),D("click",ee,p),D("click",ye,$),m(e,M),et()}const dv=Object.freeze(Object.defineProperty({__proto__:null,component:uv},Symbol.toStringTag,{value:"Module"}));class Kr{static async getAllMacros(){try{const t=await ut.get(ve.MACROS.LIST);return console.log("API Response:",t),t&&t.macros&&Array.isArray(t.macros)?t.macros.map(n=>n.id).sort((n,s)=>{const o=n.match(/^(\d+)_/),i=s.match(/^(\d+)_/);return o&&i?parseInt(o[1])-parseInt(i[1]):o?-1:i?1:n.localeCompare(s)}):Array.isArray(t)?t:(console.error("Unexpected response format:",t),[])}catch(t){throw console.error("Error fetching macros:",t),t}}static async getMacro(t){try{const r=await ut.get(ve.MACROS.GET(t));if(console.log(`Fetched macro ${t}:`,r),r&&"macros"in r&&Array.isArray(r.macros)){const n=r.macros.find(s=>s.id===t);if(n)return console.log(`Found macro ${t} in list:`,n),n}if(r&&"id"in r)return console.log(`Using direct macro object for ${t}:`,r),r;throw console.error("Unexpected macro response format:",r),new Error("Invalid macro data format")}catch(r){throw console.error(`Error fetching macro ${t}:`,r),r}}static async saveMacro(t,r){try{await ut.post(ve.MACROS.GET(t),r)}catch(n){throw console.error(`Error saving macro ${t}:`,n),n}}static async deleteMacro(t){try{await ut.delete(ve.MACROS.GET(t))}catch(r){throw console.error(`Error deleting macro ${t}:`,r),r}}}var fv=A('<li class="svelte-amopma"><strong> </strong> </li>'),vv=A('<div class="command-type svelte-amopma"><h4 class="svelte-amopma"> </h4> <p> </p> <h5 class="svelte-amopma">Example:</h5> <pre class="svelte-amopma"><code class="svelte-amopma"> </code></pre> <h5 class="svelte-amopma">Fields:</h5> <ul class="svelte-amopma"></ul></div>'),pv=A(`<div class="info-tab svelte-amopma"><div class="info-header svelte-amopma"><!> <h2 class="svelte-amopma">Macro Information</h2></div> <div class="info-content svelte-amopma"><section class="svelte-amopma"><h3 class="svelte-amopma">Macro Structure</h3> <p>A macro is defined as a JSON object with the following structure:</p> <pre class="svelte-amopma"><code class="svelte-amopma"> </code></pre> <h4 class="svelte-amopma">Fields:</h4> <ul class="svelte-amopma"><li class="svelte-amopma"><strong>id</strong> (string): A unique identifier for the macro</li> <li class="svelte-amopma"><strong>name</strong> (string): A display name for the macro</li> <li class="svelte-amopma"><strong>description</strong> (string): A description of what the macro does</li> <li class="svelte-amopma"><strong>commands</strong> (array): An array of command objects that define the actions to perform</li></ul></section> <section class="svelte-amopma"><h3 class="svelte-amopma">Complete Example</h3> <p>Here's a complete example of a macro that opens iTerm via Spotlight:</p> <pre class="svelte-amopma"><code class="svelte-amopma"> </code></pre></section> <section class="svelte-amopma"><h3 class="svelte-amopma">Command Types</h3> <p>The Macro System supports various command types, each representing a different action:</p> <!></section> <section class="svelte-amopma"><h3 class="svelte-amopma">Best Practices</h3> <ul class="svelte-amopma"><li class="svelte-amopma"><strong>Use descriptive names and descriptions</strong>: Make it clear what the macro does</li> <li class="svelte-amopma"><strong>Keep macros simple</strong>: Break complex actions into multiple macros</li> <li class="svelte-amopma"><strong>Use delays appropriately</strong>: Add delays between commands to ensure they execute correctly</li> <li class="svelte-amopma"><strong>Test your macros</strong>: Always test macros to ensure they work as expected</li> <li class="svelte-amopma"><strong>Consider platform differences</strong>: Some key combinations may work differently on different operating systems</li></ul></section></div></div>`);function hv(e){const t=[{type:"key_press",description:"Simulates pressing a key on the keyboard",example:{type:"key_press",report:["0x00","0x00","0x28","0x00","0x00","0x00","0x00","0x00"]},fields:[{name:"report",type:"string[]",description:"An array of 8 hexadecimal values representing the HID report for the key press. The first byte (index 0) represents modifier keys (Ctrl, Alt, Shift, etc.). The third byte (index 2) represents the key code. Other bytes are typically set to 0."}]},{type:"key_release",description:"Simulates releasing a key on the keyboard",example:{type:"key_release",report:["0x00","0x00","0x28","0x00","0x00","0x00","0x00","0x00"]},fields:[{name:"report",type:"string[]",description:"An array of 8 hexadecimal values representing the HID report for the key release. The first byte (index 0) represents modifier keys (Ctrl, Alt, Shift, etc.). The third byte (index 2) represents the key code. Other bytes are typically set to 0."}]},{type:"consumer_press",description:"Simulates pressing a consumer control key (media keys, volume controls, etc.)",example:{type:"consumer_press",report:["0x00","0x00","0x00","0x00"]},fields:[{name:"report",type:"string[]",description:"An array of 4 hexadecimal values representing the HID consumer report for the key press."}]},{type:"consumer_release",description:"Simulates releasing a consumer control key",example:{type:"consumer_release",report:["0x00","0x00","0x00","0x00"]},fields:[{name:"report",type:"string[]",description:"An array of 4 hexadecimal values representing the HID consumer report for the key release."}]},{type:"delay",description:"Pauses execution for a specified amount of time",example:{type:"delay",ms:300},fields:[{name:"ms",type:"number",description:"The number of milliseconds to pause execution."}]},{type:"type_text",description:"Types a string of text",example:{type:"type_text",text:"Hello, World!"},fields:[{name:"text",type:"string",description:"The text to type."}]},{type:"mouse_move",description:"Moves the mouse cursor by a relative amount",example:{type:"mouse_move",x:100,y:-50},fields:[{name:"x",type:"number",description:"The relative X movement in pixels. Positive values move right, negative values move left."},{name:"y",type:"number",description:"The relative Y movement in pixels. Positive values move down, negative values move up."}]},{type:"mouse_button_press",description:"Simulates pressing a mouse button",example:{type:"mouse_button_press",button:1},fields:[{name:"button",type:"number",description:"The mouse button to press. 1 = left, 2 = right, 3 = middle, 4 = back, 5 = forward."}]},{type:"mouse_button_release",description:"Simulates releasing a mouse button",example:{type:"mouse_button_release",button:1},fields:[{name:"button",type:"number",description:"The mouse button to release. 1 = left, 2 = right, 3 = middle, 4 = back, 5 = forward."}]},{type:"mouse_wheel",description:"Simulates scrolling the mouse wheel",example:{type:"mouse_wheel",amount:1},fields:[{name:"amount",type:"number",description:"The amount to scroll. Positive values scroll up, negative values scroll down."}]},{type:"execute_macro",description:"Executes another macro as a sub-macro",example:{type:"execute_macro",macroId:"another_macro_id"},fields:[{name:"macroId",type:"string",description:"The ID of the macro to execute."}]}],r={id:"unique_macro_id",name:"Display Name",description:"Description of what this macro does",commands:[]},n={id:"open_iterm_spotlight",name:"Open iTerm via Spotlight",description:"Opens Spotlight and launches iTerm",commands:[{type:"key_press",report:["0x08","0x00","0x2C","0x00","0x00","0x00","0x00","0x00"]},{type:"delay",ms:300},{type:"type_text",text:"iterm"},{type:"delay",ms:200},{type:"key_press",report:["0x00","0x00","0x28","0x00","0x00","0x00","0x00","0x00"]}]};var s=pv(),o=f(s),i=f(o);js(i,{size:24}),me(2),d(o);var l=_(o,2),c=f(l),u=_(f(c),4),v=f(u),p=f(v,!0);d(v),d(u),me(4),d(c);var h=_(c,2),g=_(f(h),4),x=f(g),k=f(x,!0);d(x),d(g),d(h);var w=_(h,2),I=_(f(w),4);rt(I,1,()=>t,tt,(F,N)=>{var $=vv(),C=f($),U=f(C,!0);d(C);var M=_(C,2),H=f(M,!0);d(M);var re=_(M,4),ee=f(re),K=f(ee,!0);d(ee),d(re);var ne=_(re,4);rt(ne,5,()=>a(N).fields,tt,(ye,pe)=>{var he=fv(),Z=f(he),ue=f(Z,!0);d(Z);var E=_(Z);d(he),B(()=>{V(ue,a(pe).name),V(E,` (${a(pe).type??""}): ${a(pe).description??""}`)}),m(ye,he)}),d(ne),d($),B(ye=>{V(U,a(N).type),V(H,a(N).description),V(K,ye)},[()=>JSON.stringify(a(N).example,null,2)],Ne),m(F,$)}),d(w),me(2),d(l),d(s),B((F,N)=>{V(p,F),V(k,N)},[()=>JSON.stringify(r,null,2),()=>JSON.stringify(n,null,2)],Ne),m(e,s)}var gv=A('<div class="loading svelte-1ywehn5">Loading macros...</div>'),_v=A('<div class="error svelte-1ywehn5"><p class="svelte-1ywehn5">Error loading macros:</p> <pre class="svelte-1ywehn5"> </pre></div>'),yv=A("<button><!> <span> </span></button>"),mv=A('<div class="no-macros svelte-1ywehn5"><p class="svelte-1ywehn5">No macro files found</p></div>'),xv=A('<div class="loading svelte-1ywehn5">Loading macro content...</div>'),wv=A('<div class="error svelte-1ywehn5"><p class="svelte-1ywehn5">Error loading macro content:</p> <pre class="svelte-1ywehn5"> </pre></div>'),bv=A('<div class="editor-container svelte-1ywehn5"><textarea class="json-editor svelte-1ywehn5" spellcheck="false" placeholder="Macro content will appear here..."></textarea></div>'),kv=A('<div class="tab-panel svelte-1ywehn5"><div class="tab-header svelte-1ywehn5"><h2> </h2> <div class="tab-actions svelte-1ywehn5"><button class="action-button svelte-1ywehn5"><!> <span>Refresh</span></button> <button class="action-button svelte-1ywehn5"><!> <span>Download</span></button> <button class="action-button primary svelte-1ywehn5"><!> <span>Save</span></button> <button class="action-button danger svelte-1ywehn5"><span>Delete</span></button></div></div> <!></div>'),Ev=A('<div class="no-macro-selected svelte-1ywehn5"><p class="svelte-1ywehn5">Select a macro file to view and edit its content</p></div>'),$v=A('<div class="page-container svelte-1ywehn5"><h1 class="svelte-1ywehn5">Raw Macros Configuration</h1> <p class="svelte-1ywehn5">View and edit raw macro files for your macropad.</p> <div class="config-layout svelte-1ywehn5"><div class="sidebar svelte-1ywehn5"><div class="sidebar-header svelte-1ywehn5"><h2 class="svelte-1ywehn5">Macros</h2> <button class="new-macro-button svelte-1ywehn5"><!> <span>New</span></button></div> <div class="macro-list svelte-1ywehn5"><!></div> <button class="info-button svelte-1ywehn5"><!> <span>Macro Info</span></button></div> <div class="main-content svelte-1ywehn5"><!></div></div></div>');function Sv(e,t){Qe(t,!1);let r=G(""),n=G([]),s=G({}),o=G(!1),i=G({list:!1,content:!1}),l=G({list:null,content:null}),c=G("");async function u(E){y(r,E),y(o,!1),await h(E)}function v(){y(o,!a(o))}async function p(){te(i,a(i).list=!0),te(l,a(l).list=null);try{const E=await Kr.getAllMacros();y(n,E),y(s,{});for(const L of E)try{const b=await Kr.getMacro(L);te(s,a(s)[L]=b.name||L.replace(/_/g," ").replace(/^(\d+)_/,""))}catch(b){console.error(`Error fetching macro details for ${L}:`,b),te(s,a(s)[L]=L.replace(/_/g," ").replace(/^(\d+)_/,""))}a(n).sort((L,b)=>{const S=a(s)[L].toLowerCase(),z=a(s)[b].toLowerCase();return S.localeCompare(z)}),a(n).length>0&&!a(r)&&(y(r,a(n)[0]),await h(a(r)))}catch(E){console.error("Error fetching macro files:",E),te(l,a(l).list=E instanceof Error?E.message:"Unknown error")}finally{te(i,a(i).list=!1)}}async function h(E){te(i,a(i).content=!0),te(l,a(l).content=null);try{console.log(`Fetching macro content for ${E}...`);const L=await Kr.getMacro(E);if(console.log("Macro content received:",L),!L)throw new Error("No data received from the server");if((!L.id||!L.commands)&&(console.warn("Unexpected macro data structure:",L),L.macros&&Array.isArray(L.macros))){const b=L.macros.find(S=>S.id===E);if(b){console.log("Found specific macro in list:",b),y(c,JSON.stringify(b,null,2));return}}y(c,JSON.stringify(L,null,2))}catch(L){console.error(`Error fetching macro content for ${E}:`,L),te(l,a(l).content=L instanceof Error?L.message:"Unknown error")}finally{te(i,a(i).content=!1)}}async function g(){te(i,a(i).content=!0),te(l,a(l).content=null);try{const E=JSON.parse(a(c));E.id!==a(r)&&(console.warn(`Macro ID mismatch: ${E.id} !== ${a(r)}`),E.id=a(r)),await Kr.saveMacro(a(r),E),alert(`Macro ${a(r)} saved successfully!`)}catch(E){console.error(`Error saving macro ${a(r)}:`,E),te(l,a(l).content=E instanceof Error?E.message:"Unknown error"),E instanceof SyntaxError&&te(l,a(l).content="Invalid JSON format: "+E.message)}finally{te(i,a(i).content=!1)}}function x(){const E=a(c),L=new Blob([E],{type:"application/json"}),b=URL.createObjectURL(L),S=document.createElement("a");S.href=b,S.download=`${a(r)}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(b)}async function k(){await h(a(r))}async function w(){const E=prompt("Enter a name for the new macro:");if(!E)return;if(a(n).includes(E)){alert(`A macro named "${E}" already exists.`);return}const L={id:E,name:E,description:"New macro",commands:[]};try{await Kr.saveMacro(E,L),await p(),y(r,E),y(c,JSON.stringify(L,null,2))}catch(b){console.error("Error creating new macro:",b),alert(`Error creating macro: ${b instanceof Error?b.message:"Unknown error"}`)}}async function I(E){if(confirm(`Are you sure you want to delete the macro "${E}"?`))try{await Kr.deleteMacro(E),await p(),a(r)===E&&(y(r,a(n).length>0?a(n)[0]:""),a(r)?await h(a(r)):y(c,""))}catch(L){console.error(`Error deleting macro ${E}:`,L),alert(`Error deleting macro: ${L instanceof Error?L.message:"Unknown error"}`)}}dr(async()=>{await p()}),ft();var F=$v(),N=_(f(F),4),$=f(N),C=f($),U=_(f(C),2),M=f(U);Yi(M,{size:18}),me(2),d(U),d(C);var H=_(C,2),re=f(H);{var ee=E=>{var L=gv();m(E,L)},K=(E,L)=>{{var b=z=>{var Y=_v(),O=_(f(Y),2),W=f(O,!0);d(O),d(Y),B(()=>V(W,a(l).list)),m(z,Y)},S=(z,Y)=>{{var O=le=>{var ce=ke(),fe=se(ce);rt(fe,1,()=>a(n),tt,(Se,_e)=>{var ie=yv(),we=f(ie);Hi(we,{size:16});var be=_(we,2),Ae=f(be,!0);d(be),d(ie),B(()=>{Pe(ie,1,`macro-item ${a(r)===a(_e)?"active":""}`,"svelte-1ywehn5"),V(Ae,a(s)[a(_e)]||a(_e))}),D("click",ie,()=>u(a(_e))),m(Se,ie)}),m(le,ce)},W=le=>{var ce=mv();m(le,ce)};R(z,le=>{a(n).length>0?le(O):le(W,!1)},Y)}};R(E,z=>{a(l).list?z(b):z(S,!1)},L)}};R(re,E=>{a(i).list?E(ee):E(K,!1)})}d(H);var ne=_(H,2),ye=f(ne);js(ye,{size:18}),me(2),d(ne),d($);var pe=_($,2),he=f(pe);{var Z=E=>{hv(E)},ue=(E,L)=>{{var b=z=>{var Y=kv(),O=f(Y),W=f(O),le=f(W);d(W);var ce=_(W,2),fe=f(ce),Se=f(fe);const _e=Ne(()=>a(i).content?"spinning":"");Ur(Se,{size:16,get class(){return a(_e)}}),me(2),d(fe);var ie=_(fe,2),we=f(ie);Xr(we,{size:16}),me(2),d(ie);var be=_(ie,2),Ae=f(be);$n(Ae,{size:16}),me(2),d(be);var Ce=_(be,2);d(ce),d(O);var T=_(O,2);{var P=j=>{var J=xv();m(j,J)},q=(j,J)=>{{var Q=de=>{var ae=wv(),ge=_(f(ae),2),Re=f(ge,!0);d(ge),d(ae),B(()=>V(Re,a(l).content)),m(de,ae)},X=de=>{var ae=bv(),ge=f(ae);Yr(ge),d(ae),Tr(ge,()=>a(c),Re=>y(c,Re)),m(de,ae)};R(j,de=>{a(l).content?de(Q):de(X,!1)},J)}};R(T,j=>{a(i).content?j(P):j(q,!1)})}d(Y),B(()=>{V(le,`Macro: ${(a(s)[a(r)]||a(r))??""}`),fe.disabled=a(i).content,ie.disabled=a(i).content,be.disabled=a(i).content,Ce.disabled=a(i).content}),D("click",fe,k),D("click",ie,()=>x()),D("click",be,g),D("click",Ce,()=>I(a(r))),m(z,Y)},S=z=>{var Y=Ev();m(z,Y)};R(E,z=>{a(r)?z(b):z(S,!1)},L)}};R(he,E=>{a(o)?E(Z):E(ue,!1)})}d(pe),d(N),d(F),D("click",U,w),D("click",ne,v),m(e,F),et()}const Av=Object.freeze(Object.defineProperty({__proto__:null,component:Sv},Symbol.toStringTag,{value:"Module"})),Zi=sr([]),qs=sr({ssid:"",ap_mode:!1,ap_name:"",sta_connected:!1,sta_ip:"",ap_ip:""}),Zn=sr({connected:!1,ip:"",ssid:"",ap_mode:!1}),ls=sr(!1),cs=sr(!1),yr=sr(null),Cv=xc(Zn,e=>e.connected?3:0);async function Nv(){try{ls.set(!0),yr.set(null),console.log("Starting WiFi network scan...");const e=await ut.scanWiFiNetworks();return console.log(`Found ${e.length} WiFi networks:`),e.forEach((t,r)=>{console.log(`Network ${r+1}:`,{ssid:t.ssid,rssi:t.rssi,encryption:t.encryption,channel:t.channel})}),Zi.set(e),e}catch(e){return console.error("Failed to scan WiFi networks:",e),yr.set("Failed to scan WiFi networks"),[]}finally{ls.set(!1)}}async function Tv(){try{yr.set(null);const e=await ut.getWiFiConfig();return qs.set(e),e}catch(e){console.error("Failed to get WiFi configuration:",e),yr.set("Failed to get WiFi configuration")}}async function Ov(e,t,r=!1,n=""){try{cs.set(!0),yr.set(null);const s={ssid:e,password:t,ap_mode:r,ap_name:n};return await ut.post(ve.WIFI.CONFIG,s),qs.update(o=>({...o,ssid:e,ap_mode:r,ap_name:n})),!0}catch(s){return console.error("Failed to connect to WiFi:",s),yr.set("Failed to connect to WiFi"),!1}finally{cs.set(!1)}}async function Ga(){try{yr.set(null);const e=await ut.getSystemStatus();return e!=null&&e.wifi&&Zn.set(e.wifi),e}catch(e){console.error("Failed to get system status:",e),yr.set("Failed to get system status")}}var Iv=A("<button><!></button>");function en(e,t){let r=oe(t,"type",8,"button"),n=oe(t,"variant",8,"default"),s=oe(t,"size",8,"medium"),o=oe(t,"disabled",8,!1),i=oe(t,"fullWidth",8,!1);var l=Iv();let c;var u=f(l);Ve(u,t,"default",{}),d(l),B(v=>{$r(l,"type",r()),c=Pe(l,1,`btn ${n()??""} ${s()??""}`,"svelte-es1f9h",c,v),l.disabled=o()},[()=>({"full-width":i()})],Ne),D("click",l,function(v){yn.call(this,t,v)}),m(e,l)}var Pv=A('<span class="spinner svelte-vm82au"></span>'),Lv=A('<span class="icon svelte-vm82au">↻</span>'),Rv=A("<!> ",1),Mv=A("<span>Scanning for networks...</span>"),Dv=A("<span>No networks found</span>"),Fv=A('<div class="selected-network svelte-vm82au"><span> </span> <span class="connected-badge svelte-vm82au">Connected</span></div>'),zv=A("<span>Select a WiFi network</span>"),jv=A('<div class="connected-indicator svelte-vm82au">Connected</div>'),Uv=A('<div tabindex="0"><div class="network-info svelte-vm82au"><span class="network-name svelte-vm82au"> </span> <span class="network-security svelte-vm82au"> </span></div> <div><span class="signal-bar svelte-vm82au"></span> <span class="signal-bar svelte-vm82au"></span> <span class="signal-bar svelte-vm82au"></span> <span class="signal-bar svelte-vm82au"></span></div> <!></div>'),qv=A('<div class="dropdown-content svelte-vm82au"></div>'),Bv=A('<div class="network-list svelte-vm82au"><div class="list-header svelte-vm82au"><h3 class="svelte-vm82au">WiFi Connection</h3> <!></div> <div class="network-selection svelte-vm82au"><div class="dropdown-label svelte-vm82au">Select Network:</div> <div class="network-dropdown svelte-vm82au"><button class="dropdown-button svelte-vm82au"><!> <span class="dropdown-arrow svelte-vm82au">▼</span></button> <!></div></div></div>');function Gv(e,t){Qe(t,!1);const[r,n]=un(),s=()=>nr(Zn,"$wifiStatus",r),o=()=>nr(ls,"$isScanning",r),i=()=>nr(Zi,"$wifiNetworks",r),l=G(),c=As();function u(K){return K>=-50?"signal-excellent":K>=-60?"signal-good":K>=-70?"signal-fair":"signal-weak"}function v(K){return s().connected&&s().ssid===K.ssid}function p(K){c("select",{network:K})}let h=G(!1);function g(){o()||y(h,!a(h))}function x(K){const ne=K.target,ye=document.querySelector(".network-dropdown");ye&&!ye.contains(ne)&&a(h)&&y(h,!1)}typeof window<"u"&&window.addEventListener("click",x);function k(K){K.stopPropagation(),c("refresh")}wt(()=>i(),()=>{y(l,i().find(K=>v(K))||null)}),Cr(),ft();var w=Bv(),I=f(w),F=_(f(I),2);en(F,{get disabled(){return o()},variant:"primary",$$events:{click:k},children:(K,ne)=>{var ye=Rv(),pe=se(ye);{var he=E=>{var L=Pv();m(E,L)},Z=E=>{var L=Lv();m(E,L)};R(pe,E=>{o()?E(he):E(Z,!1)})}var ue=_(pe);B(()=>V(ue,` ${(o()?"Scanning...":"Scan")??""}`)),m(K,ye)},$$slots:{default:!0}}),d(I);var N=_(I,2),$=_(f(N),2),C=f($),U=f(C);{var M=K=>{var ne=Mv();m(K,ne)},H=(K,ne)=>{{var ye=he=>{var Z=Dv();m(he,Z)},pe=(he,Z)=>{{var ue=L=>{var b=Fv(),S=f(b),z=f(S,!0);d(S),me(2),d(b),B(()=>V(z,a(l).ssid)),m(L,b)},E=L=>{var b=zv();m(L,b)};R(he,L=>{a(l)?L(ue):L(E,!1)},Z)}};R(K,he=>{i().length===0?he(ye):he(pe,!1)},ne)}};R(U,K=>{o()?K(M):K(H,!1)})}me(2),d(C);var re=_(C,2);{var ee=K=>{var ne=qv();rt(ne,5,i,tt,(ye,pe)=>{var he=Uv(),Z=f(he),ue=f(Z),E=f(ue,!0);d(ue);var L=_(ue,2),b=f(L,!0);d(L),d(Z);var S=_(Z,2),z=_(S,2);{var Y=O=>{var W=jv();m(O,W)};R(z,O=>{v(a(pe))&&O(Y)})}d(he),B((O,W)=>{Pe(he,1,`dropdown-item ${O??""}`,"svelte-vm82au"),V(E,a(pe).ssid),V(b,a(pe).encryption),Pe(S,1,`network-signal ${W??""}`,"svelte-vm82au")},[()=>v(a(pe))?"connected":"",()=>u(a(pe).rssi)],Ne),D("click",he,()=>{p(a(pe)),y(h,!1)}),D("keydown",he,O=>O.key==="Enter"&&p(a(pe))),m(ye,he)}),d(ne),m(K,ne)};R(re,K=>{a(h)&&i().length>0&&K(ee)})}d($),d(N),d(w),B(()=>C.disabled=o()||i().length===0),D("click",C,g),m(e,w),et(),n()}var Vv=A("<input>");function Va(e,t){const r=Ke(t,["children","$$slots","$$events","$$legacy"]),n=Ke(r,["type","value","placeholder","disabled","readonly","required","id","name","min","max","step","pattern","autocomplete"]);let s=oe(t,"type",8,"text"),o=oe(t,"value",12,""),i=oe(t,"placeholder",8,""),l=oe(t,"disabled",8,!1),c=oe(t,"readonly",8,!1),u=oe(t,"required",8,!1),v=oe(t,"id",8,""),p=oe(t,"name",8,""),h=oe(t,"min",8,void 0),g=oe(t,"max",8,void 0),x=oe(t,"step",8,void 0),k=oe(t,"pattern",8,void 0),w=oe(t,"autocomplete",8,void 0);var I=Vv();Xe(I);let F;B(()=>F=ts(I,F,{type:s(),placeholder:i(),disabled:l(),readonly:c(),required:u(),id:v(),name:p(),min:h(),max:g(),step:x(),pattern:k(),autocomplete:w(),class:"border-border-color bg-bg-primary text-text-primary focus:border-accent-color focus:ring-accent-color/20 w-full rounded-md border p-2 outline-none focus:ring-2 disabled:cursor-not-allowed disabled:opacity-50",...n},"svelte-jnyvx")),Tr(I,o),D("input",I,function(N){yn.call(this,t,N)}),D("change",I,function(N){yn.call(this,t,N)}),D("focus",I,function(N){yn.call(this,t,N)}),D("blur",I,function(N){yn.call(this,t,N)}),m(e,I)}var Wv=A('<div class="form-field svelte-1ucfizf"><!></div>'),Jv=A('<p class="open-network-message svelte-1ucfizf">This is an open network. No password is required.</p>'),Hv=A('<div class="form-field svelte-1ucfizf"><!> <div class="field-help svelte-1ucfizf"> </div></div>'),Kv=A('<div class="form-field svelte-1ucfizf"><!> <div class="field-help svelte-1ucfizf"> </div></div>'),Yv=A('<div class="error-message svelte-1ucfizf"> </div>'),Xv=A('<div class="dialog-backdrop svelte-1ucfizf"><div class="dialog svelte-1ucfizf"><div class="dialog-header svelte-1ucfizf"><h3 class="svelte-1ucfizf"> </h3> <button class="close-button svelte-1ucfizf">×</button></div> <div class="dialog-content svelte-1ucfizf"><form><!> <div class="form-field ap-options svelte-1ucfizf"><div class="ap-mode-selector svelte-1ucfizf"><label class="radio-label svelte-1ucfizf"><input type="radio" name="mode" class="svelte-1ucfizf"> <span class="radio-text svelte-1ucfizf"><span class="radio-title svelte-1ucfizf"> </span> <span class="radio-desc svelte-1ucfizf">Replace current WiFi connection (will disconnect your laptop)</span></span></label> <label class="radio-label svelte-1ucfizf"><input type="radio" name="mode" class="svelte-1ucfizf"> <span class="radio-text svelte-1ucfizf"><span class="radio-title svelte-1ucfizf">Connect while keeping AP active</span> <span class="radio-desc svelte-1ucfizf">Connect to new network while maintaining your current connection</span></span></label></div> <!></div> <!> <div class="dialog-actions svelte-1ucfizf"><!> <!></div></form></div></div></div>');function Zv(e,t){Qe(t,!1);const[r,n]=un(),s=()=>nr(Zn,"$wifiStatus",r),o=()=>nr(cs,"$isConnecting",r),i=()=>nr(yr,"$wifiError",r);let l=oe(t,"network",8,null),c=oe(t,"visible",8,!1),u=G(""),v=G(!1),p=G(""),h=G({});const g=As();let x=G(s().connected?s().ssid:"");dr(()=>{try{const U=localStorage.getItem("wifi_passwords");U&&y(h,JSON.parse(U))}catch(U){console.error("Failed to load saved passwords",U)}});function k(U,M){if(M)try{te(h,a(h)[U]=M),localStorage.setItem("wifi_passwords",JSON.stringify(a(h)))}catch(H){console.error("Failed to save password",H)}}function w(){l()&&(a(u)&&l().encryption!=="OPEN"&&k(l().ssid,a(u)),y(x,l().ssid),g("connect",{ssid:l().ssid,password:a(u),apMode:a(v),apName:a(p)||"MacroPad_AP"}))}function I(){g("cancel")}function F(U){U.preventDefault(),w()}wt(()=>(zt(l()),a(h),s(),a(x)),()=>{l()&&(a(h)[l().ssid]?y(u,a(h)[l().ssid]):y(u,""),y(v,l().ssid!==s().ssid&&s().connected),y(p,a(x)&&l().ssid!==a(x)?"MacroPad_"+a(x).replace(/[^a-zA-Z0-9]/g,"_"):"MacroPad_"+(l()?l().ssid.replace(/[^a-zA-Z0-9]/g,"_"):"")))}),Cr(),ft();var N=ke(),$=se(N);{var C=U=>{var M=Xv(),H=f(M),re=f(H),ee=f(re),K=f(ee);d(ee);var ne=_(ee,2);d(re);var ye=_(re,2),pe=f(ye),he=f(pe);{var Z=T=>{var P=Wv(),q=f(P);const j=Ne(()=>l().encryption!=="OPEN"&&!a(v));Va(q,{type:"password",label:"Password",get required(){return a(j)},get disabled(){return o()},placeholder:"Enter network password",get value(){return a(u)},set value(J){y(u,J)},$$legacy:!0}),d(P),m(T,P)},ue=T=>{var P=Jv();m(T,P)};R(he,T=>{l().encryption!=="OPEN"?T(Z):T(ue,!1)})}var E=_(he,2),L=f(E),b=f(L),S=f(b);Xe(S);var z=_(S,2),Y=f(z),O=f(Y);d(Y),me(2),d(z),d(b);var W=_(b,2),le=f(W);Xe(le),me(2),d(W),d(L);var ce=_(L,2);{var fe=T=>{var P=Hv(),q=f(P);Va(q,{type:"text",label:"Access Point Name",get required(){return a(v)},get disabled(){return o()},placeholder:"Enter AP name",get value(){return a(p)},set value(Q){y(p,Q)},$$legacy:!0});var j=_(q,2),J=f(j);d(j),d(P),B(()=>V(J,`Your laptop will stay connected to this AP while the device also connects to ${l().ssid??""}`)),m(T,P)},Se=T=>{var P=Kv(),q=f(P);Va(q,{type:"text",label:"Access Point Name (Optional)",get disabled(){return o()},placeholder:"Enter AP name",get value(){return a(p)},set value(Q){y(p,Q)},$$legacy:!0});var j=_(q,2),J=f(j);d(j),d(P),B(()=>V(J,`Optional: Create a WiFi access point in addition to connecting to ${l().ssid??""}`)),m(T,P)};R(ce,T=>{a(v)?T(fe):T(Se,!1)})}d(E);var _e=_(E,2);{var ie=T=>{var P=Yv(),q=f(P,!0);d(P),B(()=>V(q,i())),m(T,P)};R(_e,T=>{i()&&T(ie)})}var we=_(_e,2),be=f(we);en(be,{type:"button",get disabled(){return o()},variant:"secondary",$$events:{click:I},children:(T,P)=>{me();var q=Ht("Cancel");m(T,q)},$$slots:{default:!0}});var Ae=_(be,2);const Ce=Ne(()=>o()||l().encryption!=="OPEN"&&!a(u)&&!a(v));en(Ae,{type:"submit",get disabled(){return a(Ce)},variant:"primary",children:(T,P)=>{var q=ke(),j=se(q);{var J=X=>{var de=Ht("Connecting...");m(X,de)},Q=(X,de)=>{{var ae=Re=>{var Be=Ht("Connect (Keep AP)");m(Re,Be)},ge=Re=>{var Be=Ht("Connect Only");m(Re,Be)};R(X,Re=>{a(v)?Re(ae):Re(ge,!1)},de)}};R(j,X=>{o()?X(J):X(Q,!1)})}m(T,q)},$$slots:{default:!0}}),d(we),d(pe),d(ye),d(H),d(M),B(()=>{V(K,`Connect to "${l().ssid??""}"`),es(S,!a(v)),S.disabled=o(),V(O,`Connect to "${l().ssid??""}" only`),es(le,a(v)),le.disabled=o()}),D("click",ne,I),D("change",S,()=>y(v,!1)),D("change",le,()=>y(v,!0)),D("submit",pe,F),m(U,M)};R($,U=>{c()&&l()&&U(C)})}m(e,N),et(),n()}var Qv=A("<div></div>"),e0=A('<div class="status-details svelte-10902cs"><div class="status-item svelte-10902cs"><span class="label svelte-10902cs">Network:</span> <span class="value svelte-10902cs"> </span></div> <div class="status-item svelte-10902cs"><span class="label svelte-10902cs">IP Address:</span> <span class="value svelte-10902cs"> </span></div> <div class="status-item svelte-10902cs"><span class="label svelte-10902cs">Mode:</span> <span class="value svelte-10902cs"> </span></div> <div class="status-item svelte-10902cs"><span class="label svelte-10902cs">Signal:</span> <div class="signal-strength svelte-10902cs"></div></div></div>'),t0=A('<div class="empty-state svelte-10902cs"><p class="svelte-10902cs">Not connected to any network</p></div>'),r0=A('<div class="status-item svelte-10902cs"><span class="label svelte-10902cs">AP IP:</span> <span class="value svelte-10902cs"> </span></div>'),n0=A('<div class="divider svelte-10902cs"></div> <div class="ap-status svelte-10902cs"><h4 class="svelte-10902cs">Access Point</h4> <div class="status-details svelte-10902cs"><div class="status-item svelte-10902cs"><span class="label svelte-10902cs">AP Name:</span> <span class="value svelte-10902cs"> </span></div> <!></div></div>',1),a0=A('<div class="wifi-status-card svelte-10902cs"><div class="status-header svelte-10902cs"><h3 class="svelte-10902cs">Connection Status</h3> <div> </div></div> <!> <!></div>');function s0(e,t){Qe(t,!1);const[r,n]=un(),s=()=>nr(Zn,"$wifiStatus",r),o=()=>nr(Cv,"$signalStrength",r),i=()=>nr(qs,"$wifiConfig",r);ft();var l=a0(),c=f(l),u=_(f(c),2),v=f(u,!0);d(u),d(c);var p=_(c,2);{var h=w=>{var I=e0(),F=f(I),N=_(f(F),2),$=f(N,!0);d(N),d(F);var C=_(F,2),U=_(f(C),2),M=f(U,!0);d(U),d(C);var H=_(C,2),re=_(f(H),2),ee=f(re,!0);d(re),d(H);var K=_(H,2),ne=_(f(K),2);rt(ne,4,()=>Array(4),tt,(ye,pe,he)=>{var Z=Qv();B(()=>Pe(Z,1,`signal-bar ${(he<o()?"active":"")??""}`,"svelte-10902cs")),m(ye,Z)}),d(ne),d(K),d(I),B(()=>{V($,s().ssid),V(M,s().ip),V(ee,s().ap_mode?"Access Point":"Client")}),m(w,I)},g=w=>{var I=t0();m(w,I)};R(p,w=>{s().connected?w(h):w(g,!1)})}var x=_(p,2);{var k=w=>{var I=n0(),F=_(se(I),2),N=_(f(F),2),$=f(N),C=_(f($),2),U=f(C,!0);d(C),d($);var M=_($,2);{var H=re=>{var ee=r0(),K=_(f(ee),2),ne=f(K,!0);d(K),d(ee),B(()=>V(ne,i().ap_ip)),m(re,ee)};R(M,re=>{i().ap_ip&&re(H)})}d(N),d(F),B(()=>V(U,i().ap_name)),m(w,I)};R(x,w=>{!s().ap_mode&&i().ap_name&&w(k)})}d(l),B(()=>{Pe(u,1,`status-indicator ${(s().connected?"connected":"disconnected")??""}`,"svelte-10902cs"),V(v,s().connected?"Connected":"Disconnected")}),m(e,l),et(),n()}var o0=A('<div class="wifi-settings svelte-mdbmvz"><h2 class="svelte-mdbmvz">WiFi Settings</h2> <!> <!> <!></div>');function i0(e,t){Qe(t,!1);let r=G(null),n=G(!1);dr(()=>{Promise.all([Tv(),Ga(),s()]);const h=setInterval(()=>{Ga()},1e4);return()=>{clearInterval(h)}});async function s(){yr.set(null),await Nv()}function o({detail:h}){y(r,h.network),y(n,!0)}async function i({detail:h}){await Ov(h.ssid,h.password,h.apMode,h.apName)&&(y(n,!1),y(r,null),setTimeout(()=>{Ga()},2e3))}function l(){y(n,!1),y(r,null)}ft();var c=o0(),u=_(f(c),2);s0(u,{});var v=_(u,2);Gv(v,{$$events:{select:o,refresh:s}});var p=_(v,2);Zv(p,{get network(){return a(r)},get visible(){return a(n)},$$events:{connect:i,cancel:l}}),d(c),m(e,c),et()}async function Wa(e,t={}){const{timeout:r=8e3,...n}=t,s=new AbortController,o=setTimeout(()=>s.abort(),r);try{const i=await fetch(e,{...n,signal:s.signal});return clearTimeout(o),i}catch(i){throw clearTimeout(o),i instanceof Error&&i.name==="AbortError"?new Error(`Request timed out after ${r}ms`):i}}var l0=A('<div><svg viewBox="0 0 24 24" fill="none"><circle class="spinner-track" cx="12" cy="12" r="10" stroke="currentColor" stroke-opacity="0.25" stroke-width="4"></circle><path class="spinner-indicator" fill="none" stroke-width="4" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>');function So(e,t){let r=oe(t,"size",8,"medium"),n=oe(t,"color",8,"currentColor");var s=l0();let o;var i=f(s),l=_(f(i));d(i),d(s),B(c=>{o=Pe(s,1,"spinner svelte-yedl6p",null,o,c),$r(l,"stroke",n())},[()=>({small:r()==="small",large:r()==="large"})],Ne),m(e,s)}var c0=A('<div class="progress-container svelte-tsnqk1"><div class="progress-bar svelte-tsnqk1"></div></div>');function u0(e,t){Qe(t,!1);const r=G();let n=oe(t,"value",8,0),s=oe(t,"max",8,100),o=oe(t,"color",8,"var(--primary)"),i=oe(t,"height",8,"0.5rem"),l=oe(t,"radius",8,"0.25rem");wt(()=>(zt(n()),zt(s())),()=>{y(r,Math.min(100,Math.max(0,n()/s()*100)))}),Cr();var c=c0(),u=f(c);d(c),B(()=>{_r(c,`--height: ${i()??""}; --radius: ${l()??""};`),_r(u,`--width: ${a(r)??""}%; --color: ${o()??""};`)}),m(e,c),et()}var d0=A('<div class="alert-title svelte-1i6pv48"> </div>'),f0=A('<div><!> <div class="alert-content svelte-1i6pv48"><!></div></div>');function v0(e,t){Qe(t,!1);let r=oe(t,"type",8,"info"),n=oe(t,"title",8,""),s=G(),o=G(),i=G();wt(()=>zt(r()),()=>{switch(r()){case"success":y(s,"var(--success-bg, #ecfdf5)"),y(o,"var(--success-text, #065f46)"),y(i,"var(--success-border, #10b981)");break;case"warning":y(s,"var(--warning-bg, #fffbeb)"),y(o,"var(--warning-text, #92400e)"),y(i,"var(--warning-border, #f59e0b)");break;case"error":y(s,"var(--error-bg, #fef2f2)"),y(o,"var(--error-text, #b91c1c)"),y(i,"var(--error-border, #ef4444)");break;case"info":default:y(s,"var(--info-bg, #eff6ff)"),y(o,"var(--info-text, #1e40af)"),y(i,"var(--info-border, #3b82f6)");break}}),Cr();var l=f0();let c;var u=f(l);{var v=g=>{var x=d0(),k=f(x,!0);d(x),B(()=>V(k,n())),m(g,x)};R(u,g=>{n()&&g(v)})}var p=_(u,2),h=f(p);Ve(h,t,"default",{}),d(p),d(l),B(g=>{c=Pe(l,1,"alert svelte-1i6pv48",null,c,g),_r(l,`--bg-color: ${a(s)??""}; --text-color: ${a(o)??""}; --border-color: ${a(i)??""};`)},[()=>({"has-title":n()})],Ne),m(e,l),et()}var p0=A('<div class="error-help svelte-q9g7qr"><p>Make sure your device is connected to WiFi and has internet access.</p> <button class="retry-button svelte-q9g7qr">Retry Connection</button></div>'),h0=A("<p> </p> <!>",1),g0=A('<div class="info-row svelte-q9g7qr"><span class="label svelte-q9g7qr">Available Version:</span> <span class="value highlight svelte-q9g7qr"> </span></div>'),_0=A('<div class="progress-container svelte-q9g7qr"><!> <p class="progress-text svelte-q9g7qr"> </p></div>'),y0=A('<pre class="release-notes-pre svelte-q9g7qr"> </pre>'),m0=A("<p>No release notes available.</p>"),x0=A('<div class="release-notes svelte-q9g7qr"><h3 class="svelte-q9g7qr">Release Notes</h3> <div class="notes-content svelte-q9g7qr"><!></div></div>'),w0=A('<!> <span class="ml-2">Checking...</span>',1),b0=A('<!> <span class="ml-2">Updating...</span>',1),k0=A('<div class="firmware-update-container svelte-q9g7qr"><h2 class="svelte-q9g7qr">Firmware Update</h2> <!> <div class="firmware-info svelte-q9g7qr"><div class="info-row svelte-q9g7qr"><span class="label svelte-q9g7qr">Current Version:</span> <span class="value svelte-q9g7qr"> </span></div> <!> <div class="info-row svelte-q9g7qr"><span class="label svelte-q9g7qr">Status:</span> <span class="value svelte-q9g7qr"> </span></div></div> <!> <!> <div class="actions svelte-q9g7qr"><!> <!> <!></div></div>');function E0(e,t){Qe(t,!1);let r=G(""),n=G(""),s=G(""),o=G(!1),i=G("idle"),l="",c=G(0),u=G(""),v,p=G(!1),h=G(!1);dr(()=>{x(),v=window.setInterval(()=>{(a(p)||a(h))&&x()},2e3)}),Ac(()=>{v&&clearInterval(v)});async function g(){y(p,!0),y(u,""),y(i,"checking");try{const O=await Wa("/api/firmware/check",{method:"GET",timeout:6e4});if(!O.ok)throw new Error(`Failed to check for updates: ${O.status} ${O.statusText}`);const W=await O.json();W.status==="error"?(y(u,W.message||"Unknown error checking for updates"),y(p,!1)):x()}catch(O){y(u,O instanceof Error?O.message:"Failed to check for updates"),y(p,!1),y(i,"failed")}}async function x(){try{const O=await Wa("/api/firmware/status",{method:"GET",timeout:1e4});if(!O.ok)throw new Error(`Failed to get update status: ${O.status} ${O.statusText}`);const W=await O.json();y(i,W.status),y(c,W.progress||0),y(o,W.updateAvailable||!1),W.currentVersion&&y(r,W.currentVersion),W.availableVersion&&y(n,W.availableVersion),W.releaseNotes&&y(s,W.releaseNotes),W.error&&y(u,W.error),a(p)&&["idle","failed","complete"].includes(W.status)&&y(p,!1),a(h)&&W.state!==2&&W.state!==3&&y(h,!1)}catch(O){a(p)&&(y(u,O instanceof Error?O.message:"Failed to get update status"),y(p,!1))}}async function k(){y(h,!0),y(u,"");try{const O=await Wa("/api/firmware/update",{method:"GET",timeout:3e4});if(!O.ok)throw new Error(`Failed to start update: ${O.status} ${O.statusText}`);const W=await O.json();W.status==="error"?(y(u,W.message||"Unknown error starting update"),y(h,!1)):(y(i,"updating"),l=W.message||"Starting update process...")}catch(O){y(u,O instanceof Error?O.message:"Failed to start update"),y(h,!1)}}function w(){y(u,""),x()}function I(O){switch(O){case"idle":return"Ready";case"checking":return"Checking for updates...";case"downloading":return"Downloading firmware...";case"installing":return"Installing firmware...";case"verifying":return"Verifying firmware...";case"complete":return"Update complete";case"failed":return"Update failed";default:return O}}ft();var F=k0(),N=_(f(F),2);{var $=O=>{v0(O,{type:"error",children:(W,le)=>{var ce=h0(),fe=se(ce),Se=f(fe,!0);d(fe);var _e=_(fe,2);{var ie=we=>{var be=p0(),Ae=_(f(be),2);d(be),D("click",Ae,w),m(we,be)};R(_e,we=>{(a(u).includes("HTTP error")||a(u).includes("WiFi"))&&we(ie)})}B(()=>V(Se,a(u))),m(W,ce)},$$slots:{default:!0}})};R(N,O=>{a(u)&&O($)})}var C=_(N,2),U=f(C),M=_(f(U),2),H=f(M,!0);d(M),d(U);var re=_(U,2);{var ee=O=>{var W=g0(),le=_(f(W),2),ce=f(le,!0);d(le),d(W),B(()=>V(ce,a(n))),m(O,W)};R(re,O=>{a(o)&&O(ee)})}var K=_(re,2),ne=_(f(K),2),ye=f(ne,!0);d(ne),d(K),d(C);var pe=_(C,2);{var he=O=>{var W=_0(),le=f(W);u0(le,{get value(){return a(c)},max:100});var ce=_(le,2),fe=f(ce);d(ce),d(W),B(()=>V(fe,`${a(c)??""}%`)),m(O,W)};R(pe,O=>{(a(p)||a(h))&&O(he)})}var Z=_(pe,2);{var ue=O=>{var W=x0(),le=_(f(W),2),ce=f(le);{var fe=_e=>{var ie=y0(),we=f(ie,!0);d(ie),B(()=>V(we,a(s))),m(_e,ie)},Se=_e=>{var ie=m0();m(_e,ie)};R(ce,_e=>{a(s)?_e(fe):_e(Se,!1)})}d(le),d(W),m(O,W)};R(Z,O=>{a(s)&&O(ue)})}var E=_(Z,2),L=f(E);en(L,{get disabled(){return a(p)},variant:"primary",$$events:{click:g},children:(O,W)=>{var le=ke(),ce=se(le);{var fe=_e=>{var ie=w0(),we=se(ie);So(we,{size:"small"}),me(2),m(_e,ie)},Se=_e=>{var ie=Ht("Check for Updates");m(_e,ie)};R(ce,_e=>{a(p)?_e(fe):_e(Se,!1)})}m(O,le)},$$slots:{default:!0}});var b=_(L,2);{var S=O=>{en(O,{variant:"primary",$$events:{click:k},children:(W,le)=>{me();var ce=Ht("Install Update");m(W,ce)},$$slots:{default:!0}})};R(b,O=>{a(o)&&!a(h)&&O(S)})}var z=_(b,2);{var Y=O=>{en(O,{variant:"outline",disabled:!0,children:(W,le)=>{var ce=b0(),fe=se(ce);So(fe,{size:"small"}),me(2),m(W,ce)},$$slots:{default:!0}})};R(z,O=>{a(h)&&O(Y)})}d(E),d(F),B(O=>{V(H,a(r)||"Unknown"),V(ye,O)},[()=>I(a(i))],Ne),m(e,F),et()}var $0=A("<button> </button>"),S0=A('<div class="page-container svelte-zoqpyz"><h1 class="svelte-zoqpyz">Settings</h1> <nav class="settings-nav svelte-zoqpyz"></nav> <div class="settings-content svelte-zoqpyz"><!></div></div>');function A0(e){const t=[{id:"wifi",label:"WiFi"},{id:"firmware",label:"Firmware"}];let r=G("wifi");function n(v){y(r,v)}var s=S0(),o=_(f(s),2);rt(o,5,()=>t,tt,(v,p)=>{var h=$0(),g=f(h,!0);d(h),B(()=>{Pe(h,1,`nav-item ${(a(r)===a(p).id?"active":"")??""}`,"svelte-zoqpyz"),V(g,a(p).label)}),D("click",h,()=>n(a(p).id)),m(v,h)}),d(o);var i=_(o,2),l=f(i);{var c=v=>{i0(v,{})},u=(v,p)=>{{var h=g=>{E0(g,{})};R(v,g=>{a(r)==="firmware"&&g(h)},p)}};R(l,v=>{a(r)==="wifi"?v(c):v(u,!1)})}d(i),d(s),m(e,s)}const C0=Object.freeze(Object.defineProperty({__proto__:null,component:A0},Symbol.toStringTag,{value:"Module"}));export{hd as E,ju as _,F0 as a,Du as b,j0 as c,z0 as d,U0 as e,dd as f,vf as g,Mu as h,Mf as i,uv as j,Sv as k,T0 as l,R0 as m,D0 as n,A0 as o,M0 as r,L0 as s};
