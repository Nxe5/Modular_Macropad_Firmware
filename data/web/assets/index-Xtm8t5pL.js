(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const Kr=!1;var ur=Array.isArray,ea=Array.prototype.indexOf,Dr=Array.from,ta=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,un=Object.getOwnPropertyDescriptors,ra=Object.prototype,na=Array.prototype,Br=Object.getPrototypeOf;function jt(e){return typeof e=="function"}const rr=()=>{};function aa(e){return e()}function wr(e){for(var t=0;t<e.length;t++)e[t]()}const He=2,dn=4,dr=8,Rr=16,vt=32,Gt=64,ar=128,Ke=256,or=512,Le=1024,ft=2048,Mt=4096,ct=8192,vr=16384,oa=32768,Zt=65536,vn=1<<17,sa=1<<19,fn=1<<20,ut=Symbol("$state"),pn=Symbol("legacy props"),ia=Symbol("");function _n(e){return e===this.v}function gn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Lr(e){return!gn(e,this.v)}function la(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ca(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ua(e){throw new Error("https://svelte.dev/e/effect_orphan")}function da(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function va(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function fa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _a(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ga(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Lt=!1,ma=!1;function ba(){Lt=!0}const Ir=1,Or=2,mn=4,ya=8,ha=16,xa=1,wa=2,bn=4,ka=8,$a=16,Ea=1,Sa=2,qe=Symbol(),yn="http://www.w3.org/2000/svg";function qr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let me=null;function Hr(e){me=e}function Ye(e,t=!1,r){me={p:me,c:null,e:null,m:!1,s:e,x:null,l:null},Lt&&!t&&(me.l={s:null,u:null,r1:[],r2:Ie(!1)})}function Je(e){const t=me;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var r=_e,a=be;t.e=null;try{for(var n=0;n<i.length;n++){var s=i[n];wt(s.effect),xt(s.reaction),pr(s.fn)}}finally{wt(r),xt(a)}}me=t.p,t.m=!0}return e||{}}function Xt(){return!Lt||me!==null&&me.l===null}function Ie(e,t){var r={f:0,v:e,reactions:null,equals:_n,rv:0,wv:0};return r}function kr(e){return hn(Ie(e))}function Fr(e,t=!1){var a;const r=Ie(e);return t||(r.equals=Lr),Lt&&me!==null&&me.l!==null&&((a=me.l).s??(a.s=[])).push(r),r}function re(e,t=!1){return hn(Fr(e,t))}function hn(e){return be!==null&&!et&&be.f&He&&(tt===null?Ia([e]):tt.push(e)),e}function Be(e,t){return m(e,Ze(()=>o(e))),t}function m(e,t){return be!==null&&!et&&Xt()&&be.f&(He|Rr)&&(tt===null||!tt.includes(e))&&ga(),Yt(e,t)}function Yt(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Rn(),xn(e,ft),Xt()&&_e!==null&&_e.f&Le&&!(_e.f&(vt|Gt))&&(st===null?Oa([e]):st.push(e))),t}function Yr(e,t=1){var r=o(e),a=t===1?r++:r--;return m(e,r),a}function xn(e,t){var r=e.reactions;if(r!==null)for(var a=Xt(),n=r.length,s=0;s<n;s++){var i=r[s],l=i.f;l&ft||!a&&i===_e||(Xe(i,t),l&(Le|Ke)&&(l&He?xn(i,Mt):br(i)))}}let wn=!1;function it(e,t=null,r){if(typeof e!="object"||e===null||ut in e)return e;const a=Br(e);if(a!==ra&&a!==na)return e;var n=new Map,s=ur(e),i=Ie(0);s&&n.set("length",Ie(e.length));var l;return new Proxy(e,{defineProperty(u,d,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&fa();var v=n.get(d);return v===void 0?(v=Ie(_.value),n.set(d,v)):m(v,it(_.value,l)),!0},deleteProperty(u,d){var _=n.get(d);if(_===void 0)d in u&&n.set(d,Ie(qe));else{if(s&&typeof d=="string"){var v=n.get("length"),p=Number(d);Number.isInteger(p)&&p<v.v&&m(v,p)}m(_,qe),Jr(i)}return!0},get(u,d,_){var b;if(d===ut)return e;var v=n.get(d),p=d in u;if(v===void 0&&(!p||(b=lt(u,d))!=null&&b.writable)&&(v=Ie(it(p?u[d]:qe,l)),n.set(d,v)),v!==void 0){var y=o(v);return y===qe?void 0:y}return Reflect.get(u,d,_)},getOwnPropertyDescriptor(u,d){var _=Reflect.getOwnPropertyDescriptor(u,d);if(_&&"value"in _){var v=n.get(d);v&&(_.value=o(v))}else if(_===void 0){var p=n.get(d),y=p==null?void 0:p.v;if(p!==void 0&&y!==qe)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return _},has(u,d){var y;if(d===ut)return!0;var _=n.get(d),v=_!==void 0&&_.v!==qe||Reflect.has(u,d);if(_!==void 0||_e!==null&&(!v||(y=lt(u,d))!=null&&y.writable)){_===void 0&&(_=Ie(v?it(u[d],l):qe),n.set(d,_));var p=o(_);if(p===qe)return!1}return v},set(u,d,_,v){var w;var p=n.get(d),y=d in u;if(s&&d==="length")for(var b=_;b<p.v;b+=1){var P=n.get(b+"");P!==void 0?m(P,qe):b in u&&(P=Ie(qe),n.set(b+"",P))}p===void 0?(!y||(w=lt(u,d))!=null&&w.writable)&&(p=Ie(void 0),m(p,it(_,l)),n.set(d,p)):(y=p.v!==qe,m(p,it(_,l)));var z=Reflect.getOwnPropertyDescriptor(u,d);if(z!=null&&z.set&&z.set.call(v,_),!y){if(s&&typeof d=="string"){var N=n.get("length"),k=Number(d);Number.isInteger(k)&&k>=N.v&&m(N,k+1)}Jr(i)}return!0},ownKeys(u){o(i);var d=Reflect.ownKeys(u).filter(p=>{var y=n.get(p);return y===void 0||y.v!==qe});for(var[_,v]of n)v.v!==qe&&!(_ in u)&&d.push(_);return d},setPrototypeOf(){pa()}})}function Jr(e,t=1){m(e,e.v+t)}function Gr(e){return e!==null&&typeof e=="object"&&ut in e?e[ut]:e}function Ca(e,t){return Object.is(Gr(e),Gr(t))}var Zr,kn,$n,En;function Ma(){if(Zr===void 0){Zr=window,kn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;$n=lt(t,"firstChild").get,En=lt(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Qt(e=""){return document.createTextNode(e)}function Tt(e){return $n.call(e)}function fr(e){return En.call(e)}function f(e,t){return Tt(e)}function B(e,t){{var r=Tt(e);return r instanceof Comment&&r.data===""?fr(r):r}}function g(e,t=1,r=!1){let a=e;for(;t--;)a=fr(a);return a}function Aa(e){e.textContent=""}function Dt(e){var t=He|ft,r=be!==null&&be.f&He?be:null;return _e===null||r!==null&&r.f&Ke?t|=Ke:_e.f|=fn,{ctx:me,deps:null,effects:null,equals:_n,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??_e}}function Ee(e){const t=Dt(e);return t.equals=Lr,t}function Sn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)dt(t[r])}}function Na(e){for(var t=e.parent;t!==null;){if(!(t.f&He))return t;t=t.parent}return null}function za(e){var t,r=_e;wt(Na(e));try{Sn(e),t=In(e)}finally{wt(r)}return t}function Cn(e){var t=za(e),r=(ht||e.f&Ke)&&e.deps!==null?Mt:Le;Xe(e,r),e.equals(t)||(e.v=t,e.wv=Rn())}function Mn(e){_e===null&&be===null&&ua(),be!==null&&be.f&Ke&&_e===null&&ca(),Wr&&la()}function Pa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function It(e,t,r,a=!0){var n=(e&Gt)!==0,s=_e,i={ctx:me,deps:null,nodes_start:null,nodes_end:null,f:e|ft,first:null,fn:t,last:null,next:null,parent:n?null:s,prev:null,teardown:null,transitions:null,wv:0};if(r){var l=Pt;try{Qr(!0),mr(i),i.f|=oa}catch(_){throw dt(i),_}finally{Qr(l)}}else t!==null&&br(i);var u=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(fn|ar))===0;if(!u&&!n&&a&&(s!==null&&Pa(i,s),be!==null&&be.f&He)){var d=be;(d.effects??(d.effects=[])).push(i)}return i}function An(e){const t=It(dr,null,!1);return Xe(t,Le),t.teardown=e,t}function $r(e){Mn();var t=_e!==null&&(_e.f&vt)!==0&&me!==null&&!me.m;if(t){var r=me;(r.e??(r.e=[])).push({fn:e,effect:_e,reaction:be})}else{var a=pr(e);return a}}function Ta(e){return Mn(),_r(e)}function Da(e){const t=It(Gt,e,!0);return(r={})=>new Promise(a=>{r.outro?Bt(t,()=>{dt(t),a(void 0)}):(dt(t),a(void 0))})}function pr(e){return It(dn,e,!1)}function Xr(e,t){var r=me,a={effect:null,ran:!1};r.l.r1.push(a),a.effect=_r(()=>{e(),!a.ran&&(a.ran=!0,m(r.l.r2,!0),Ze(t))})}function Ba(){var e=me;_r(()=>{if(o(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&Le&&Xe(r,Mt),Ot(r)&&mr(r),t.ran=!1}e.l.r2.v=!1}})}function _r(e){return It(dr,e,!0)}function W(e,t=[],r=Dt){const a=t.map(r);return er(()=>e(...a.map(o)))}function er(e,t=0){return It(dr|Rr|t,e,!0)}function Ct(e,t=!0){return It(dr|vt,e,!0,t)}function Nn(e){var t=e.teardown;if(t!==null){const r=Wr,a=be;en(!0),xt(null);try{t.call(null)}finally{en(r),xt(a)}}}function zn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var a=r.next;dt(r,t),r=a}}function Ra(e){for(var t=e.first;t!==null;){var r=t.next;t.f&vt||dt(t),t=r}}function dt(e,t=!0){var r=!1;if((t||e.f&sa)&&e.nodes_start!==null){for(var a=e.nodes_start,n=e.nodes_end;a!==null;){var s=a===n?null:fr(a);a.remove(),a=s}r=!0}zn(e,t&&!r),cr(e,0),Xe(e,vr);var i=e.transitions;if(i!==null)for(const u of i)u.stop();Nn(e);var l=e.parent;l!==null&&l.first!==null&&Pn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Pn(e){var t=e.parent,r=e.prev,a=e.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=r))}function Bt(e,t){var r=[];jr(e,r,!0),Tn(r,()=>{dt(e),t&&t()})}function Tn(e,t){var r=e.length;if(r>0){var a=()=>--r||t();for(var n of e)n.out(a)}else t()}function jr(e,t,r){if(!(e.f&ct)){if(e.f^=ct,e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&t.push(i);for(var a=e.first;a!==null;){var n=a.next,s=(a.f&Zt)!==0||(a.f&vt)!==0;jr(a,t,s?r:!1),a=n}}}function Jt(e){Dn(e,!0)}function Dn(e,t){if(e.f&ct){e.f^=ct,e.f&Le||(e.f^=Le),Ot(e)&&(Xe(e,ft),br(e));for(var r=e.first;r!==null;){var a=r.next,n=(r.f&Zt)!==0||(r.f&vt)!==0;Dn(r,n?t:!1),r=a}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Er=!1,Sr=[];function La(){Er=!1;const e=Sr.slice();Sr=[],wr(e)}function Vr(e){Er||(Er=!0,queueMicrotask(La)),Sr.push(e)}let nr=!1,sr=!1,ir=null,Pt=!1,Wr=!1;function Qr(e){Pt=e}function en(e){Wr=e}let Cr=[],Ut=0;let be=null,et=!1;function xt(e){be=e}let _e=null;function wt(e){_e=e}let tt=null;function Ia(e){tt=e}let Oe=null,Ve=0,st=null;function Oa(e){st=e}let Bn=1,lr=0,ht=!1,mt=null;function Rn(){return++Bn}function Ot(e){var v;var t=e.f;if(t&ft)return!0;if(t&Mt){var r=e.deps,a=(t&Ke)!==0;if(r!==null){var n,s,i=(t&or)!==0,l=a&&_e!==null&&!ht,u=r.length;if(i||l){var d=e,_=d.parent;for(n=0;n<u;n++)s=r[n],(i||!((v=s==null?void 0:s.reactions)!=null&&v.includes(d)))&&(s.reactions??(s.reactions=[])).push(d);i&&(d.f^=or),l&&_!==null&&!(_.f&Ke)&&(d.f^=Ke)}for(n=0;n<u;n++)if(s=r[n],Ot(s)&&Cn(s),s.wv>e.wv)return!0}(!a||_e!==null&&!ht)&&Xe(e,Le)}return!1}function qa(e,t){for(var r=t;r!==null;){if(r.f&ar)try{r.fn(e);return}catch{r.f^=ar}r=r.parent}throw nr=!1,e}function Fa(e){return(e.f&vr)===0&&(e.parent===null||(e.parent.f&ar)===0)}function gr(e,t,r,a){if(nr){if(r===null&&(nr=!1),Fa(t))throw e;return}r!==null&&(nr=!0);{qa(e,t);return}}function Ln(e,t,r=!0){var a=e.reactions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n];s.f&He?Ln(s,t,!1):t===s&&(r?Xe(s,ft):s.f&Le&&Xe(s,Mt),br(s))}}function In(e){var y;var t=Oe,r=Ve,a=st,n=be,s=ht,i=tt,l=me,u=et,d=e.f;Oe=null,Ve=0,st=null,be=d&(vt|Gt)?null:e,ht=(d&Ke)!==0&&(!Pt||n===null||u),tt=null,Hr(e.ctx),et=!1,lr++;try{var _=(0,e.fn)(),v=e.deps;if(Oe!==null){var p;if(cr(e,Ve),v!==null&&Ve>0)for(v.length=Ve+Oe.length,p=0;p<Oe.length;p++)v[Ve+p]=Oe[p];else e.deps=v=Oe;if(!ht)for(p=Ve;p<v.length;p++)((y=v[p]).reactions??(y.reactions=[])).push(e)}else v!==null&&Ve<v.length&&(cr(e,Ve),v.length=Ve);if(Xt()&&st!==null&&!et&&v!==null&&!(e.f&(He|Mt|ft)))for(p=0;p<st.length;p++)Ln(st[p],e);return n!==null&&lr++,_}finally{Oe=t,Ve=r,st=a,be=n,ht=s,tt=i,Hr(l),et=u}}function ja(e,t){let r=t.reactions;if(r!==null){var a=ea.call(r,e);if(a!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[a]=r[n],r.pop())}}r===null&&t.f&He&&(Oe===null||!Oe.includes(t))&&(Xe(t,Mt),t.f&(Ke|or)||(t.f^=or),Sn(t),cr(t,0))}function cr(e,t){var r=e.deps;if(r!==null)for(var a=t;a<r.length;a++)ja(e,r[a])}function mr(e){var t=e.f;if(!(t&vr)){Xe(e,Le);var r=_e,a=me;_e=e;try{t&Rr?Ra(e):zn(e),Nn(e);var n=In(e);e.teardown=typeof n=="function"?n:null,e.wv=Bn;var s=e.deps,i;Kr&&ma&&e.f&ft}catch(l){gr(l,e,r,a||e.ctx)}finally{_e=r}}}function Va(){if(Ut>1e3){Ut=0;try{da()}catch(e){if(ir!==null)gr(e,ir,null);else throw e}}Ut++}function Wa(e){var t=e.length;if(t!==0){Va();var r=Pt;Pt=!0;try{for(var a=0;a<t;a++){var n=e[a];n.f&Le||(n.f^=Le);var s=Ha(n);Ua(s)}}finally{Pt=r}}}function Ua(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var a=e[r];if(!(a.f&(vr|ct)))try{Ot(a)&&(mr(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?Pn(a):a.fn=null))}catch(n){gr(n,a,null,a.ctx)}}}function Ka(){if(sr=!1,Ut>1001)return;const e=Cr;Cr=[],Wa(e),sr||(Ut=0,ir=null)}function br(e){sr||(sr=!0,queueMicrotask(Ka)),ir=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Gt|vt)){if(!(r&Le))return;t.f^=Le}}Cr.push(t)}function Ha(e){var t=[],r=e.first;e:for(;r!==null;){var a=r.f,n=(a&vt)!==0,s=n&&(a&Le)!==0,i=r.next;if(!s&&!(a&ct)){if(a&dn)t.push(r);else if(n)r.f^=Le;else{var l=be;try{be=r,Ot(r)&&mr(r)}catch(_){gr(_,r,null,r.ctx)}finally{be=l}}var u=r.first;if(u!==null){r=u;continue}}if(i===null){let _=r.parent;for(;_!==null;){if(e===_)break e;var d=_.next;if(d!==null){r=d;continue e}_=_.parent}}r=i}return t}function o(e){var t=e.f,r=(t&He)!==0;if(mt!==null&&mt.add(e),be!==null&&!et){tt!==null&&tt.includes(e)&&_a();var a=be.deps;e.rv<lr&&(e.rv=lr,Oe===null&&a!==null&&a[Ve]===e?Ve++:Oe===null?Oe=[e]:(!ht||!Oe.includes(e))&&Oe.push(e))}else if(r&&e.deps===null&&e.effects===null){var n=e,s=n.parent;s!==null&&!(s.f&Ke)&&(n.f^=Ke)}return r&&(n=e,Ot(n)&&Cn(n)),e.v}function Ya(e){var t=mt;mt=new Set;var r=mt,a;try{if(Ze(e),t!==null)for(a of mt)t.add(a)}finally{mt=t}return r}function Ja(e){var t=Ya(()=>Ze(e));for(var r of t)if(r.f&vn)for(const a of r.deps||[])a.f&He||Yt(a,a.v);else Yt(r,r.v)}function Ze(e){var t=et;try{return et=!0,e()}finally{et=t}}const Ga=-7169;function Xe(e,t){e.f=e.f&Ga|t}function Za(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ut in e)Mr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ut in r&&Mr(r)}}}function Mr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{Mr(e[a],t)}catch{}const r=Br(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=un(r);for(let n in a){const s=a[n].get;if(s)try{s.call(e)}catch{}}}}}function Xa(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Qa=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function eo(e){return Qa.includes(e)}const to={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ro(e){return e=e.toLowerCase(),to[e]??e}const no=["touchstart","touchmove"];function ao(e){return no.includes(e)}function oo(e,t){if(t){const r=document.body;e.autofocus=!0,Vr(()=>{document.activeElement===r&&e.focus()})}}let tn=!1;function so(){tn||(tn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function On(e){var t=be,r=_e;xt(null),wt(null);try{return e()}finally{xt(t),wt(r)}}function qn(e,t,r,a=r){e.addEventListener(t,()=>On(r));const n=e.__on_r;n?e.__on_r=()=>{n(),a(!0)}:e.__on_r=()=>a(!0),so()}const Fn=new Set,Ar=new Set;function jn(e,t,r,a={}){function n(s){if(a.capture||Vt.call(t,s),!s.cancelBubble)return On(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Vr(()=>{t.addEventListener(e,n,a)}):t.addEventListener(e,n,a),n}function K(e,t,r,a,n){var s={capture:a,passive:n},i=jn(e,t,r,s);(t===document.body||t===window||t===document)&&An(()=>{t.removeEventListener(e,i,s)})}function io(e){for(var t=0;t<e.length;t++)Fn.add(e[t]);for(var r of Ar)r(e)}function Vt(e){var k;var t=this,r=t.ownerDocument,a=e.type,n=((k=e.composedPath)==null?void 0:k.call(e))||[],s=n[0]||e.target,i=0,l=e.__root;if(l){var u=n.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var d=n.indexOf(t);if(d===-1)return;u<=d&&(i=u)}if(s=n[i]||e.target,s!==t){ta(e,"currentTarget",{configurable:!0,get(){return s||r}});var _=be,v=_e;xt(null),wt(null);try{for(var p,y=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var P=s["__"+a];if(P!==void 0&&(!s.disabled||e.target===s))if(ur(P)){var[z,...N]=P;z.apply(s,[e,...N])}else P.call(s,e)}catch(w){p?y.push(w):p=w}if(e.cancelBubble||b===t||b===null)break;s=b}if(p){for(let w of y)queueMicrotask(()=>{throw w});throw p}}finally{e.__root=t,delete e.currentTarget,xt(_),wt(v)}}}function Vn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Rt(e,t){var r=_e;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function h(e,t){var r=(t&Ea)!==0,a=(t&Sa)!==0,n,s=!e.startsWith("<!>");return()=>{n===void 0&&(n=Vn(s?e:"<!>"+e),r||(n=Tt(n)));var i=a||kn?document.importNode(n,!0):n.cloneNode(!0);if(r){var l=Tt(i),u=i.lastChild;Rt(l,u)}else Rt(i,i);return i}}function lo(e,t,r="svg"){var a=!e.startsWith("<!>"),n=`<${r}>${a?e:"<!>"+e}</${r}>`,s;return()=>{if(!s){var i=Vn(n),l=Tt(i);s=Tt(l)}var u=s.cloneNode(!0);return Rt(u,u),u}}function We(e=""){{var t=Qt(e+"");return Rt(t,t),t}}function q(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Qt();return e.append(t,r),Rt(t,r),e}function c(e,t){e!==null&&e.before(t)}function j(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function co(e,t){return uo(e,t)}const Nt=new Map;function uo(e,{target:t,anchor:r,props:a={},events:n,context:s,intro:i=!0}){Ma();var l=new Set,u=v=>{for(var p=0;p<v.length;p++){var y=v[p];if(!l.has(y)){l.add(y);var b=ao(y);t.addEventListener(y,Vt,{passive:b});var P=Nt.get(y);P===void 0?(document.addEventListener(y,Vt,{passive:b}),Nt.set(y,1)):Nt.set(y,P+1)}}};u(Dr(Fn)),Ar.add(u);var d=void 0,_=Da(()=>{var v=r??t.appendChild(Qt());return Ct(()=>{if(s){Ye({});var p=me;p.c=s}n&&(a.$$events=n),d=e(v,a)||{},s&&Je()}),()=>{var b;for(var p of l){t.removeEventListener(p,Vt);var y=Nt.get(p);--y===0?(document.removeEventListener(p,Vt),Nt.delete(p)):Nt.set(p,y)}Ar.delete(u),v!==r&&((b=v.parentNode)==null||b.removeChild(v))}});return vo.set(d,_),d}let vo=new WeakMap;function D(e,t,r=!1){var a=e,n=null,s=null,i=qe,l=r?Zt:0,u=!1;const d=(v,p=!0)=>{u=!0,_(p,v)},_=(v,p)=>{i!==(i=v)&&(i?(n?Jt(n):p&&(n=Ct(()=>p(a))),s&&Bt(s,()=>{s=null})):(s?Jt(s):p&&(s=Ct(()=>p(a))),n&&Bt(n,()=>{n=null})))};er(()=>{u=!1,t(d),u||_(null,null)},l)}function Ae(e,t){return t}function fo(e,t,r,a){for(var n=[],s=t.length,i=0;i<s;i++)jr(t[i].e,n,!0);var l=s>0&&n.length===0&&r!==null;if(l){var u=r.parentNode;Aa(u),u.append(r),a.clear(),gt(e,t[0].prev,t[s-1].next)}Tn(n,()=>{for(var d=0;d<s;d++){var _=t[d];l||(a.delete(_.k),gt(e,_.prev,_.next)),dt(_.e,!l)}})}function Ne(e,t,r,a,n,s=null){var i=e,l={flags:t,items:new Map,first:null},u=(t&mn)!==0;if(u){var d=e;i=d.appendChild(Qt())}var _=null,v=!1,p=Ee(()=>{var y=r();return ur(y)?y:y==null?[]:Dr(y)});er(()=>{var y=o(p),b=y.length;v&&b===0||(v=b===0,po(y,l,i,n,t,a,r),s!==null&&(b===0?_?Jt(_):_=Ct(()=>s(i)):_!==null&&Bt(_,()=>{_=null})),o(p))})}function po(e,t,r,a,n,s,i){var Y,oe,E,M;var l=(n&ya)!==0,u=(n&(Ir|Or))!==0,d=e.length,_=t.items,v=t.first,p=v,y,b=null,P,z=[],N=[],k,w,x,A;if(l)for(A=0;A<d;A+=1)k=e[A],w=s(k,A),x=_.get(w),x!==void 0&&((Y=x.a)==null||Y.measure(),(P??(P=new Set)).add(x));for(A=0;A<d;A+=1){if(k=e[A],w=s(k,A),x=_.get(w),x===void 0){var C=p?p.e.nodes_start:r;b=go(C,t,b,b===null?t.first:b.next,k,w,A,a,n,i),_.set(w,b),z=[],N=[],p=b.next;continue}if(u&&_o(x,k,A,n),x.e.f&ct&&(Jt(x.e),l&&((oe=x.a)==null||oe.unfix(),(P??(P=new Set)).delete(x))),x!==p){if(y!==void 0&&y.has(x)){if(z.length<N.length){var O=N[0],R;b=O.prev;var ne=z[0],le=z[z.length-1];for(R=0;R<z.length;R+=1)rn(z[R],O,r);for(R=0;R<N.length;R+=1)y.delete(N[R]);gt(t,ne.prev,le.next),gt(t,b,ne),gt(t,le,O),p=O,b=le,A-=1,z=[],N=[]}else y.delete(x),rn(x,p,r),gt(t,x.prev,x.next),gt(t,x,b===null?t.first:b.next),gt(t,b,x),b=x;continue}for(z=[],N=[];p!==null&&p.k!==w;)p.e.f&ct||(y??(y=new Set)).add(p),N.push(p),p=p.next;if(p===null)continue;x=p}z.push(x),b=x,p=x.next}if(p!==null||y!==void 0){for(var ee=y===void 0?[]:Dr(y);p!==null;)p.e.f&ct||ee.push(p),p=p.next;var S=ee.length;if(S>0){var F=n&mn&&d===0?r:null;if(l){for(A=0;A<S;A+=1)(E=ee[A].a)==null||E.measure();for(A=0;A<S;A+=1)(M=ee[A].a)==null||M.fix()}fo(t,ee,F,_)}}l&&Vr(()=>{var G;if(P!==void 0)for(x of P)(G=x.a)==null||G.apply()}),_e.first=t.first&&t.first.e,_e.last=b&&b.e}function _o(e,t,r,a){a&Ir&&Yt(e.v,t),a&Or?Yt(e.i,r):e.i=r}function go(e,t,r,a,n,s,i,l,u,d){var _=(u&Ir)!==0,v=(u&ha)===0,p=_?v?Fr(n):Ie(n):n,y=u&Or?Ie(i):i,b={i:y,v:p,k:s,a:null,e:null,prev:r,next:a};try{return b.e=Ct(()=>l(e,p,y,d),wn),b.e.prev=r&&r.e,b.e.next=a&&a.e,r===null?t.first=b:(r.next=b,r.e.next=b.e),a!==null&&(a.prev=b,a.e.prev=b.e),b}finally{}}function rn(e,t,r){for(var a=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==a;){var i=fr(s);n.before(s),s=i}}function gt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function $e(e,t,r,a,n){var l;var s=(l=t.$$slots)==null?void 0:l[r],i=!1;s===!0&&(s=t.children,i=!0),s===void 0||s(e,i?()=>a:a)}function Wn(e,t,r){var a=e,n,s;er(()=>{n!==(n=t())&&(s&&(Bt(s),s=null),n&&(s=Ct(()=>r(a,n))))},Zt)}function mo(e,t,r,a,n,s){var i,l,u=null,d=e,_;er(()=>{const v=t()||null;var p=yn;v!==i&&(_&&(v===null?Bt(_,()=>{_=null,l=null}):v===l?Jt(_):dt(_)),v&&v!==l&&(_=Ct(()=>{if(u=document.createElementNS(p,v),Rt(u,u),a){var y=u.appendChild(Qt());a(u,y)}_e.nodes_end=u,d.before(u)})),i=v,i&&(l=i))},Zt)}function Un(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Un(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function bo(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Un(e))&&(a&&(a+=" "),a+=t);return a}function Nr(e){return typeof e=="object"?bo(e):e??""}function nn(e,t){var r=e.__attributes??(e.__attributes={});r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function yo(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function bt(e,t,r,a){var n=e.__attributes??(e.__attributes={});n[t]!==(n[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ia]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Kn(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function an(e,t,r,a,n=!1,s=!1,i=!1){var l=t||{},u=e.tagName==="OPTION";for(var d in t)d in r||(r[d]=null);r.class&&(r.class=Nr(r.class));var _=Kn(e),v=e.__attributes??(e.__attributes={});for(const k in r){let w=r[k];if(u&&k==="value"&&w==null){e.value=e.__value="",l[k]=w;continue}var p=l[k];if(w!==p){l[k]=w;var y=k[0]+k[1];if(y!=="$$"){if(y==="on"){const x={},A="$$"+k;let C=k.slice(2);var b=eo(C);if(Xa(C)&&(C=C.slice(0,-7),x.capture=!0),!b&&p){if(w!=null)continue;e.removeEventListener(C,l[A],x),l[A]=null}if(w!=null)if(b)e[`__${C}`]=w,io([C]);else{let O=function(R){l[k].call(this,R)};var N=O;l[A]=jn(C,e,O,x)}else b&&(e[`__${C}`]=void 0)}else if(k==="style"&&w!=null)e.style.cssText=w+"";else if(k==="autofocus")oo(e,!!w);else if(!s&&(k==="__value"||k==="value"&&w!=null))e.value=e.__value=w;else if(k==="selected"&&u)yo(e,w);else{var P=k;n||(P=ro(P));var z=P==="defaultValue"||P==="defaultChecked";if(w==null&&!s&&!z)if(v[k]=null,P==="value"||P==="checked"){let x=e;const A=t===void 0;if(P==="value"){let C=x.defaultValue;x.removeAttribute(P),x.defaultValue=C,x.value=x.__value=A?C:null}else{let C=x.defaultChecked;x.removeAttribute(P),x.defaultChecked=C,x.checked=A?C:!1}}else e.removeAttribute(k);else z||_.includes(P)&&(s||typeof w!="string")?e[P]=w:typeof w!="function"&&bt(e,P,w)}k==="style"&&"__styles"in e&&(e.__styles={})}}}return l}var on=new Map;function Kn(e){var t=on.get(e.nodeName);if(t)return t;on.set(e.nodeName,t=[]);for(var r,a=e,n=Element.prototype;n!==a;){r=un(a);for(var s in r)r[s].set&&t.push(s);a=Br(a)}return t}function Ue(e,t,r){var a=e.__className,n=ho(t,r);(a!==n||wn)&&(t==null&&!r?e.removeAttribute("class"):e.className=n,e.__className=n)}function ho(e,t){return(e??"")+(t?" "+t:"")}function yr(e,t,r){if(r){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function St(e,t,r=t){var a=Xt();qn(e,"input",n=>{var s=n?e.defaultValue:e.value;if(s=hr(e)?xr(s):s,r(s),a&&s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ze(t)==null&&e.value&&r(hr(e)?xr(e.value):e.value),_r(()=>{var n=t();hr(e)&&n===xr(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function hr(e){var t=e.type;return t==="number"||t==="range"}function xr(e){return e===""?null:+e}function sn(e,t,r){var a=lt(e,t);a&&a.set&&(e[t]=r,An(()=>{e[t]=null}))}function Hn(e,t,r){if(e.multiple)return ko(e,t);for(var a of e.options){var n=Kt(a);if(Ca(n,t)){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function xo(e,t){pr(()=>{var r=new MutationObserver(()=>{var a=e.__value;Hn(e,a)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function wo(e,t,r=t){var a=!0;qn(e,"change",n=>{var s=n?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(s),Kt);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");i=l&&Kt(l)}r(i)}),pr(()=>{var n=t();if(Hn(e,n,a),a&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=Kt(s),r(n))}e.__value=n,a=!1}),xo(e)}function ko(e,t){for(var r of e.options)r.selected=~t.indexOf(Kt(r))}function Kt(e){return"__value"in e?e.__value:e.value}function rt(e=!1){const t=me,r=t.l.u;if(!r)return;let a=()=>Za(t.s);if(e){let n=0,s={};const i=Dt(()=>{let l=!1;const u=t.s;for(const d in u)u[d]!==s[d]&&(s[d]=u[d],l=!0);return l&&n++,n});a=()=>o(i)}r.b.length&&Ta(()=>{ln(t,a),wr(r.b)}),$r(()=>{const n=Ze(()=>r.m.map(aa));return()=>{for(const s of n)typeof s=="function"&&s()}}),r.a.length&&$r(()=>{ln(t,a),wr(r.a)})}function ln(e,t){if(e.l.s)for(const r of e.l.s)o(r);t()}function $o(e){var t=Ie(0);return function(){return arguments.length===1?(m(t,o(t)+1),arguments[0]):(o(t),e())}}function Eo(e,t,r){if(e==null)return t(void 0),rr;const a=Ze(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const zt=[];function Ur(e,t=rr){let r=null;const a=new Set;function n(l){if(gn(e,l)&&(e=l,r)){const u=!zt.length;for(const d of a)d[1](),zt.push(d,e);if(u){for(let d=0;d<zt.length;d+=2)zt[d][0](zt[d+1]);zt.length=0}}}function s(l){n(l(e))}function i(l,u=rr){const d=[l,u];return a.add(d),a.size===1&&(r=t(n,s)||rr),l(e),()=>{a.delete(d),a.size===0&&r&&(r(),r=null)}}return{set:n,update:s,subscribe:i}}function Wt(e){let t;return Eo(e,r=>t=r)(),t}let tr=!1;function So(e){var t=tr;try{return tr=!1,[e(),tr]}finally{tr=t}}const Co={get(e,t){if(!e.exclude.includes(t))return o(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=Re({get[t](){return e.props[t]}},t,bn)),e.special[t](r),Yr(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Yr(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function ke(e,t){return new Proxy({props:e,exclude:t,special:{},version:Ie(0)},Co)}const Mo={get(e,t){let r=e.props.length;for(;r--;){let a=e.props[r];if(jt(a)&&(a=a()),typeof a=="object"&&a!==null&&t in a)return a[t]}},set(e,t,r){let a=e.props.length;for(;a--;){let n=e.props[a];jt(n)&&(n=n());const s=lt(n,t);if(s&&s.set)return s.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let a=e.props[r];if(jt(a)&&(a=a()),typeof a=="object"&&a!==null&&t in a){const n=lt(a,t);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,t){if(t===ut||t===pn)return!1;for(let r of e.props)if(jt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){jt(r)&&(r=r());for(const a in r)t.includes(a)||t.push(a)}return t}};function Se(...e){return new Proxy({props:e},Mo)}function Re(e,t,r,a){var O;var n=(r&xa)!==0,s=!Lt||(r&wa)!==0,i=(r&ka)!==0,l=(r&$a)!==0,u=!1,d;i?[d,u]=So(()=>e[t]):d=e[t];var _=ut in e||pn in e,v=i&&(((O=lt(e,t))==null?void 0:O.set)??(_&&t in e&&(R=>e[t]=R)))||void 0,p=a,y=!0,b=!1,P=()=>(b=!0,y&&(y=!1,l?p=Ze(a):p=a),p);d===void 0&&a!==void 0&&(v&&s&&va(),d=P(),v&&v(d));var z;if(s)z=()=>{var R=e[t];return R===void 0?P():(y=!0,b=!1,R)};else{var N=(n?Dt:Ee)(()=>e[t]);N.f|=vn,z=()=>{var R=o(N);return R!==void 0&&(p=void 0),R===void 0?p:R}}if(!(r&bn))return z;if(v){var k=e.$$legacy;return function(R,ne){return arguments.length>0?((!s||!ne||k||u)&&v(ne?z():R),R):z()}}var w=!1,x=!1,A=Fr(d),C=Dt(()=>{var R=z(),ne=o(A);return w?(w=!1,x=!0,ne):(x=!1,A.v=R)});return n||(C.equals=Lr),function(R,ne){if(mt!==null&&(w=x,z(),o(A)),arguments.length>0){const le=ne?o(C):s&&i?it(R):R;return C.equals(le)||(w=!0,m(A,le),b&&p!==void 0&&(p=le),Ze(()=>o(C))),R}return o(C)}}function qt(e){me===null&&qr(),Lt&&me.l!==null?Po(me).m.push(e):$r(()=>{const t=Ze(e);if(typeof t=="function")return t})}function Ao(e){me===null&&qr(),qt(()=>()=>Ze(e))}function No(e,t,{bubbles:r=!1,cancelable:a=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:a})}function zo(){const e=me;return e===null&&qr(),(t,r,a)=>{var s;const n=(s=e.s.$$events)==null?void 0:s[t];if(n){const i=ur(n)?n.slice():[n],l=No(t,r,a);for(const u of i)u.call(e.x,l);return!l.defaultPrevented}return!0}}function Po(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const To="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(To);ba();/**
 * @license lucide-svelte v0.475.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Do={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Bo=lo("<svg><!><!></svg>");function Ce(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]),a=ke(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ye(t,!1);let n=Re(t,"name",8,void 0),s=Re(t,"color",8,"currentColor"),i=Re(t,"size",8,24),l=Re(t,"strokeWidth",8,2),u=Re(t,"absoluteStrokeWidth",8,!1),d=Re(t,"iconNode",24,()=>[]);const _=(...P)=>P.filter((z,N,k)=>!!z&&k.indexOf(z)===N).join(" ");rt();var v=Bo();let p;var y=f(v);Ne(y,1,d,Ae,(P,z)=>{let N=()=>o(z)[0],k=()=>o(z)[1];var w=q(),x=B(w);mo(x,N,!0,(A,C)=>{let O;W(()=>O=an(A,O,{...k()},void 0,A.namespaceURI===yn,A.nodeName.includes("-")))}),c(P,w)});var b=g(y);$e(b,t,"default",{}),W((P,z)=>p=an(v,p,{...Do,...a,width:i(),height:i(),stroke:s(),"stroke-width":P,class:z},void 0,!0),[()=>u()?Number(l())*24/Number(i()):l(),()=>_("lucide-icon","lucide",n()?`lucide-${n()}`:"",r.class)],Ee),c(e,v),Je()}function Yn(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function zr(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"arrow-left"},()=>r,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Pr(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"arrow-right"},()=>r,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Jn(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Ro(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"circle-stop"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Lo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"clock"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Io(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"coffee"},()=>r,{iconNode:[["path",{d:"M10 2v2"}],["path",{d:"M14 2v2"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1"}],["path",{d:"M6 2v2"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Oo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"file-json"},()=>r,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function qo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Fo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"list"},()=>r,{iconNode:[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Gn(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"moon"},()=>r,{iconNode:[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function jo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"play"},()=>r,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Vo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"printer"},()=>r,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Wo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"settings"},()=>r,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Uo(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"skip-back"},()=>r,{iconNode:[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Ko(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"skip-forward"},()=>r,{iconNode:[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Zn(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"sun"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Xn(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"volume-2"},()=>r,{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Tr(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"volume-x"},()=>r,{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Ho(e,t){const r=ke(t,["children","$$slots","$$events","$$legacy"]);Ce(e,Se({name:"zap"},()=>r,{iconNode:[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]],children:(n,s)=>{var i=q(),l=B(i);$e(l,t,"default",{}),c(n,i)},$$slots:{default:!0}}))}function Yo(){let e=kr(null),t=kr(null);return{get selectedComponent(){return o(e)},set selectedComponent(r){m(e,it(r))},get selectedComponentType(){return o(t)},set selectedComponentType(r){m(t,it(r))}}}const Et=Yo(),$t=window.location.hostname==="localhost"?"http://localhost:80":`http://${window.location.hostname}`,cn=window.location.hostname==="localhost"?"ws://localhost:80/ws":`ws://${window.location.hostname}/ws`;function Jo(){const{subscribe:e,set:t,update:r}=Ur([]);return{subscribe:e,fetchAll:async()=>{try{const a=await fetch(`${$t}/api/macros`);if(!a.ok)throw new Error(`Failed to fetch macros: ${a.status} ${a.statusText}`);const n=await a.json();return t(n),n}catch(a){throw console.error("Error fetching macros:",a),a}},fetchMacro:async a=>{try{const n=await fetch(`${$t}/api/macros/${a}`);if(!n.ok)throw new Error(`Failed to fetch macro: ${n.status} ${n.statusText}`);return await n.json()}catch(n){throw console.error(`Error fetching macro ${a}:`,n),n}},createMacro:async a=>{try{const n=await fetch(`${$t}/api/macros`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create macro: ${n.status} ${n.statusText}`);const s=await n.json();return r(i=>[...i,s]),s}catch(n){throw console.error("Error creating macro:",n),n}},updateMacro:async(a,n)=>{try{const s=await fetch(`${$t}/api/macros/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error(`Failed to update macro: ${s.status} ${s.statusText}`);const i=await s.json();return r(l=>l.map(u=>u.id===a?i:u)),i}catch(s){throw console.error(`Error updating macro ${a}:`,s),s}},deleteMacro:async a=>{try{const n=await fetch(`${$t}/api/macros/${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete macro: ${n.status} ${n.statusText}`);r(s=>s.filter(i=>i.id!==a))}catch(n){throw console.error(`Error deleting macro ${a}:`,n),n}},executeMacro:async a=>{try{const n=await fetch(`${$t}/api/macros/${a}/execute`,{method:"POST"});if(!n.ok)throw new Error(`Failed to execute macro: ${n.status} ${n.statusText}`)}catch(n){throw console.error(`Error executing macro ${a}:`,n),n}}}}function Go(){const{subscribe:e,update:t}=Ur({connected:!1,connectionVerified:!1,events:[],lastPingResponse:null});let r=null,a=null,n=null;const s={subscribe:e,connect:()=>{try{if(Wt({subscribe:e}).connected)return;console.log("Attempting to connect to WebSocket at:",cn),r=new WebSocket(cn),r.onopen=()=>{console.log("WebSocket connected successfully"),t(l=>({...l,connected:!0})),n&&clearInterval(n),n=setInterval(()=>{try{r&&r.readyState===WebSocket.OPEN&&(r.send(JSON.stringify({type:"ping",timestamp:Date.now()})),setTimeout(()=>{const l=Wt({subscribe:e}),u=Date.now();(l.lastPingResponse===null||u-l.lastPingResponse>1e4)&&(console.log("Connection seems dead (no ping response). Reconnecting..."),s.reconnect())},1e4))}catch(l){console.error("Error sending ping:",l)}},3e4);try{r&&r.readyState===WebSocket.OPEN&&(console.log("Requesting initial configuration data"),r.send(JSON.stringify({type:"get_all_configs"})),setTimeout(()=>{Wt({subscribe:e}).connectionVerified||(console.warn("No initial data received. Connection may be partially working."),t(u=>({...u,connectionVerified:!1})))},5e3))}catch(l){console.error("Error requesting initial data:",l)}},r.onclose=()=>{a&&clearTimeout(a),n&&clearInterval(n),t(l=>({...l,connected:!1,connectionVerified:!1})),console.log("WebSocket disconnected, will attempt to reconnect"),a=setTimeout(()=>s.connect(),3e3)},r.onerror=l=>{console.log("WebSocket connection error, will retry automatically"),t(u=>({...u,connected:!1,connectionVerified:!1}))},r.onmessage=l=>{try{const u=JSON.parse(l.data);console.log("WebSocket message received:",u),u.type&&console.log(`Message type: ${u.type}`),u.configType&&console.log(`Config type: ${u.configType}, data:`,u.data),t(d=>({...d,connectionVerified:!0,events:[...d.events.slice(-99),u],...u.type==="pong"?{lastPingResponse:Date.now()}:{}}))}catch(u){console.error("Error parsing WebSocket message:",u)}}}catch{console.log("Error initializing WebSocket, will retry"),a=setTimeout(()=>s.connect(),3e3)}},reconnect:()=>{s.disconnect(),s.connect()},disconnect:()=>{r&&(r.close(),a&&(clearTimeout(a),a=null),n&&(clearInterval(n),n=null)),t(i=>({connected:!1,connectionVerified:!1,events:[],lastPingResponse:null}))},sendMessage:i=>{const l=Wt({subscribe:e});if(r&&r.readyState===WebSocket.OPEN)return console.log("Sending WebSocket message:",i),r.send(JSON.stringify(i)),Promise.resolve();{const u=l.connected?"WebSocket appears connected but is not in OPEN state":"WebSocket not connected";return console.error(u,". Unable to send message."),Promise.reject(new Error(u))}},executeMacro:i=>s.sendMessage({type:"execute_macro",macroId:i}),assignMacroToButton:(i,l)=>s.sendMessage({type:"assign_macro",macroId:i,buttonId:l}),saveMacro:i=>s.sendMessage({type:"save_macro",macro:i}),clearEvents:()=>{t(i=>({...i,events:[]}))},requestConfig:i=>(console.log(`Requesting specific config: ${i}`),s.sendMessage({type:"get_config",configType:i})),requestAllConfigs:()=>(console.log("Requesting all config files"),s.sendMessage({type:"get_all_configs",include:["modules","macros","system","actions","components","info","leds"]}))};return s}function Zo(){const{subscribe:e,update:t}=Ur({loading:!1,error:null,lastSaved:null});return{subscribe:e,saveConfig:async r=>{try{t(n=>({...n,loading:!0,error:null}));const a=await fetch(`${$t}/api/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modules:r})});if(!a.ok)throw new Error(`Failed to save configuration: ${a.status} ${a.statusText}`);return t(n=>({...n,loading:!1,lastSaved:new Date().toISOString()})),!0}catch(a){throw console.error("Error saving configuration:",a),t(n=>({...n,loading:!1,error:a.message||"Failed to save configuration"})),a}},saveConfigWs:r=>Wt(Me).connected?Me.sendMessage({type:"save_config",data:{modules:r}}).then(()=>(t(a=>({...a,lastSaved:new Date().toISOString()})),!0)):Promise.reject(new Error("WebSocket not connected"))}}const yt=Jo(),Me=Go(),Ht=Zo();var Ge=$o(()=>Et),Xo=h('<p class="assignment-line svelte-1uxp99e"><span class="component-name svelte-1uxp99e"> </span> <span class="new-binding-label svelte-1uxp99e">New:</span> <span class="new-binding svelte-1uxp99e"><!></span></p>'),Qo=h('<p class="assignment-line pending svelte-1uxp99e"><span class="component-name svelte-1uxp99e"> </span> <span class="new-binding-label svelte-1uxp99e">New Assignment:</span> <span class="new-binding svelte-1uxp99e"> </span></p> <div class="action-buttons svelte-1uxp99e"><button class="apply-button svelte-1uxp99e">Apply Changes</button></div>',1),es=h('<h3>Component Details</h3> <div class="details-content svelte-1uxp99e"><p class="svelte-1uxp99e"><strong>ID:</strong> </p> <p class="svelte-1uxp99e"><strong>Type:</strong> </p> <p class="svelte-1uxp99e"><strong>Position:</strong> </p> <div class="assignment-details svelte-1uxp99e"><h4>Assignments</h4> <p class="assignment-line svelte-1uxp99e"><span class="component-name svelte-1uxp99e"> </span> <span class="current-binding-label svelte-1uxp99e">Current:</span> <span class="current-binding svelte-1uxp99e"> </span></p> <!> <!></div></div>',1),ts=h('<h3>Component Details</h3> <div class="details-content svelte-1uxp99e"><p class="svelte-1uxp99e"><strong>ID:</strong> </p> <p class="svelte-1uxp99e"><strong>Type:</strong> </p> <p class="svelte-1uxp99e"><strong>Position:</strong> </p> <div class="assignment-details svelte-1uxp99e"><h4>Assignments</h4> <p class="assignment-line svelte-1uxp99e"><span class="component-name svelte-1uxp99e"> </span> <span class="current-binding-label svelte-1uxp99e">Current:</span> <span class="current-binding svelte-1uxp99e"> </span></p></div></div>',1),rs=h("<p>No components available</p>"),ns=h('<div class="macro-indicator svelte-1uxp99e">M</div>'),as=h('<div class="pending-change-indicator svelte-1uxp99e">!</div>'),os=h("<div><!> <!></div>"),ss=h('<div class="macro-indicator svelte-1uxp99e">M</div>'),is=h('<div class="pending-change-indicator svelte-1uxp99e">!</div>'),ls=h("<div><!> <!></div>"),cs=h('<li class="svelte-1uxp99e"><span class="component-id svelte-1uxp99e"> </span> <span class="change-details svelte-1uxp99e"><span class="from svelte-1uxp99e"> </span> <span class="arrow svelte-1uxp99e">→</span> <span class="to svelte-1uxp99e"> </span></span></li>'),us=h('<div class="pending-changes-summary svelte-1uxp99e"><h3 class="svelte-1uxp99e">Pending Changes</h3> <ul class="svelte-1uxp99e"></ul> <div class="summary-note svelte-1uxp99e">Changes will take effect after saving</div> <button class="save-button svelte-1uxp99e">Save Changes</button></div>'),ds=h('<div class="module-container svelte-1uxp99e"><div class="layout-grid svelte-1uxp99e"><div class="component-details-panel svelte-1uxp99e"><!></div> <div class="module-view svelte-1uxp99e"><h2 class="svelte-1uxp99e"></h2> <h5 class="svelte-1uxp99e"></h5> <div class="module svelte-1uxp99e"></div></div></div> <!></div>');function vs(e,t){Ye(t,!1);let r=Re(t,"moduleInfo",8);const a=r().id,n=r().name,s=r().gridSize,i=r().components;let l=re({}),u=[],d=!0,_=re({}),v=re(null);qt(async()=>{try{d=!0,u=await yt.fetchAll(),d=!1,p()}catch(E){console.error("Failed to load macros:",E),d=!1}});function p(){m(l,{}),i.forEach(E=>{if(E.keyBinding&&E.keyBinding.startsWith("macro:")){const M=E.keyBinding.replace("macro:","");Be(l,o(l)[E.id]=M)}else E.keyBinding&&Be(l,o(l)[E.id]=E.keyBinding)})}function y(E){var M;Ge(Ge().selectedComponent=E.id),Ge(Ge().selectedComponentType=E.type),console.log(a,Ge().selectedComponent,Ge().selectedComponentType),m(v,{id:E.id,type:E.type,macroId:(M=E.keyBinding)!=null&&M.startsWith("macro:")?E.keyBinding.replace("macro:",""):null,position:E.position}),o(_)[E.id]&&Be(v,o(v).pendingChange=o(_)[E.id])}function b(E){if(!E)return"None";if(u.length){const M=u.find(G=>G.id===E);if(M)return M.name}return E}function P(E){const M=["cell",E.id,E.type];return Ge().selectedComponent===E.id&&M.push("selected"),o(l)[E.id]&&M.push("has-macro"),o(_)[E.id]&&M.push("has-pending-change"),M.join(" ")}function z(E,M){m(_,{...o(_),[E]:{macroId:M,macroName:b(M)}}),o(v)&&o(v).id===E&&Be(v,o(v).pendingChange=o(_)[E])}function N(){Object.keys(o(_)).length!==0&&w()}function k(){m(_,{}),o(v)&&Be(v,o(v).pendingChange=null)}async function w(){try{for(const[E,M]of Object.entries(o(_))){const G=i.find(I=>I.id===E);G&&(G.keyBinding=M.macroId?`macro:${M.macroId}`:null)}await Ht.saveConfigWs([r()]),k(),p()}catch(E){console.error("Failed to save changes:",E)}}rt();var x=ds(),A=f(x),C=f(A),O=f(C);{var R=E=>{var M=es(),G=g(B(M),2),I=f(G),ue=g(f(I)),$=g(I,2),T=g(f($)),L=g($,2),J=g(f(L)),te=g(L,2),Z=g(f(te),2),ce=f(Z),V=f(ce),U=g(ce,4),ae=f(U),de=g(Z,2);{var H=Q=>{var ve=Xo(),ye=f(ve),ie=f(ye),fe=g(ye,4),pe=f(fe);{var xe=ge=>{var he=q(),Fe=B(he);{var nt=we=>{var Pe=We("Basic Key");c(we,Pe)},pt=we=>{var Pe=q(),at=B(Pe);{var _t=Te=>{var je=We("Extended Key");c(Te,je)},ot=Te=>{var je=q(),Ft=B(je);{var kt=De=>{var Qe=We("Macro");c(De,Qe)},At=De=>{var Qe=We("None");c(De,Qe)};D(Ft,De=>{Ge().selectedTab==="Macros"?De(kt):De(At,!1)},!0)}c(Te,je)};D(at,Te=>{Ge().selectedTab==="Extended"?Te(_t):Te(ot,!1)},!0)}c(we,Pe)};D(Fe,we=>{Ge().selectedTab==="Basic"?we(nt):we(pt,!1)})}c(ge,he)},ze=ge=>{var he=q(),Fe=B(he);{var nt=we=>{var Pe=We("Display");c(we,Pe)},pt=we=>{var Pe=q(),at=B(Pe);{var _t=Te=>{var je=We("Encoder");c(Te,je)},ot=Te=>{var je=q(),Ft=B(je);{var kt=De=>{var Qe=We("Encoder Button");c(De,Qe)},At=De=>{var Qe=We("None");c(De,Qe)};D(Ft,De=>{o(v).type==="encoder-btn"?De(kt):De(At,!1)},!0)}c(Te,je)};D(at,Te=>{o(v).type==="encoder"?Te(_t):Te(ot,!1)},!0)}c(we,Pe)};D(Fe,we=>{o(v).type==="display"?we(nt):we(pt,!1)},!0)}c(ge,he)};D(pe,ge=>{o(v).type==="button"?ge(xe):ge(ze,!1)})}W(()=>j(ie,`${o(v).id??""}:`)),c(Q,ve)};D(de,Q=>{Ge().selectedComponent===o(v).id&&Q(H)})}var X=g(de,2);{var se=Q=>{var ve=Qo(),ye=B(ve),ie=f(ye),fe=f(ie),pe=g(ie,4),xe=f(pe),ze=g(ye,2),ge=f(ze);W(()=>{j(fe,`${o(v).id??""}:`),j(xe,o(v).pendingChange.macroName||o(v).pendingChange.macroId)}),K("click",ge,N),c(Q,ve)};D(X,Q=>{o(v).pendingChange&&Q(se)})}W(Q=>{j(ue,` ${o(v).id??""}`),j(T,` ${o(v).type??""}`),j(J,` Row ${o(v).position.row??""}, Col ${o(v).position.column??""}`),j(V,`${o(v).id??""}:`),j(ae,Q)},[()=>o(v).macroId?b(o(v).macroId)||o(v).macroId:"None"],Ee),c(E,M)},ne=E=>{var M=q(),G=B(M);{var I=$=>{var T=ts(),L=g(B(T),2),J=f(L),te=g(f(J)),Z=g(J,2),ce=g(f(Z)),V=g(Z,2),U=g(f(V)),ae=g(V,2),de=g(f(ae),2),H=f(de),X=f(H),se=g(H,4),Q=f(se);W(ve=>{j(te,` ${i[0].id??""}`),j(ce,` ${i[0].type??""}`),j(U,` Row ${i[0].position.row??""}, Col ${i[0].position.column??""}`),j(X,`${i[0].id??""}:`),j(Q,ve)},[()=>i[0].keyBinding&&i[0].keyBinding.startsWith("macro:")?b(i[0].keyBinding.replace("macro:","")):i[0].keyBinding||"None"],Ee),c($,T)},ue=$=>{var T=rs();c($,T)};D(G,$=>{i.length>0?$(I):$(ue,!1)},!0)}c(E,M)};D(O,E=>{o(v)?E(R):E(ne,!1)})}var le=g(C,2),ee=f(le);ee.textContent=n;var S=g(ee,2);S.textContent=a;var F=g(S,2);Ne(F,5,()=>i,Ae,(E,M)=>{var G=q(),I=B(G);{var ue=T=>{var L=os(),J=f(L);{var te=V=>{var U=ns();c(V,U)};D(J,V=>{o(l)[o(M).id]&&V(te)})}var Z=g(J,2);{var ce=V=>{var U=as();c(V,U)};D(Z,V=>{o(_)[o(M).id]&&V(ce)})}W((V,U)=>{Ue(L,Nr(V),"svelte-1uxp99e"),bt(L,"style",`
                grid-area: ${o(M).position.row+1} / ${o(M).position.column+1} / span ${o(M).size.rows??""} / span ${o(M).size.columns??""};
              `),bt(L,"title",U)},[()=>P(o(M)),()=>o(l)[o(M).id]?`Macro: ${b(o(l)[o(M).id])}`:""],Ee),K("click",L,()=>y(o(M))),c(T,L)},$=T=>{var L=ls(),J=f(L);{var te=V=>{var U=ss();c(V,U)};D(J,V=>{o(l)[o(M).id]&&V(te)})}var Z=g(J,2);{var ce=V=>{var U=is();c(V,U)};D(Z,V=>{o(_)[o(M).id]&&V(ce)})}W((V,U)=>{Ue(L,Nr(V),"svelte-1uxp99e"),bt(L,"style",`grid-column: ${o(M).position.column+1}; grid-row: ${o(M).position.row+1}`),bt(L,"title",U)},[()=>P(o(M)),()=>o(l)[o(M).id]?`Macro: ${b(o(l)[o(M).id])}`:""],Ee),K("click",L,()=>y(o(M))),c(T,L)};D(I,T=>{o(M).size?T(ue):T($,!1)})}c(E,G)});var Y=g(A,2);{var oe=E=>{var M=us(),G=g(f(M),2);Ne(G,5,()=>Object.entries(o(_)),Ae,(ue,$)=>{let T=()=>o($)[0],L=()=>o($)[1];var J=cs(),te=f(J),Z=f(te),ce=g(te,2),V=f(ce),U=f(V),ae=g(V,4),de=f(ae);W(H=>{j(Z,`${T()??""}:`),j(U,H),j(de,L().macroName||L().macroId)},[()=>(()=>{const H=i.find(X=>X.id===T());if(H&&H.keyBinding&&H.keyBinding.startsWith("macro:")){const X=H.keyBinding.replace("macro:","");return b(X)||X}return"None"})()],Ee),c(ue,J)});var I=g(G,4);K("click",I,w),c(E,M)};D(Y,E=>{Object.keys(o(_)).length>0&&E(oe)})}return W(()=>bt(F,"style",`grid-template-columns: repeat(${s.columns??""}, 40px); grid-template-rows: repeat(${s.rows??""}, 40px)`)),c(e,x),sn(t,"setPendingChange",z),sn(t,"clearPendingChanges",k),Je({setPendingChange:z,clearPendingChanges:k})}var fs=h('<div class="module-container svelte-1pddc1k"><!></div>'),ps=h('<div class="macropad-view svelte-1pddc1k"></div>');function _s(e,t){let r=Re(t,"modules",8);var a=ps();Ne(a,5,r,Ae,(n,s)=>{var i=fs(),l=f(i);vs(l,{get moduleInfo(){return o(s)}}),c(n,i)}),c(e,a)}var gs=h('<button class="svelte-4yxp50"><!> <span> </span></button>'),ms=h('<div class="encoder-options svelte-4yxp50"><div class="direction-toggle svelte-4yxp50"><button class="svelte-4yxp50"><!> <span>Left</span></button> <button class="svelte-4yxp50"><!> <span>Right</span></button></div> <div class="speed-slider svelte-4yxp50"><!> <input type="range" min="0" max="100" class="svelte-4yxp50"> <!> <span class="speed-value svelte-4yxp50"> </span></div> <div class="actions-grid svelte-4yxp50"></div></div>');function bs(e){let t=re("right"),r=re(50),a=re(null);const n=[{key:"Arrow Left",icon:zr},{key:"Arrow Right",icon:Pr},{key:"Arrow Up",icon:Jn},{key:"Arrow Down",icon:Yn},{key:"Brightness Up",icon:Zn},{key:"Brightness Down",icon:Gn},{key:"Volume Up",icon:Xn},{key:"Volume Down",icon:Tr}];function s(A){m(t,A)}function i(A){m(r,parseInt(A.target.value))}function l(A){m(a,A)}var u=ms(),d=f(u),_=f(d),v=f(_);zr(v,{size:"20"});var p=g(_,2),y=f(p);Pr(y,{size:"20"});var b=g(d,2),P=f(b);Lo(P,{size:"16",title:"Slow"});var z=g(P,2),N=g(z,2);Ho(N,{size:"16",title:"Fast"});var k=g(N,2),w=f(k),x=g(b,2);Ne(x,5,()=>n,Ae,(A,C)=>{var O=gs(),R=f(O);Wn(R,()=>o(C).icon,(ee,S)=>{S(ee,{size:"20"})});var ne=g(R,2),le=f(ne);W(()=>{yr(O,"selected",o(a)&&o(a).key===o(C).key),j(le,o(C).key)}),K("click",O,()=>l(o(C))),c(A,O)}),W(()=>{yr(_,"selected",o(t)==="left"),yr(p,"selected",o(t)==="right"),j(w,o(r))}),K("click",_,()=>s("left")),K("click",p,()=>s("right")),St(z,()=>o(r),A=>m(r,A)),K("input",z,i),c(e,u)}var ys=h('<button class="keyboard-key svelte-1jicinv"><!></button>'),hs=h('<div class="keyboard-row svelte-1jicinv"></div>'),xs=h('<div class="keyboard-container svelte-1jicinv"></div>');function ws(e,t){Ye(t,!1);let r=Re(t,"selectedKey",8),a=Re(t,"assignKey",8);const n=[[{key:"Volume Up",size:1},{key:"Volume Down",size:1},{key:"Mute",size:1},{key:"Play/Pause",size:1},{key:"Stop",size:1}],[{key:"Next Track",size:1},{key:"Previous Track",size:1},{key:"Brightness Up",size:1},{key:"Brightness Down",size:1}],[{key:"Print Screen",size:1},{key:"Scroll Lock",size:1},{key:"Pause/Break",size:1}],[{key:"Insert",size:1},{key:"Home",size:1},{key:"End",size:1},{key:"Page Up",size:1},{key:"Page Down",size:1}],[{key:"Left Arrow",size:1},{key:"Right Arrow",size:1},{key:"Up Arrow",size:1},{key:"Down Arrow",size:1}]],s={"Volume Up":Xn,"Volume Down":Tr,Mute:Tr,"Play/Pause":jo,Stop:Ro,"Next Track":Ko,"Previous Track":Uo,"Brightness Up":Zn,"Brightness Down":Gn,"Print Screen":Vo,"Scroll Lock":null,"Pause/Break":null,Insert:null,Home:null,End:null,"Page Up":null,"Page Down":null,"Left Arrow":zr,"Right Arrow":Pr,"Up Arrow":Jn,"Down Arrow":Yn};rt();var i=xs();Ne(i,5,()=>n,Ae,(l,u)=>{var d=hs();Ne(d,5,()=>o(u),Ae,(_,v)=>{var p=ys(),y=f(p);{var b=z=>{var N=q(),k=B(N);Wn(k,()=>s[o(v).key],(w,x)=>{x(w,{size:"16"})}),c(z,N)},P=z=>{var N=We();W(()=>j(N,o(v).key)),c(z,N)};D(y,z=>{s[o(v).key]?z(b):z(P,!1)})}W(()=>bt(p,"style",`flex: ${o(v).size??""}`)),K("click",p,()=>a()(r(),o(v).key)),c(_,p)}),c(l,d)}),c(e,i),Je()}var ks=h('<div class="error-message svelte-lqtpp9"> </div>'),$s=h('<div class="loading svelte-lqtpp9">Loading macros...</div>'),Es=h('<div class="no-selection svelte-lqtpp9"><p>Select a key on the grid to assign a macro</p></div>'),Ss=h('<div class="current-assignment svelte-lqtpp9"><h4 class="svelte-lqtpp9">Current Assignment</h4> <p> </p> <p> </p> <div class="actions svelte-lqtpp9"><button class="button button-secondary svelte-lqtpp9">Test Macro</button> <button class="button button-danger svelte-lqtpp9">Remove Assignment</button></div></div>'),Cs=h("<p>No macro currently assigned</p>"),Ms=h("<p>No macros available. Create some first!</p>"),As=h('<li><div class="macro-item svelte-lqtpp9"><div class="macro-info"><strong> </strong> <span class="macro-id svelte-lqtpp9"> </span></div> <div class="macro-actions svelte-lqtpp9"><button class="button button-small svelte-lqtpp9">Assign</button> <button class="button button-small button-secondary svelte-lqtpp9">Preview</button></div></div></li>'),Ns=h('<ul class="svelte-lqtpp9"></ul>'),zs=h('<div class="editor-content svelte-lqtpp9"><h3 class="svelte-lqtpp9"> </h3> <!> <div class="macro-list svelte-lqtpp9"><h4 class="svelte-lqtpp9">Available Macros</h4> <!></div> <div class="pending-actions svelte-lqtpp9"><button class="button button-secondary svelte-lqtpp9">Cancel All Changes</button> <button class="button svelte-lqtpp9"> </button></div></div>'),Ps=h('<div class="macro-editor svelte-lqtpp9"><h2 class="svelte-lqtpp9">Macro Editor</h2> <!> <!></div>');function Ts(e,t){Ye(t,!1);const r=re(),a=re();let n=re([]),s=re(!0),i=re(null),l=!1,u=re(!1),d=null;const _=Ht.subscribe(S=>{m(u,S.loading),S.error&&m(i,`Failed to save configuration: ${S.error}`)}),v=Me.subscribe(S=>{l=S.connected});qt(async()=>{try{m(s,!0),m(n,await yt.fetchAll()),m(s,!1),setTimeout(()=>{const S=document.querySelector(".module-container");S&&S.__svelte&&(d=S.__svelte,console.log("Module component found:",d))},500)}catch(S){m(i,S.message||"Failed to load macros"),m(s,!1)}return()=>{v(),_()}});function p(){var S,F,Y,oe;return(oe=(Y=(F=(S=document.querySelector(".macropad-view"))==null?void 0:S.parentNode)==null?void 0:F.__svelte)==null?void 0:Y.ctx)==null?void 0:oe.get(0)}function y(S){const F=p();if(!F)return null;for(const Y of F)for(const oe of Y.components)if(oe.id===S)return oe;return null}function b(S){if(!S)return null;const F=y(S);if(!F||!F.keyBinding||!F.keyBinding.startsWith("macro:"))return null;const Y=F.keyBinding.replace("macro:","");return o(n).length?o(n).find(E=>E.id===Y)||null:{id:Y,name:"Loading..."}}async function P(){const S=p();if(!S)return alert("Could not access module configuration. Please try again."),!1;try{return l?await Ht.saveConfigWs(S):await Ht.saveConfig(S),d&&d.clearPendingChanges(),!0}catch(F){return m(i,F.message||"Failed to save configuration"),!1}}async function z(S){if(o(r)){const F=y(o(r));if(F){if(d&&d.setPendingChange(o(r),S),F.keyBinding=`macro:${S}`,await P()){w();const oe=o(n).find(E=>E.id===S);oe&&alert(`Macro "${oe.name}" successfully assigned to component ${o(r)}`)}}else alert(`Component ${o(r)} not found in any module`)}}async function N(){if(o(r)){const S=y(o(r));if(S&&S.keyBinding&&S.keyBinding.startsWith("macro:")){d&&d.setPendingChange(o(r),null);const F=S.keyBinding;S.keyBinding="",await P()?(w(),alert(`Macro assignment removed from component ${o(r)}`)):S.keyBinding=F}else alert(`Component ${o(r)} does not have a macro assigned`)}}async function k(S){try{await yt.executeMacro(S),alert("Macro executed successfully")}catch(F){m(i,F.message||"Failed to execute macro")}}function w(){var F,Y,oe,E;const S=p();if(S){const M=[...S];(E=(oe=(Y=(F=document.querySelector(".macropad-view"))==null?void 0:F.parentNode)==null?void 0:Y.__svelte)==null?void 0:oe.ctx)==null||E.set(0,M)}}function x(S){o(r)&&d&&d.setPendingChange(o(r),S)}function A(){d&&d.clearPendingChanges()}Xr(()=>Et,()=>{m(r,Et.selectedComponent)}),Xr(()=>o(r),()=>{m(a,b(o(r)))}),Ba(),rt();var C=Ps(),O=g(f(C),2);{var R=S=>{var F=ks(),Y=f(F);W(()=>j(Y,o(i))),c(S,F)};D(O,S=>{o(i)&&S(R)})}var ne=g(O,2);{var le=S=>{var F=$s();c(S,F)},ee=S=>{var F=q(),Y=B(F);{var oe=M=>{var G=Es();c(M,G)},E=M=>{var G=zs(),I=f(G),ue=f(I),$=g(I,2);{var T=H=>{var X=Ss(),se=g(f(X),2),Q=f(se),ve=g(se,2),ye=f(ve),ie=g(ve,2),fe=f(ie),pe=g(fe,2);W(()=>{j(Q,`Macro: ${o(a).name??""}`),j(ye,`ID: ${o(a).id??""}`),fe.disabled=o(u),pe.disabled=o(u)}),K("click",fe,()=>k(o(a).id)),K("click",pe,N),c(H,X)},L=H=>{var X=Cs();c(H,X)};D($,H=>{o(a)?H(T):H(L,!1)})}var J=g($,2),te=g(f(J),2);{var Z=H=>{var X=Ms();c(H,X)},ce=H=>{var X=Ns();Ne(X,5,()=>o(n),Ae,(se,Q)=>{var ve=As(),ye=f(ve),ie=f(ye),fe=f(ie),pe=f(fe),xe=g(fe,2),ze=f(xe),ge=g(ie,2),he=f(ge),Fe=g(he,2);W(()=>{j(pe,o(Q).name),j(ze,o(Q).id),he.disabled=o(u)}),K("click",he,()=>z(o(Q).id)),K("click",Fe,()=>x(o(Q).id)),c(se,ve)}),c(H,X)};D(te,H=>{o(n).length===0?H(Z):H(ce,!1)})}var V=g(J,2),U=f(V),ae=g(U,2),de=f(ae);W(()=>{j(ue,`Selected Component: ${o(r)??""}`),ae.disabled=o(u),j(de,o(u)?"Saving...":"Save All Changes")}),K("click",U,A),K("click",ae,P),c(M,G)};D(Y,M=>{o(r)?M(E,!1):M(oe)},!0)}c(S,F)};D(ne,S=>{o(s)?S(le):S(ee,!1)})}c(e,C),Je()}var Ds=h('<button class="keyboard-key svelte-1bc1pux"> </button>'),Bs=h('<div class="keyboard-row svelte-1bc1pux"></div>'),Rs=h('<div class="keyboard-container svelte-1bc1pux"></div>');function Ls(e,t){Ye(t,!1);let r=Re(t,"selectedKey",8),a=Re(t,"assignKey",8);const n=[[{key:"Esc",size:1},{key:"1",size:1},{key:"2",size:1},{key:"3",size:1},{key:"4",size:1},{key:"5",size:1},{key:"6",size:1},{key:"7",size:1},{key:"8",size:1},{key:"9",size:1},{key:"0",size:1},{key:"-",size:1},{key:"=",size:1},{key:"Backspace",size:2}],[{key:"Tab",size:1.5},{key:"Q",size:1},{key:"W",size:1},{key:"E",size:1},{key:"R",size:1},{key:"T",size:1},{key:"Y",size:1},{key:"U",size:1},{key:"I",size:1},{key:"O",size:1},{key:"P",size:1},{key:"[",size:1},{key:"]",size:1},{key:"\\",size:1.5}],[{key:"Caps",size:1.75},{key:"A",size:1},{key:"S",size:1},{key:"D",size:1},{key:"F",size:1},{key:"G",size:1},{key:"H",size:1},{key:"J",size:1},{key:"K",size:1},{key:"L",size:1},{key:";",size:1},{key:"'",size:1},{key:"Enter",size:2.25}],[{key:"Shift",size:2.25},{key:"Z",size:1},{key:"X",size:1},{key:"C",size:1},{key:"V",size:1},{key:"B",size:1},{key:"N",size:1},{key:"M",size:1},{key:",",size:1},{key:".",size:1},{key:"/",size:1},{key:"Shift",size:2.75}],[{key:"Ctrl",size:1.25},{key:"Alt",size:1.25},{key:"Space",size:6.25},{key:"Alt",size:1.25},{key:"Fn",size:1.25},{key:"Ctrl",size:1.25}]];rt();var s=Rs();Ne(s,5,()=>n,Ae,(i,l)=>{var u=Bs();Ne(u,5,()=>o(l),Ae,(d,_)=>{var v=Ds(),p=f(v);W(()=>{bt(v,"style",`flex: ${o(_).size??""}`),j(p,o(_).key)}),K("click",v,()=>a()(r(),o(_).key)),c(d,v)}),c(i,u)}),c(e,s),Je()}var Is=h(" <button> </button>",1),Os=h('<div class="basic-options"><!></div>'),qs=h('<div class="extended-options"><!></div>'),Fs=h('<div class="macro-options"><!></div>'),js=h('<div class="display-options"><!></div>'),Vs=h('<div class="encoder-options"><!></div>'),Ws=h('<div class="nav-tabs svelte-aaksxd"></div> <div class="tab-content svelte-aaksxd"><!></div>',1),Us=h('<div class="no-selection svelte-aaksxd">Select a component to view options</div>'),Ks=h('<nav class="macropad-options svelte-aaksxd"><!></nav>');function Hs(e,t){Ye(t,!0);const r={button:["Basic","Extended","Macros"],display:["Display"],encoder:["Encoder"],"encoder-btn":["Basic","Extended","Macros","Encoder"]};let a=Dt(()=>r[Et.selectedComponentType]||[]),n=kr("");function s(v){m(n,it(v))}async function i(v,p){var y,b,P,z,N,k,w,x;if(v)try{const A=(z=(P=(b=(y=document.querySelector(".macropad-view"))==null?void 0:y.parentNode)==null?void 0:b.__svelte)==null?void 0:P.ctx)==null?void 0:z.get(0);if(!A||!A.length)return;const C=A[0],O=C.components.find(ne=>ne.id===v);if(!O)return;O.keyBinding=p,await Ht.saveConfigWs([C]);const R=[...A];(x=(w=(k=(N=document.querySelector(".macropad-view"))==null?void 0:N.parentNode)==null?void 0:k.__svelte)==null?void 0:w.ctx)==null||x.set(0,R)}catch(A){console.error("Failed to assign key:",A)}}var l=Ks(),u=f(l);{var d=v=>{var p=Ws(),y=B(p);Ne(y,21,()=>o(a),Ae,(k,w)=>{var x=Is(),A=B(x),C=g(A),O=f(C);W(R=>{j(A,`${R??""} `),Ue(C,`nav-tab ${(o(n)===o(w)?"active":"")??""} svelte-aaksxd`),j(O,o(w))},[()=>console.log(o(w))]),K("click",C,()=>s(o(w))),c(k,x)});var b=g(y,2),P=f(b);{var z=k=>{var w=Os(),x=f(w);Ls(x,{get selectedKey(){return Et.selectedComponent},assignKey:i}),c(k,w)},N=k=>{var w=q(),x=B(w);{var A=O=>{var R=qs(),ne=f(R);ws(ne,{get selectedKey(){return Et.selectedComponent},assignKey:i}),c(O,R)},C=O=>{var R=q(),ne=B(R);{var le=S=>{var F=Fs(),Y=f(F);Ts(Y,{}),c(S,F)},ee=S=>{var F=q(),Y=B(F);{var oe=M=>{var G=js();c(M,G)},E=M=>{var G=q(),I=B(G);{var ue=$=>{var T=Vs(),L=f(T);bs(L),c($,T)};D(I,$=>{o(n)==="Encoder"&&$(ue)},!0)}c(M,G)};D(Y,M=>{o(n)==="Display"?M(oe):M(E,!1)},!0)}c(S,F)};D(ne,S=>{o(n)==="Macros"?S(le):S(ee,!1)},!0)}c(O,R)};D(x,O=>{o(n)==="Extended"?O(A):O(C,!1)},!0)}c(k,w)};D(P,k=>{o(n)==="Basic"?k(z):k(N,!1)})}c(v,p)},_=v=>{var p=Us();c(v,p)};D(u,v=>{Et.selectedComponentType?v(d):v(_,!1)})}c(e,l),Je()}var Ys=h('<div class="container svelte-6nzlba"><div class="top-section svelte-6nzlba"><!></div> <div class="bottom-section svelte-6nzlba"><!></div></div>');function Js(e){let r=[{id:"A1:B2:C3:D4:E5:F6",name:"Main Module",description:"This is the main module with a display, rotary encoder, and buttons.",gridSize:{rows:5,columns:5},components:[{id:"display-1",type:"display",position:{row:0,column:0},size:{rows:2,columns:3},keyBinding:null},{id:"rotary-btn-1",type:"encoder-btn",position:{row:0,column:4},keyBinding:"Volume Up"},{id:"btn-1",type:"button",position:{row:0,column:3},keyBinding:"DELAY 500; PRESS Ctrl; PRESS Z; RELEASE Ctrl; RELEASE Z"},{id:"btn-2",type:"button",position:{row:1,column:3},keyBinding:"DELAY 100; PRESS Alt; PRESS F4; RELEASE Alt; RELEASE F4"},{id:"btn-3",type:"button",position:{row:1,column:4},keyBinding:"DELAY 500; PRESS Ctrl; PRESS C; RELEASE Ctrl; RELEASE C"},{id:"btn-4",type:"button",position:{row:2,column:0},keyBinding:"DELAY 200; PRESS Space; RELEASE Space"},{id:"btn-5",type:"button",position:{row:2,column:1},keyBinding:"Ctrl+V"},{id:"btn-6",type:"button",position:{row:2,column:2},keyBinding:"Ctrl+A"},{id:"btn-7",type:"button",position:{row:2,column:3},keyBinding:"DELAY 200; PRESS Shift; PRESS Esc; RELEASE Shift; RELEASE Esc"},{id:"btn-8",type:"button",position:{row:2,column:4},keyBinding:"DELAY 300; PRESS Ctrl; PRESS S; RELEASE Ctrl; RELEASE S"},{id:"btn-9",type:"button",position:{row:3,column:0},keyBinding:"F5"},{id:"btn-10",type:"button",position:{row:3,column:1},keyBinding:"F11"},{id:"btn-11",type:"button",position:{row:3,column:2},keyBinding:"Alt+Tab"},{id:"btn-12",type:"button",position:{row:3,column:3},keyBinding:"Ctrl+Shift+Esc"},{id:"btn-13",type:"button",position:{row:3,column:4},keyBinding:"Ctrl+P"},{id:"btn-14",type:"button",position:{row:4,column:0},keyBinding:"Alt+F4"},{id:"btn-15",type:"button",position:{row:4,column:1},keyBinding:"Ctrl+W"},{id:"btn-16",type:"button",position:{row:4,column:2},keyBinding:"Ctrl+Shift+T"},{id:"btn-17",type:"button",position:{row:4,column:3},keyBinding:"Ctrl+N"},{id:"btn-18",type:"button",position:{row:4,column:4},keyBinding:"Ctrl+Shift+S"}]}];var a=Ys(),n=f(a),s=f(n);_s(s,{modules:r});var i=g(n,2),l=f(i);Hs(l,{}),c(e,a)}var Gs=h('<div class="lightings-tab-container svelte-1iq6ddv"><!> <!></div>');function Zs(e){let t=re(null);var r=Gs(),a=f(r);LightingsDisplay(a,{get selectedLED(){return o(t)},set selectedLED(s){m(t,s)},$$legacy:!0});var n=g(a,2);LightingsEditor(n,{get selectedLED(){return o(t)}}),c(e,r)}var Xs=h('<div><label class="block text-xs text-gray-500 mb-1"></label> <input type="text" class="w-full p-1 border border-gray-300 rounded"></div>'),Qs=h('<button class="px-2 py-1 text-xs bg-white border border-gray-300 rounded shadow-sm hover:bg-gray-50"> </button>'),ei=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Key Report (HID Keyboard Report)</label> <div class="grid grid-cols-4 gap-2 mb-3"></div> <div class="bg-gray-100 p-3 rounded-md"><h3 class="text-sm font-medium mb-2">Common Keys</h3> <div class="flex flex-wrap gap-2"></div> <p class="text-xs text-gray-500 mt-2">Byte 0: Modifiers, Byte 2: Key code</p></div></div>'),ti=h('<div><label class="block text-xs text-gray-500 mb-1"></label> <input type="text" class="w-full p-1 border border-gray-300 rounded"></div>'),ri=h('<button class="px-2 py-1 text-xs bg-white border border-gray-300 rounded shadow-sm hover:bg-gray-50"> </button>'),ni=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Consumer Report</label> <div class="grid grid-cols-4 gap-2 mb-3"></div> <div class="bg-gray-100 p-3 rounded-md"><h3 class="text-sm font-medium mb-2">Common Consumer Controls</h3> <div class="flex flex-wrap gap-2"></div></div></div>'),ai=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="delay-ms">Delay (milliseconds)</label> <input id="delay-ms" type="number" min="1" max="10000" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"> <p class="text-xs text-gray-500 mt-1">Delay between 1 and 10000 milliseconds</p></div>'),oi=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="text-content">Text to Type</label> <textarea id="text-content" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" rows="3"></textarea></div>'),si=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="target-macro">Target Macro ID</label> <input id="target-macro" type="text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Enter the ID of the macro to execute"> <p class="text-xs text-gray-500 mt-1">This will execute another macro as part of this sequence</p></div>'),ii=h('<span class="text-xs text-gray-500 ml-2"> </span>'),li=h('<span class="text-xs text-gray-500 ml-2"> </span>'),ci=h('<span class="text-xs text-gray-500 ml-2"> </span>'),ui=h('<span class="text-xs text-gray-500 ml-2"> </span>'),di=h('<span class="text-xs text-gray-500 ml-2"> </span>'),vi=h('<li class="p-3 flex justify-between items-center hover:bg-gray-50"><div><span class="font-medium"> </span> <!></div> <button class="text-red-500 hover:text-red-700">×</button></li>'),fi=h('<div class="mt-6"><h3 class="font-medium mb-2">Command Sequence</h3> <ul class="border rounded-md divide-y"></ul></div>'),pi=h('<div class="command-editor"><div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="command-type">Command Type</label> <select id="command-type" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"><option>Key Press (press and release)</option><option>Key Down (press and hold)</option><option>Key Up (release all keys)</option><option>Consumer Control</option><option>Delay</option><option>Type Text</option><option>Execute Macro</option></select></div> <!> <div class="flex justify-end"><button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-300">Add Command</button></div> <!></div>');function _i(e,t){Ye(t,!1);let r=Re(t,"commands",28,()=>[]);const a=zo();let n=re("key_press"),s=re(new Array(8).fill(0)),i=re(new Array(4).fill(0)),l=re(100),u=re(""),d=re("");function _(){let I;switch(o(n)){case"key_press":I={type:"key_press",report:[...o(s)]};break;case"key_down":I={type:"key_down",report:[...o(s)]};break;case"key_up":I={type:"key_up"};break;case"consumer_press":I={type:"consumer_press",report:[...o(i)]};break;case"delay":I={type:"delay",ms:o(l)};break;case"type_text":I={type:"type_text",text:o(u)};break;case"execute_macro":I={type:"execute_macro",macro_id:o(d)};break}I&&(r([...r(),I]),a("update",{commands:r()}),p())}function v(I){r(r().filter((ue,$)=>$!==I)),a("update",{commands:r()})}function p(){switch(o(n)){case"key_press":case"key_down":m(s,new Array(8).fill(0));break;case"consumer_press":m(i,new Array(4).fill(0));break;case"delay":m(l,100);break;case"type_text":m(u,"");break;case"execute_macro":m(d,"");break}}function y(I,ue,$=!0){let T;try{ue.startsWith("0x")?T=parseInt(ue.substring(2),16):T=parseInt(ue,16)}catch{return}isNaN(T)||T<0||T>255||($?(Be(s,o(s)[I]=T),m(s,[...o(s)])):(Be(i,o(i)[I]=T),m(i,[...o(i)])))}const b=[{name:"A",code:"0x04"},{name:"B",code:"0x05"},{name:"C",code:"0x06"},{name:"D",code:"0x07"},{name:"Ctrl",code:"0xE0"},{name:"Shift",code:"0xE1"},{name:"Alt",code:"0xE2"},{name:"Enter",code:"0x28"},{name:"Esc",code:"0x29"},{name:"Backspace",code:"0x2A"},{name:"Tab",code:"0x2B"},{name:"Space",code:"0x2C"}],P=[{name:"Play/Pause",code:"0xCD"},{name:"Mute",code:"0xE2"},{name:"Volume Up",code:"0xE9"},{name:"Volume Down",code:"0xEA"},{name:"Media Next",code:"0xB5"},{name:"Media Previous",code:"0xB6"}];function z(I){m(s,new Array(8).fill(0)),I==="0xE0"||I==="0xE1"||I==="0xE2"?Be(s,o(s)[0]=parseInt(I.substring(2),16)):Be(s,o(s)[2]=parseInt(I.substring(2),16)),m(s,[...o(s)])}function N(I){m(i,new Array(4).fill(0)),Be(i,o(i)[0]=parseInt(I.substring(2),16)),m(i,[...o(i)])}rt();var k=pi(),w=f(k),x=g(f(w),2);W(()=>{o(n),Ja(()=>{})});var A=f(x);A.value=(A.__value="key_press")==null?"":"key_press";var C=g(A);C.value=(C.__value="key_down")==null?"":"key_down";var O=g(C);O.value=(O.__value="key_up")==null?"":"key_up";var R=g(O);R.value=(R.__value="consumer_press")==null?"":"consumer_press";var ne=g(R);ne.value=(ne.__value="delay")==null?"":"delay";var le=g(ne);le.value=(le.__value="type_text")==null?"":"type_text";var ee=g(le);ee.value=(ee.__value="execute_macro")==null?"":"execute_macro";var S=g(w,2);{var F=I=>{var ue=ei(),$=g(f(ue),2);Ne($,5,()=>o(s),Ae,(J,te,Z)=>{var ce=Xs(),V=f(ce);V.textContent=`Byte ${Z??""}`;var U=g(V,2);W(ae=>nn(U,ae),[()=>`0x${o(te).toString(16).padStart(2,"0").toUpperCase()}`],Ee),K("change",U,ae=>y(Z,ae.target.value,!0)),c(J,ce)});var T=g($,2),L=g(f(T),2);Ne(L,5,()=>b,Ae,(J,te)=>{var Z=Qs(),ce=f(Z);W(()=>j(ce,o(te).name)),K("click",Z,()=>z(o(te).code)),c(J,Z)}),c(I,ue)},Y=I=>{var ue=q(),$=B(ue);{var T=J=>{var te=ni(),Z=g(f(te),2);Ne(Z,5,()=>o(i),Ae,(U,ae,de)=>{var H=ti(),X=f(H);X.textContent=`Byte ${de??""}`;var se=g(X,2);W(Q=>nn(se,Q),[()=>`0x${o(ae).toString(16).padStart(2,"0").toUpperCase()}`],Ee),K("change",se,Q=>y(de,Q.target.value,!1)),c(U,H)});var ce=g(Z,2),V=g(f(ce),2);Ne(V,5,()=>P,Ae,(U,ae)=>{var de=ri(),H=f(de);W(()=>j(H,o(ae).name)),K("click",de,()=>N(o(ae).code)),c(U,de)}),c(J,te)},L=J=>{var te=q(),Z=B(te);{var ce=U=>{var ae=ai(),de=g(f(ae),2);St(de,()=>o(l),H=>m(l,H)),c(U,ae)},V=U=>{var ae=q(),de=B(ae);{var H=se=>{var Q=oi(),ve=g(f(Q),2);St(ve,()=>o(u),ye=>m(u,ye)),c(se,Q)},X=se=>{var Q=q(),ve=B(Q);{var ye=ie=>{var fe=si(),pe=g(f(fe),2);St(pe,()=>o(d),xe=>m(d,xe)),c(ie,fe)};D(ve,ie=>{o(n)==="execute_macro"&&ie(ye)},!0)}c(se,Q)};D(de,se=>{o(n)==="type_text"?se(H):se(X,!1)},!0)}c(U,ae)};D(Z,U=>{o(n)==="delay"?U(ce):U(V,!1)},!0)}c(J,te)};D($,J=>{o(n)==="consumer_press"?J(T):J(L,!1)},!0)}c(I,ue)};D(S,I=>{o(n)==="key_press"||o(n)==="key_down"?I(F):I(Y,!1)})}var oe=g(S,2),E=f(oe),M=g(oe,2);{var G=I=>{var ue=fi(),$=g(f(ue),2);Ne($,5,r,Ae,(T,L,J)=>{var te=vi(),Z=f(te),ce=f(Z),V=f(ce),U=g(ce,2);{var ae=X=>{var se=ii(),Q=f(se);W(ve=>j(Q,`[${ve??""}]`),[()=>o(L).report.map(ve=>"0x"+ve.toString(16).padStart(2,"0").toUpperCase()).join(" ")],Ee),c(X,se)},de=X=>{var se=q(),Q=B(se);{var ve=ie=>{var fe=li(),pe=f(fe);W(xe=>j(pe,`[${xe??""}]`),[()=>o(L).report.map(xe=>"0x"+xe.toString(16).padStart(2,"0").toUpperCase()).join(" ")],Ee),c(ie,fe)},ye=ie=>{var fe=q(),pe=B(fe);{var xe=ge=>{var he=ci(),Fe=f(he);W(()=>j(Fe,`${o(L).ms??""}ms`)),c(ge,he)},ze=ge=>{var he=q(),Fe=B(he);{var nt=we=>{var Pe=ui(),at=f(Pe);W(()=>j(at,`"${o(L).text??""}"`)),c(we,Pe)},pt=we=>{var Pe=q(),at=B(Pe);{var _t=ot=>{var Te=di(),je=f(Te);W(()=>j(je,`macro_id: ${o(L).macro_id??""}`)),c(ot,Te)};D(at,ot=>{o(L).type==="execute_macro"&&ot(_t)},!0)}c(we,Pe)};D(Fe,we=>{o(L).type==="type_text"?we(nt):we(pt,!1)},!0)}c(ge,he)};D(pe,ge=>{o(L).type==="delay"?ge(xe):ge(ze,!1)},!0)}c(ie,fe)};D(Q,ie=>{o(L).type==="consumer_press"?ie(ve):ie(ye,!1)},!0)}c(X,se)};D(U,X=>{o(L).type==="key_press"||o(L).type==="key_down"?X(ae):X(de,!1)})}var H=g(Z,2);W(()=>j(V,o(L).type)),K("click",H,()=>v(J)),c(T,te)}),c(I,ue)};D(M,I=>{r().length>0&&I(G)})}W(()=>E.disabled=o(n)==="type_text"&&!o(u)||o(n)==="execute_macro"&&!o(d)),wo(x,()=>o(n),I=>m(n,I)),K("click",E,_),c(e,k),Je()}var gi=h('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"><strong>Error:</strong> <button class="float-right font-bold">×</button></div>'),mi=h('<div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4"><strong>Notice:</strong> Not connected to the device. Macro execution will not work until connection is established. <button class="ml-2 px-2 py-1 bg-yellow-500 text-white rounded text-xs hover:bg-yellow-600">Reconnect</button></div>'),bi=h('<div class="flex justify-center py-8"><div class="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"></div></div>'),yi=h('<div class="bg-white shadow rounded-lg p-6"><h3 class="text-lg font-medium mb-4"> </h3> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="macro-id">ID</label> <input id="macro-id" type="text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Unique identifier (no spaces, lowercase)"></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="macro-name">Name</label> <input id="macro-name" type="text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Display name"></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="macro-description">Description (optional)</label> <textarea id="macro-description" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Description of what this macro does" rows="2"></textarea></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Commands</label> <!></div> <div class="flex justify-end gap-3 mt-6"><button class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancel</button> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-300"> </button></div></div>'),hi=h('<div class="bg-gray-100 rounded-lg p-8 text-center"><p class="text-gray-500">No macros defined yet.</p> <button class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Create Your First Macro</button></div>'),xi=h('<p class="text-sm text-gray-600 mt-1"> </p>'),wi=h('<div class="bg-white shadow rounded-lg overflow-hidden"><div class="p-4"><div class="flex justify-between items-start"><h3 class="text-lg font-medium"> </h3> <div class="flex space-x-2"><button class="text-blue-600 hover:text-blue-800" title="Edit"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg></button> <button class="text-red-600 hover:text-red-800" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></button></div></div> <!> <p class="text-xs text-gray-500 mt-2"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <div class="bg-gray-50 px-4 py-3 border-t flex justify-between"><button class="flex-1 bg-green-500 text-white px-2 py-2 rounded-l hover:bg-green-600 flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg> Execute</button> <button class="flex-1 bg-indigo-500 text-white px-2 py-2 rounded-r hover:bg-indigo-600 flex justify-center items-center ml-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"></path></svg> Assign</button></div></div>'),ki=h('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>'),$i=h('<div class="flex justify-between mb-6"><div class="flex items-center"><div></div> <span class="text-sm text-gray-600"> </span></div> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Create Macro</button></div> <!>',1),Ei=h('<button class="p-4 bg-gray-100 hover:bg-blue-100 border border-gray-300 rounded text-center"></button>'),Si=h(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full"><h3 class="text-lg font-medium mb-4"> </h3> <p class="text-sm text-gray-600 mb-4">Select a button to assign this macro to. This will update the button's configuration.</p> <div class="grid grid-cols-3 gap-2 mb-4"></div> <div class="flex justify-end"><button class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancel</button></div></div></div>`),Ci=h('<div class="macros-page p-4"><h2 class="text-2xl font-bold mb-4">Macros</h2> <!> <!> <!></div> <!>',1);function Mi(e,t){Ye(t,!1);let r=re([]),a=re(!0),n=re(null),s=null,i=re(!1),l=re(!1),u=re(!1),d=re(!1),_=re(null),v=re(""),p=re(""),y=re(""),b=re([]);const P=Me.subscribe($=>{m(l,$.connected)});qt(async()=>{try{m(a,!0),m(r,await yt.fetchAll()),m(a,!1)}catch($){m(n,$.message||"Failed to load macros"),m(a,!1)}return()=>{P()}});function z($){s=$,m(v,$.id),m(p,$.name),m(y,$.description||""),m(b,[...$.commands||[]]),m(i,!0),m(u,!1)}function N(){s=null,m(v,""),m(p,""),m(y,""),m(b,[]),m(i,!0),m(u,!0)}function k(){m(i,!1),m(u,!1),s=null}async function w($){try{await yt.executeMacro($.id)}catch(T){m(n,T.message||"Failed to execute macro")}}async function x($){if(confirm(`Are you sure you want to delete the macro "${$.name}"?`))try{await yt.deleteMacro($.id),m(r,o(r).filter(T=>T.id!==$.id))}catch(T){m(n,T.message||"Failed to delete macro")}}async function A(){const $={id:o(v),name:o(p),description:o(y),commands:o(b)};try{if(o(u)){const T=await yt.createMacro($);m(r,[...o(r),T])}else{const T=await yt.updateMacro(o(v),$);m(r,o(r).map(L=>L.id===o(v)?T:L))}m(i,!1),m(u,!1),s=null}catch(T){m(n,T.message||"Failed to save macro")}}function C($){m(b,$.detail.commands)}function O($){m(_,$),m(d,!0)}function R(){m(d,!1),m(_,null)}async function ne($){if(o(_))try{await Me.assignMacroToButton(o(_).id,$),await Me.requestAllConfigs(),R()}catch(T){m(n,T.message||"Failed to assign macro to button")}}rt();var le=Ci(),ee=B(le),S=g(f(ee),2);{var F=$=>{var T=gi(),L=g(f(T)),J=g(L);W(()=>j(L,` ${o(n)??""} `)),K("click",J,()=>m(n,null)),c($,T)};D(S,$=>{o(n)&&$(F)})}var Y=g(S,2);{var oe=$=>{var T=mi(),L=g(f(T),2);K("click",L,()=>Me.connect()),c($,T)};D(Y,$=>{o(l)||$(oe)})}var E=g(Y,2);{var M=$=>{var T=bi();c($,T)},G=$=>{var T=q(),L=B(T);{var J=Z=>{var ce=yi(),V=f(ce),U=f(V),ae=g(V,2),de=g(f(ae),2),H=g(ae,2),X=g(f(H),2),se=g(H,2),Q=g(f(se),2),ve=g(se,2),ye=g(f(ve),2);_i(ye,{get commands(){return o(b)},$$events:{update:C}});var ie=g(ve,2),fe=f(ie),pe=g(fe,2),xe=f(pe);W(()=>{j(U,o(u)?"Create New Macro":"Edit Macro"),de.disabled=!o(u),pe.disabled=!o(v)||!o(p)||o(b).length===0,j(xe,o(u)?"Create":"Save")}),St(de,()=>o(v),ze=>m(v,ze)),St(X,()=>o(p),ze=>m(p,ze)),St(Q,()=>o(y),ze=>m(y,ze)),K("click",fe,k),K("click",pe,A),c(Z,ce)},te=Z=>{var ce=$i(),V=B(ce),U=f(V),ae=f(U),de=g(ae,2),H=f(de),X=g(U,2),se=g(V,2);{var Q=ye=>{var ie=hi(),fe=g(f(ie),2);K("click",fe,N),c(ye,ie)},ve=ye=>{var ie=ki();Ne(ie,5,()=>o(r),Ae,(fe,pe)=>{var xe=wi(),ze=f(xe),ge=f(ze),he=f(ge),Fe=f(he),nt=g(he,2),pt=f(nt),we=g(pt,2),Pe=g(ge,2);{var at=De=>{var Qe=xi(),Qn=f(Qe);W(()=>j(Qn,o(pe).description)),c(De,Qe)};D(Pe,De=>{o(pe).description&&De(at)})}var _t=g(Pe,2),ot=f(_t),Te=g(_t,2),je=f(Te),Ft=g(ze,2),kt=f(Ft),At=g(kt,2);W(()=>{j(Fe,o(pe).name),j(ot,`ID: ${o(pe).id??""}`),j(je,`${(o(pe).commands||[]).length??""} commands`),kt.disabled=!o(l),At.disabled=!o(l)}),K("click",pt,()=>z(o(pe))),K("click",we,()=>x(o(pe))),K("click",kt,()=>w(o(pe))),K("click",At,()=>O(o(pe))),c(fe,xe)}),c(ye,ie)};D(se,ye=>{o(r).length===0?ye(Q):ye(ve,!1)})}W(()=>{Ue(ae,`w-3 h-3 rounded-full mr-2 ${o(l)?"bg-green-500":"bg-red-500"}`),j(H,`WebSocket: ${(o(l)?"Connected":"Disconnected")??""}`)}),K("click",X,N),c(Z,ce)};D(L,Z=>{o(i)?Z(J):Z(te,!1)},!0)}c($,T)};D(E,$=>{o(a)?$(M):$(G,!1)})}var I=g(ee,2);{var ue=$=>{var T=Si(),L=f(T),J=f(L),te=f(J),Z=g(J,4);Ne(Z,4,()=>Array(9),Ae,(U,ae,de)=>{var H=Ei();H.textContent=`Button ${de+1}`,K("click",H,()=>ne(`button-0-${de}`)),c(U,H)});var ce=g(Z,2),V=f(ce);W(()=>j(te,`Assign "${o(_).name??""}" to Button`)),K("click",V,R),c($,T)};D(I,$=>{o(d)&&$(ue)})}c(e,le),Je()}var Ai=h('<button class="ml-2 text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors">Reconnect</button>'),Ni=h('<button class="ml-2 text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors">Request Data</button>'),zi=h('<span class="text-sm"><!> <!></span>'),Pi=h('<button class="text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors">Reconnect</button>'),Ti=h("<div><div></div> <!></div>");function Di(e,t){Ye(t,!1);let r=Re(t,"showLabel",8,!0),a=Re(t,"position",8,"top-right"),n=re(!1),s=re(!1);const i=Me.subscribe(b=>{m(n,b.connected),m(s,b.connectionVerified)});Ao(i);function l(){Me.connect()}function u(){Me.subscribe(b=>b.connected).connected&&Me.requestAllConfigs().catch(b=>{console.error("Failed to request configurations:",b)})}rt();var d=Ti(),_=f(d),v=g(_,2);{var p=b=>{var P=zi(),z=f(P);{var N=C=>{var O=q(),R=B(O);{var ne=ee=>{var S=We("Connected");c(ee,S)},le=ee=>{var S=We("Connected (No Data)");c(ee,S)};D(R,ee=>{o(s)?ee(ne):ee(le,!1)})}c(C,O)},k=C=>{var O=We("Disconnected");c(C,O)};D(z,C=>{o(n)?C(N):C(k,!1)})}var w=g(z,2);{var x=C=>{var O=Ai();K("click",O,l),c(C,O)},A=C=>{var O=q(),R=B(O);{var ne=le=>{var ee=Ni();K("click",ee,u),c(le,ee)};D(R,le=>{o(s)||le(ne)},!0)}c(C,O)};D(w,C=>{o(n)?C(A,!1):C(x)})}c(b,P)},y=b=>{var P=q(),z=B(P);{var N=k=>{var w=Pi();K("click",w,l),c(k,w)};D(z,k=>{o(n)||k(N)},!0)}c(b,P)};D(v,b=>{r()?b(p):b(y,!1)})}W(()=>{Ue(d,`${`connection-status ${a()} flex items-center gap-2`??""} svelte-q06out`),Ue(_,`${`w-3 h-3 rounded-full ${o(n)?o(s)?"bg-green-500":"bg-yellow-500":"bg-red-500"}`??""} svelte-q06out`)}),c(e,d),Je()}var Bi=h('<div class="flex justify-center items-center p-8 svelte-1ps1vr7"><div class="loading-spinner svelte-1ps1vr7"></div> <p class="ml-2 svelte-1ps1vr7">Loading configuration data...</p></div> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-4 svelte-1ps1vr7">Load Sample Data (Demo)</button>',1),Ri=h('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded svelte-1ps1vr7"><p class="svelte-1ps1vr7"> </p> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-4 svelte-1ps1vr7">Load Sample Data (Demo)</button></div>'),Li=h('<div class="flex flex-col items-center svelte-1ps1vr7"><button> </button> <button class="text-xs text-blue-500 mb-2 svelte-1ps1vr7" title="Refresh this config only">Refresh</button></div>'),Ii=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Oi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),qi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Fi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),ji=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Vi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Wi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Ui=h('<p class="text-gray-500 italic svelte-1ps1vr7">No data available for this configuration type</p>'),Ki=h('<div class="flex border-b mb-4 flex-wrap svelte-1ps1vr7"></div> <div class="config-content-container svelte-1ps1vr7"><!></div>',1),Hi=h(`<div class="raw-config-container svelte-1ps1vr7"><div class="flex justify-between items-center mb-4 svelte-1ps1vr7"><h2 class="text-2xl font-bold svelte-1ps1vr7">Raw Configuration</h2> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 flex items-center svelte-1ps1vr7"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1 svelte-1ps1vr7" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" class="svelte-1ps1vr7"></path></svg> Refresh</button></div> <div class="bg-white rounded-lg shadow p-4 mb-6 svelte-1ps1vr7"><p class="text-gray-600 mb-4 svelte-1ps1vr7">This page displays the raw JSON configuration files stored in the ESP32 memory.
      You can view different configuration files by selecting the tabs below.</p> <!></div></div>`);function Yi(e,t){Ye(t,!1);let r=re({modules:null,macros:null,system:null,actions:null,components:null,info:null,leds:null}),a=re("modules"),n=re(!0),s=re(null);function i(N){try{return JSON.stringify(N,null,2)}catch{return"Error formatting JSON"}}qt(async()=>{try{m(n,!0);const N=setTimeout(()=>{o(n)&&!o(r).modules&&!o(r).macros&&!o(r).system&&(console.log("No configuration data received, loading sample data"),l())},5e3);Me.subscribe(w=>w.connected).connected?Me.requestAllConfigs().catch(w=>{console.error("Error sending config request:",w)}):l();const k=Me.subscribe(w=>{if(w.events&&w.events.length>0){const x=w.events[w.events.length-1];x.type==="config_data"&&(x.configType==="modules"?Be(r,o(r).modules=x.data):x.configType==="macros"?Be(r,o(r).macros=x.data):x.configType==="system"?Be(r,o(r).system=x.data):x.configType==="actions"?Be(r,o(r).actions=x.data):x.configType==="components"?Be(r,o(r).components=x.data):x.configType==="info"?Be(r,o(r).info=x.data):x.configType==="leds"&&Be(r,o(r).leds=x.data),m(n,!1),clearTimeout(N))}});return()=>{k(),clearTimeout(N)}}catch(N){console.error("Failed to load configurations:",N),m(s,N.message||"Failed to load configurations"),m(n,!1)}});function l(){m(r,{modules:[{id:"A1:B2:C3:D4:E5:F6",name:"Main Module",gridSize:{rows:5,columns:5},components:[{id:"display-1",type:"display",position:{row:0,column:0},keyBinding:null},{id:"btn-1",type:"button",position:{row:1,column:0},keyBinding:"macro:123"}]}],macros:[{id:"123",name:"Test Macro",commands:[{type:"keypress",key:"a"}]}],system:{version:"1.0.0",deviceName:"Modular Macropad",lastSync:new Date().toISOString()},actions:{keyPress:["a","b","c"],specialKeys:["F1","F2","Enter"]},components:{buttons:["btn-1","btn-2"],encoders:["encoder-1"],displays:["display-1"]},info:{manufacturer:"Modular Macropad",model:"DIY-1",firmware:"1.0.0"},leds:{brightness:100,patterns:["solid","rainbow","breathe"]}}),m(n,!1)}function u(){if(!Me.subscribe(N=>N.connected).connected){m(s,"WebSocket not connected. Cannot refresh data.");return}m(n,!0),m(s,null),Me.requestAllConfigs().catch(N=>{console.error("Error requesting configurations:",N),m(s,N.message||"Failed to request configurations"),m(n,!1)})}function d(N){if(!Me.subscribe(k=>k.connected).connected){m(s,"WebSocket not connected. Cannot refresh data.");return}Me.requestConfig(N).catch(k=>{console.error(`Error requesting ${N} configuration:`,k)})}rt();var _=Hi(),v=f(_),p=g(f(v),2),y=g(v,2),b=g(f(y),2);{var P=N=>{var k=Bi(),w=g(B(k),2);K("click",w,l),c(N,k)},z=N=>{var k=q(),w=B(k);{var x=C=>{var O=Ri(),R=f(O),ne=f(R),le=g(R,2);W(()=>j(ne,o(s))),K("click",le,l),c(C,O)},A=C=>{var O=Ki(),R=B(O);Ne(R,5,()=>Object.keys(o(r)),Ae,(F,Y)=>{var oe=Li(),E=f(oe),M=f(E),G=g(E,2);W(I=>{Ue(E,`${`px-4 py-2 mr-2 ${o(a)===o(Y)?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),j(M,I)},[()=>o(Y).charAt(0).toUpperCase()+o(Y).slice(1)],Ee),K("click",E,()=>m(a,o(Y))),K("click",G,()=>d(o(Y))),c(F,oe)});var ne=g(R,2),le=f(ne);{var ee=F=>{var Y=Ii(),oe=f(Y);W(E=>j(oe,E),[()=>i(o(r).modules)],Ee),c(F,Y)},S=F=>{var Y=q(),oe=B(Y);{var E=G=>{var I=Oi(),ue=f(I);W($=>j(ue,$),[()=>i(o(r).macros)],Ee),c(G,I)},M=G=>{var I=q(),ue=B(I);{var $=L=>{var J=qi(),te=f(J);W(Z=>j(te,Z),[()=>i(o(r).system)],Ee),c(L,J)},T=L=>{var J=q(),te=B(J);{var Z=V=>{var U=Fi(),ae=f(U);W(de=>j(ae,de),[()=>i(o(r).actions)],Ee),c(V,U)},ce=V=>{var U=q(),ae=B(U);{var de=X=>{var se=ji(),Q=f(se);W(ve=>j(Q,ve),[()=>i(o(r).components)],Ee),c(X,se)},H=X=>{var se=q(),Q=B(se);{var ve=ie=>{var fe=Vi(),pe=f(fe);W(xe=>j(pe,xe),[()=>i(o(r).info)],Ee),c(ie,fe)},ye=ie=>{var fe=q(),pe=B(fe);{var xe=ge=>{var he=Wi(),Fe=f(he);W(nt=>j(Fe,nt),[()=>i(o(r).leds)],Ee),c(ge,he)},ze=ge=>{var he=Ui();c(ge,he)};D(pe,ge=>{o(a)==="leds"&&o(r).leds?ge(xe):ge(ze,!1)},!0)}c(ie,fe)};D(Q,ie=>{o(a)==="info"&&o(r).info?ie(ve):ie(ye,!1)},!0)}c(X,se)};D(ae,X=>{o(a)==="components"&&o(r).components?X(de):X(H,!1)},!0)}c(V,U)};D(te,V=>{o(a)==="actions"&&o(r).actions?V(Z):V(ce,!1)},!0)}c(L,J)};D(ue,L=>{o(a)==="system"&&o(r).system?L($):L(T,!1)},!0)}c(G,I)};D(oe,G=>{o(a)==="macros"&&o(r).macros?G(E):G(M,!1)},!0)}c(F,Y)};D(le,F=>{o(a)==="modules"&&o(r).modules?F(ee):F(S,!1)})}c(C,O)};D(w,C=>{o(s)?C(x):C(A,!1)},!0)}c(N,k)};D(b,N=>{o(n)?N(P):N(z,!1)})}W(()=>p.disabled=o(n)),K("click",p,u),c(e,_),Je()}var Ji=h('<main class="min-h-screen flex flex-col bg-gray-50"><!> <div class="navbar mb-2 p-2 bg-primary text-primary-content rounded-lg shadow"><div class="flex-1"><h1 class="text-xl font-bold ml-2">Macropad Control Panel</h1></div> <div class="flex-none"><div class="tabs tabs-boxed bg-primary-focus"><button data-tab="macropad"><!> Macropad</button> <button data-tab="macros"><!> Macros</button> <button data-tab="lighting"><!> Lighting</button> <button data-tab="settings"><!> Settings</button> <button data-tab="raw-config"><!> Raw Config</button></div></div></div> <div class="main-content mb-8"><!></div></main>');function Gi(e,t){Ye(t,!1);let r=re("macropad");qt(()=>{Me.connect()}),rt();var a=Ji(),n=f(a);Di(n,{position:"top-right"});var s=g(n,2),i=g(f(s),2),l=f(i),u=f(l),d=f(u);qo(d,{class:"inline-block w-5 h-5 mr-1"});var _=g(u,2),v=f(_);Fo(v,{class:"inline-block w-5 h-5 mr-1"});var p=g(_,2),y=f(p);Io(y,{class:"inline-block w-5 h-5 mr-1"});var b=g(p,2),P=f(b);Wo(P,{class:"inline-block w-5 h-5 mr-1"});var z=g(b,2),N=f(z);Oo(N,{class:"inline-block w-5 h-5 mr-1"});var k=g(s,2),w=f(k);{var x=C=>{Js(C)},A=C=>{var O=q(),R=B(O);{var ne=ee=>{Mi(ee,{})},le=ee=>{var S=q(),F=B(S);{var Y=E=>{Zs(E)},oe=E=>{var M=q(),G=B(M);{var I=$=>{},ue=$=>{var T=q(),L=B(T);{var J=te=>{Yi(te,{})};D(L,te=>{o(r)==="raw-config"&&te(J)},!0)}c($,T)};D(G,$=>{o(r)==="settings"?$(I):$(ue,!1)},!0)}c(E,M)};D(F,E=>{o(r)==="lighting"?E(Y):E(oe,!1)},!0)}c(ee,S)};D(R,ee=>{o(r)==="macros"?ee(ne):ee(le,!1)},!0)}c(C,O)};D(w,C=>{o(r)==="macropad"?C(x):C(A,!1)})}W(()=>{Ue(u,`tab transition-colors duration-200 ${o(r)==="macropad"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ue(_,`tab transition-colors duration-200 ${o(r)==="macros"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ue(p,`tab transition-colors duration-200 ${o(r)==="lighting"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ue(b,`tab transition-colors duration-200 ${o(r)==="settings"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ue(z,`tab transition-colors duration-200 ${o(r)==="raw-config"?"tab-active bg-primary-content text-primary":"text-primary-content"}`)}),K("click",u,()=>m(r,"macropad")),K("click",_,()=>m(r,"macros")),K("click",p,()=>m(r,"lighting")),K("click",b,()=>m(r,"settings")),K("click",z,()=>m(r,"raw-config")),c(e,a),Je()}co(Gi,{target:document.getElementById("app")});
