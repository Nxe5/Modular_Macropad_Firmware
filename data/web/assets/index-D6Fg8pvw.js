(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const Vr=!1;var rr=Array.isArray,Qn=Array.prototype.indexOf,Ar=Array.from,ea=Object.defineProperty,et=Object.getOwnPropertyDescriptor,sn=Object.getOwnPropertyDescriptors,ta=Object.prototype,ra=Array.prototype,zr=Object.getPrototypeOf;function Tt(e){return typeof e=="function"}const Ht=()=>{};function na(e){return e()}function mr(e){for(var t=0;t<e.length;t++)e[t]()}const je=2,ln=4,nr=8,Nr=16,at=32,qt=64,Gt=128,Fe=256,Zt=512,Pe=1024,ot=2048,ht=4096,tt=8192,ar=16384,aa=32768,Ft=65536,cn=1<<17,oa=1<<19,un=1<<20,rt=Symbol("$state"),dn=Symbol("legacy props"),sa=Symbol("");function vn(e){return e===this.v}function fn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Pr(e){return!fn(e,this.v)}function ia(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function la(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ca(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ua(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function da(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function va(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function fa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function _a(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let At=!1,ga=!1;function ma(){At=!0}const Tr=1,Dr=2,pn=4,ba=8,ya=16,ha=1,xa=2,_n=4,wa=8,ka=16,$a=1,Ea=2,Le=Symbol(),gn="http://www.w3.org/2000/svg";function Br(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let pe=null;function Wr(e){pe=e}function Ve(e,t=!1,r){pe={p:pe,c:null,e:null,m:!1,s:e,x:null,l:null},At&&!t&&(pe.l={s:null,u:null,r1:[],r2:De(!1)})}function We(e){const t=pe;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var r=fe,a=_e;t.e=null;try{for(var n=0;n<i.length;n++){var s=i[n];ft(s.effect),vt(s.reaction),sr(s.fn)}}finally{ft(r),vt(a)}}pe=t.p,t.m=!0}return e||{}}function jt(){return!At||pe!==null&&pe.l===null}function De(e,t){var r={f:0,v:e,reactions:null,equals:vn,rv:0,wv:0};return r}function br(e){return mn(De(e))}function Lr(e,t=!1){var a;const r=De(e);return t||(r.equals=Pr),At&&pe!==null&&pe.l!==null&&((a=pe.l).s??(a.s=[])).push(r),r}function ne(e,t=!1){return mn(Lr(e,t))}function mn(e){return _e!==null&&!Je&&_e.f&je&&(Ge===null?Ra([e]):Ge.push(e)),e}function Se(e,t){return m(e,Ue(()=>o(e))),t}function m(e,t){return _e!==null&&!Je&&jt()&&_e.f&(je|Nr)&&(Ge===null||!Ge.includes(e))&&_a(),Rt(e,t)}function Rt(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Tn(),bn(e,ot),jt()&&fe!==null&&fe.f&Pe&&!(fe.f&(at|qt))&&(Xe===null?Ia([e]):Xe.push(e))),t}function Ur(e,t=1){var r=o(e),a=t===1?r++:r--;return m(e,r),a}function bn(e,t){var r=e.reactions;if(r!==null)for(var a=jt(),n=r.length,s=0;s<n;s++){var i=r[s],l=i.f;l&ot||!a&&i===fe||(Ke(i,t),l&(Pe|Fe)&&(l&je?bn(i,ht):ur(i)))}}let yn=!1;function Qe(e,t=null,r){if(typeof e!="object"||e===null||rt in e)return e;const a=zr(e);if(a!==ta&&a!==ra)return e;var n=new Map,s=rr(e),i=De(0);s&&n.set("length",De(e.length));var l;return new Proxy(e,{defineProperty(f,u,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&va();var p=n.get(u);return p===void 0?(p=De(_.value),n.set(u,p)):m(p,Qe(_.value,l)),!0},deleteProperty(f,u){var _=n.get(u);if(_===void 0)u in f&&n.set(u,De(Le));else{if(s&&typeof u=="string"){var p=n.get("length"),c=Number(u);Number.isInteger(c)&&c<p.v&&m(p,c)}m(_,Le),Kr(i)}return!0},get(f,u,_){var y;if(u===rt)return e;var p=n.get(u),c=u in f;if(p===void 0&&(!c||(y=et(f,u))!=null&&y.writable)&&(p=De(Qe(c?f[u]:Le,l)),n.set(u,p)),p!==void 0){var b=o(p);return b===Le?void 0:b}return Reflect.get(f,u,_)},getOwnPropertyDescriptor(f,u){var _=Reflect.getOwnPropertyDescriptor(f,u);if(_&&"value"in _){var p=n.get(u);p&&(_.value=o(p))}else if(_===void 0){var c=n.get(u),b=c==null?void 0:c.v;if(c!==void 0&&b!==Le)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return _},has(f,u){var b;if(u===rt)return!0;var _=n.get(u),p=_!==void 0&&_.v!==Le||Reflect.has(f,u);if(_!==void 0||fe!==null&&(!p||(b=et(f,u))!=null&&b.writable)){_===void 0&&(_=De(p?Qe(f[u],l):Le),n.set(u,_));var c=o(_);if(c===Le)return!1}return p},set(f,u,_,p){var k;var c=n.get(u),b=u in f;if(s&&u==="length")for(var y=_;y<c.v;y+=1){var P=n.get(y+"");P!==void 0?m(P,Le):y in f&&(P=De(Le),n.set(y+"",P))}c===void 0?(!b||(k=et(f,u))!=null&&k.writable)&&(c=De(void 0),m(c,Qe(_,l)),n.set(u,c)):(b=c.v!==Le,m(c,Qe(_,l)));var x=Reflect.getOwnPropertyDescriptor(f,u);if(x!=null&&x.set&&x.set.call(p,_),!b){if(s&&typeof u=="string"){var N=n.get("length"),$=Number(u);Number.isInteger($)&&$>=N.v&&m(N,$+1)}Kr(i)}return!0},ownKeys(f){o(i);var u=Reflect.ownKeys(f).filter(c=>{var b=n.get(c);return b===void 0||b.v!==Le});for(var[_,p]of n)p.v!==Le&&!(_ in f)&&u.push(_);return u},setPrototypeOf(){fa()}})}function Kr(e,t=1){m(e,e.v+t)}function Hr(e){return e!==null&&typeof e=="object"&&rt in e?e[rt]:e}function Sa(e,t){return Object.is(Hr(e),Hr(t))}var Yr,hn,xn,wn;function Ca(){if(Yr===void 0){Yr=window,hn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;xn=et(t,"firstChild").get,wn=et(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Vt(e=""){return document.createTextNode(e)}function Et(e){return xn.call(e)}function or(e){return wn.call(e)}function d(e,t){return Et(e)}function B(e,t){{var r=Et(e);return r instanceof Comment&&r.data===""?or(r):r}}function g(e,t=1,r=!1){let a=e;for(;t--;)a=or(a);return a}function Ma(e){e.textContent=""}function St(e){var t=je|ot,r=_e!==null&&_e.f&je?_e:null;return fe===null||r!==null&&r.f&Fe?t|=Fe:fe.f|=un,{ctx:pe,deps:null,effects:null,equals:vn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??fe}}function $e(e){const t=St(e);return t.equals=Pr,t}function kn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)nt(t[r])}}function Aa(e){for(var t=e.parent;t!==null;){if(!(t.f&je))return t;t=t.parent}return null}function za(e){var t,r=fe;ft(Aa(e));try{kn(e),t=Bn(e)}finally{ft(r)}return t}function $n(e){var t=za(e),r=(dt||e.f&Fe)&&e.deps!==null?ht:Pe;Ke(e,r),e.equals(t)||(e.v=t,e.wv=Tn())}function En(e){fe===null&&_e===null&&ca(),_e!==null&&_e.f&Fe&&fe===null&&la(),Or&&ia()}function Na(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function zt(e,t,r,a=!0){var n=(e&qt)!==0,s=fe,i={ctx:pe,deps:null,nodes_start:null,nodes_end:null,f:e|ot,first:null,fn:t,last:null,next:null,parent:n?null:s,prev:null,teardown:null,transitions:null,wv:0};if(r){var l=$t;try{Gr(!0),cr(i),i.f|=aa}catch(_){throw nt(i),_}finally{Gr(l)}}else t!==null&&ur(i);var f=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(un|Gt))===0;if(!f&&!n&&a&&(s!==null&&Na(i,s),_e!==null&&_e.f&je)){var u=_e;(u.effects??(u.effects=[])).push(i)}return i}function Sn(e){const t=zt(nr,null,!1);return Ke(t,Pe),t.teardown=e,t}function yr(e){En();var t=fe!==null&&(fe.f&at)!==0&&pe!==null&&!pe.m;if(t){var r=pe;(r.e??(r.e=[])).push({fn:e,effect:fe,reaction:_e})}else{var a=sr(e);return a}}function Pa(e){return En(),ir(e)}function Ta(e){const t=zt(qt,e,!0);return(r={})=>new Promise(a=>{r.outro?Ct(t,()=>{nt(t),a(void 0)}):(nt(t),a(void 0))})}function sr(e){return zt(ln,e,!1)}function Jr(e,t){var r=pe,a={effect:null,ran:!1};r.l.r1.push(a),a.effect=ir(()=>{e(),!a.ran&&(a.ran=!0,m(r.l.r2,!0),Ue(t))})}function Da(){var e=pe;ir(()=>{if(o(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&Pe&&Ke(r,ht),Nt(r)&&cr(r),t.ran=!1}e.l.r2.v=!1}})}function ir(e){return zt(nr,e,!0)}function j(e,t=[],r=St){const a=t.map(r);return Wt(()=>e(...a.map(o)))}function Wt(e,t=0){return zt(nr|Nr|t,e,!0)}function yt(e,t=!0){return zt(nr|at,e,!0,t)}function Cn(e){var t=e.teardown;if(t!==null){const r=Or,a=_e;Zr(!0),vt(null);try{t.call(null)}finally{Zr(r),vt(a)}}}function Mn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var a=r.next;nt(r,t),r=a}}function Ba(e){for(var t=e.first;t!==null;){var r=t.next;t.f&at||nt(t),t=r}}function nt(e,t=!0){var r=!1;if((t||e.f&oa)&&e.nodes_start!==null){for(var a=e.nodes_start,n=e.nodes_end;a!==null;){var s=a===n?null:or(a);a.remove(),a=s}r=!0}Mn(e,t&&!r),tr(e,0),Ke(e,ar);var i=e.transitions;if(i!==null)for(const f of i)f.stop();Cn(e);var l=e.parent;l!==null&&l.first!==null&&An(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function An(e){var t=e.parent,r=e.prev,a=e.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=r))}function Ct(e,t){var r=[];Rr(e,r,!0),zn(r,()=>{nt(e),t&&t()})}function zn(e,t){var r=e.length;if(r>0){var a=()=>--r||t();for(var n of e)n.out(a)}else t()}function Rr(e,t,r){if(!(e.f&tt)){if(e.f^=tt,e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&t.push(i);for(var a=e.first;a!==null;){var n=a.next,s=(a.f&Ft)!==0||(a.f&at)!==0;Rr(a,t,s?r:!1),a=n}}}function It(e){Nn(e,!0)}function Nn(e,t){if(e.f&tt){e.f^=tt,e.f&Pe||(e.f^=Pe),Nt(e)&&(Ke(e,ot),ur(e));for(var r=e.first;r!==null;){var a=r.next,n=(r.f&Ft)!==0||(r.f&at)!==0;Nn(r,n?t:!1),r=a}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let hr=!1,xr=[];function La(){hr=!1;const e=xr.slice();xr=[],mr(e)}function Ir(e){hr||(hr=!0,queueMicrotask(La)),xr.push(e)}let Yt=!1,Xt=!1,Qt=null,$t=!1,Or=!1;function Gr(e){$t=e}function Zr(e){Or=e}let wr=[],Bt=0;let _e=null,Je=!1;function vt(e){_e=e}let fe=null;function ft(e){fe=e}let Ge=null;function Ra(e){Ge=e}let Be=null,qe=0,Xe=null;function Ia(e){Xe=e}let Pn=1,er=0,dt=!1,lt=null;function Tn(){return++Pn}function Nt(e){var p;var t=e.f;if(t&ot)return!0;if(t&ht){var r=e.deps,a=(t&Fe)!==0;if(r!==null){var n,s,i=(t&Zt)!==0,l=a&&fe!==null&&!dt,f=r.length;if(i||l){var u=e,_=u.parent;for(n=0;n<f;n++)s=r[n],(i||!((p=s==null?void 0:s.reactions)!=null&&p.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Zt),l&&_!==null&&!(_.f&Fe)&&(u.f^=Fe)}for(n=0;n<f;n++)if(s=r[n],Nt(s)&&$n(s),s.wv>e.wv)return!0}(!a||fe!==null&&!dt)&&Ke(e,Pe)}return!1}function Oa(e,t){for(var r=t;r!==null;){if(r.f&Gt)try{r.fn(e);return}catch{r.f^=Gt}r=r.parent}throw Yt=!1,e}function qa(e){return(e.f&ar)===0&&(e.parent===null||(e.parent.f&Gt)===0)}function lr(e,t,r,a){if(Yt){if(r===null&&(Yt=!1),qa(t))throw e;return}r!==null&&(Yt=!0);{Oa(e,t);return}}function Dn(e,t,r=!0){var a=e.reactions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n];s.f&je?Dn(s,t,!1):t===s&&(r?Ke(s,ot):s.f&Pe&&Ke(s,ht),ur(s))}}function Bn(e){var b;var t=Be,r=qe,a=Xe,n=_e,s=dt,i=Ge,l=pe,f=Je,u=e.f;Be=null,qe=0,Xe=null,_e=u&(at|qt)?null:e,dt=(u&Fe)!==0&&(!$t||n===null||f),Ge=null,Wr(e.ctx),Je=!1,er++;try{var _=(0,e.fn)(),p=e.deps;if(Be!==null){var c;if(tr(e,qe),p!==null&&qe>0)for(p.length=qe+Be.length,c=0;c<Be.length;c++)p[qe+c]=Be[c];else e.deps=p=Be;if(!dt)for(c=qe;c<p.length;c++)((b=p[c]).reactions??(b.reactions=[])).push(e)}else p!==null&&qe<p.length&&(tr(e,qe),p.length=qe);if(jt()&&Xe!==null&&!Je&&p!==null&&!(e.f&(je|ht|ot)))for(c=0;c<Xe.length;c++)Dn(Xe[c],e);return n!==null&&er++,_}finally{Be=t,qe=r,Xe=a,_e=n,dt=s,Ge=i,Wr(l),Je=f}}function Fa(e,t){let r=t.reactions;if(r!==null){var a=Qn.call(r,e);if(a!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[a]=r[n],r.pop())}}r===null&&t.f&je&&(Be===null||!Be.includes(t))&&(Ke(t,ht),t.f&(Fe|Zt)||(t.f^=Zt),kn(t),tr(t,0))}function tr(e,t){var r=e.deps;if(r!==null)for(var a=t;a<r.length;a++)Fa(e,r[a])}function cr(e){var t=e.f;if(!(t&ar)){Ke(e,Pe);var r=fe,a=pe;fe=e;try{t&Nr?Ba(e):Mn(e),Cn(e);var n=Bn(e);e.teardown=typeof n=="function"?n:null,e.wv=Pn;var s=e.deps,i;Vr&&ga&&e.f&ot}catch(l){lr(l,e,r,a||e.ctx)}finally{fe=r}}}function ja(){if(Bt>1e3){Bt=0;try{ua()}catch(e){if(Qt!==null)lr(e,Qt,null);else throw e}}Bt++}function Va(e){var t=e.length;if(t!==0){ja();var r=$t;$t=!0;try{for(var a=0;a<t;a++){var n=e[a];n.f&Pe||(n.f^=Pe);var s=Ka(n);Wa(s)}}finally{$t=r}}}function Wa(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var a=e[r];if(!(a.f&(ar|tt)))try{Nt(a)&&(cr(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?An(a):a.fn=null))}catch(n){lr(n,a,null,a.ctx)}}}function Ua(){if(Xt=!1,Bt>1001)return;const e=wr;wr=[],Va(e),Xt||(Bt=0,Qt=null)}function ur(e){Xt||(Xt=!0,queueMicrotask(Ua)),Qt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(qt|at)){if(!(r&Pe))return;t.f^=Pe}}wr.push(t)}function Ka(e){var t=[],r=e.first;e:for(;r!==null;){var a=r.f,n=(a&at)!==0,s=n&&(a&Pe)!==0,i=r.next;if(!s&&!(a&tt)){if(a&ln)t.push(r);else if(n)r.f^=Pe;else{var l=_e;try{_e=r,Nt(r)&&cr(r)}catch(_){lr(_,r,null,r.ctx)}finally{_e=l}}var f=r.first;if(f!==null){r=f;continue}}if(i===null){let _=r.parent;for(;_!==null;){if(e===_)break e;var u=_.next;if(u!==null){r=u;continue e}_=_.parent}}r=i}return t}function o(e){var t=e.f,r=(t&je)!==0;if(lt!==null&&lt.add(e),_e!==null&&!Je){Ge!==null&&Ge.includes(e)&&pa();var a=_e.deps;e.rv<er&&(e.rv=er,Be===null&&a!==null&&a[qe]===e?qe++:Be===null?Be=[e]:(!dt||!Be.includes(e))&&Be.push(e))}else if(r&&e.deps===null&&e.effects===null){var n=e,s=n.parent;s!==null&&!(s.f&Fe)&&(n.f^=Fe)}return r&&(n=e,Nt(n)&&$n(n)),e.v}function Ha(e){var t=lt;lt=new Set;var r=lt,a;try{if(Ue(e),t!==null)for(a of lt)t.add(a)}finally{lt=t}return r}function Ya(e){var t=Ha(()=>Ue(e));for(var r of t)if(r.f&cn)for(const a of r.deps||[])a.f&je||Rt(a,a.v);else Rt(r,r.v)}function Ue(e){var t=Je;try{return Je=!0,e()}finally{Je=t}}const Ja=-7169;function Ke(e,t){e.f=e.f&Ja|t}function Ga(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(rt in e)kr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&rt in r&&kr(r)}}}function kr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{kr(e[a],t)}catch{}const r=zr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=sn(r);for(let n in a){const s=a[n].get;if(s)try{s.call(e)}catch{}}}}}function Za(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Xa=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Qa(e){return Xa.includes(e)}const eo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function to(e){return e=e.toLowerCase(),eo[e]??e}const ro=["touchstart","touchmove"];function no(e){return ro.includes(e)}function ao(e,t){if(t){const r=document.body;e.autofocus=!0,Ir(()=>{document.activeElement===r&&e.focus()})}}let Xr=!1;function oo(){Xr||(Xr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Ln(e){var t=_e,r=fe;vt(null),ft(null);try{return e()}finally{vt(t),ft(r)}}function Rn(e,t,r,a=r){e.addEventListener(t,()=>Ln(r));const n=e.__on_r;n?e.__on_r=()=>{n(),a(!0)}:e.__on_r=()=>a(!0),oo()}const In=new Set,$r=new Set;function On(e,t,r,a={}){function n(s){if(a.capture||Dt.call(t,s),!s.cancelBubble)return Ln(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ir(()=>{t.addEventListener(e,n,a)}):t.addEventListener(e,n,a),n}function q(e,t,r,a,n){var s={capture:a,passive:n},i=On(e,t,r,s);(t===document.body||t===window||t===document)&&Sn(()=>{t.removeEventListener(e,i,s)})}function so(e){for(var t=0;t<e.length;t++)In.add(e[t]);for(var r of $r)r(e)}function Dt(e){var $;var t=this,r=t.ownerDocument,a=e.type,n=(($=e.composedPath)==null?void 0:$.call(e))||[],s=n[0]||e.target,i=0,l=e.__root;if(l){var f=n.indexOf(l);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var u=n.indexOf(t);if(u===-1)return;f<=u&&(i=f)}if(s=n[i]||e.target,s!==t){ea(e,"currentTarget",{configurable:!0,get(){return s||r}});var _=_e,p=fe;vt(null),ft(null);try{for(var c,b=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var P=s["__"+a];if(P!==void 0&&(!s.disabled||e.target===s))if(rr(P)){var[x,...N]=P;x.apply(s,[e,...N])}else P.call(s,e)}catch(k){c?b.push(k):c=k}if(e.cancelBubble||y===t||y===null)break;s=y}if(c){for(let k of b)queueMicrotask(()=>{throw k});throw c}}finally{e.__root=t,delete e.currentTarget,vt(_),ft(p)}}}function qn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Mt(e,t){var r=fe;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function h(e,t){var r=(t&$a)!==0,a=(t&Ea)!==0,n,s=!e.startsWith("<!>");return()=>{n===void 0&&(n=qn(s?e:"<!>"+e),r||(n=Et(n)));var i=a||hn?document.importNode(n,!0):n.cloneNode(!0);if(r){var l=Et(i),f=i.lastChild;Mt(l,f)}else Mt(i,i);return i}}function io(e,t,r="svg"){var a=!e.startsWith("<!>"),n=`<${r}>${a?e:"<!>"+e}</${r}>`,s;return()=>{if(!s){var i=qn(n),l=Et(i);s=Et(l)}var f=s.cloneNode(!0);return Mt(f,f),f}}function lo(e=""){{var t=Vt(e+"");return Mt(t,t),t}}function V(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Vt();return e.append(t,r),Mt(t,r),e}function v(e,t){e!==null&&e.before(t)}function I(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function co(e,t){return uo(e,t)}const wt=new Map;function uo(e,{target:t,anchor:r,props:a={},events:n,context:s,intro:i=!0}){Ca();var l=new Set,f=p=>{for(var c=0;c<p.length;c++){var b=p[c];if(!l.has(b)){l.add(b);var y=no(b);t.addEventListener(b,Dt,{passive:y});var P=wt.get(b);P===void 0?(document.addEventListener(b,Dt,{passive:y}),wt.set(b,1)):wt.set(b,P+1)}}};f(Ar(In)),$r.add(f);var u=void 0,_=Ta(()=>{var p=r??t.appendChild(Vt());return yt(()=>{if(s){Ve({});var c=pe;c.c=s}n&&(a.$$events=n),u=e(p,a)||{},s&&We()}),()=>{var y;for(var c of l){t.removeEventListener(c,Dt);var b=wt.get(c);--b===0?(document.removeEventListener(c,Dt),wt.delete(c)):wt.set(c,b)}$r.delete(f),p!==r&&((y=p.parentNode)==null||y.removeChild(p))}});return vo.set(u,_),u}let vo=new WeakMap;function L(e,t,r=!1){var a=e,n=null,s=null,i=Le,l=r?Ft:0,f=!1;const u=(p,c=!0)=>{f=!0,_(c,p)},_=(p,c)=>{i!==(i=p)&&(i?(n?It(n):c&&(n=yt(()=>c(a))),s&&Ct(s,()=>{s=null})):(s?It(s):c&&(s=yt(()=>c(a))),n&&Ct(n,()=>{n=null})))};Wt(()=>{f=!1,t(u),f||_(null,null)},l)}function Me(e,t){return t}function fo(e,t,r,a){for(var n=[],s=t.length,i=0;i<s;i++)Rr(t[i].e,n,!0);var l=s>0&&n.length===0&&r!==null;if(l){var f=r.parentNode;Ma(f),f.append(r),a.clear(),it(e,t[0].prev,t[s-1].next)}zn(n,()=>{for(var u=0;u<s;u++){var _=t[u];l||(a.delete(_.k),it(e,_.prev,_.next)),nt(_.e,!l)}})}function Ae(e,t,r,a,n,s=null){var i=e,l={flags:t,items:new Map,first:null},f=(t&pn)!==0;if(f){var u=e;i=u.appendChild(Vt())}var _=null,p=!1,c=$e(()=>{var b=r();return rr(b)?b:b==null?[]:Ar(b)});Wt(()=>{var b=o(c),y=b.length;p&&y===0||(p=y===0,po(b,l,i,n,t,a,r),s!==null&&(y===0?_?It(_):_=yt(()=>s(i)):_!==null&&Ct(_,()=>{_=null})),o(c))})}function po(e,t,r,a,n,s,i){var se,C,S,Z;var l=(n&ba)!==0,f=(n&(Tr|Dr))!==0,u=e.length,_=t.items,p=t.first,c=p,b,y=null,P,x=[],N=[],$,k,z,A;if(l)for(A=0;A<u;A+=1)$=e[A],k=s($,A),z=_.get(k),z!==void 0&&((se=z.a)==null||se.measure(),(P??(P=new Set)).add(z));for(A=0;A<u;A+=1){if($=e[A],k=s($,A),z=_.get(k),z===void 0){var T=c?c.e.nodes_start:r;y=go(T,t,y,y===null?t.first:y.next,$,k,A,a,n,i),_.set(k,y),x=[],N=[],c=y.next;continue}if(f&&_o(z,$,A,n),z.e.f&tt&&(It(z.e),l&&((C=z.a)==null||C.unfix(),(P??(P=new Set)).delete(z))),z!==c){if(b!==void 0&&b.has(z)){if(x.length<N.length){var K=N[0],R;y=K.prev;var le=x[0],ue=x[x.length-1];for(R=0;R<x.length;R+=1)Qr(x[R],K,r);for(R=0;R<N.length;R+=1)b.delete(N[R]);it(t,le.prev,ue.next),it(t,y,le),it(t,ue,K),c=K,y=ue,A-=1,x=[],N=[]}else b.delete(z),Qr(z,c,r),it(t,z.prev,z.next),it(t,z,y===null?t.first:y.next),it(t,y,z),y=z;continue}for(x=[],N=[];c!==null&&c.k!==k;)c.e.f&tt||(b??(b=new Set)).add(c),N.push(c),c=c.next;if(c===null)continue;z=c}x.push(z),y=z,c=z.next}if(c!==null||b!==void 0){for(var ae=b===void 0?[]:Ar(b);c!==null;)c.e.f&tt||ae.push(c),c=c.next;var E=ae.length;if(E>0){var U=n&pn&&u===0?r:null;if(l){for(A=0;A<E;A+=1)(S=ae[A].a)==null||S.measure();for(A=0;A<E;A+=1)(Z=ae[A].a)==null||Z.fix()}fo(t,ae,U,_)}}l&&Ir(()=>{var ve;if(P!==void 0)for(z of P)(ve=z.a)==null||ve.apply()}),fe.first=t.first&&t.first.e,fe.last=y&&y.e}function _o(e,t,r,a){a&Tr&&Rt(e.v,t),a&Dr?Rt(e.i,r):e.i=r}function go(e,t,r,a,n,s,i,l,f,u){var _=(f&Tr)!==0,p=(f&ya)===0,c=_?p?Lr(n):De(n):n,b=f&Dr?De(i):i,y={i:b,v:c,k:s,a:null,e:null,prev:r,next:a};try{return y.e=yt(()=>l(e,c,b,u),yn),y.e.prev=r&&r.e,y.e.next=a&&a.e,r===null?t.first=y:(r.next=y,r.e.next=y.e),a!==null&&(a.prev=y,a.e.prev=y.e),y}finally{}}function Qr(e,t,r){for(var a=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==a;){var i=or(s);n.before(s),s=i}}function it(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function he(e,t,r,a,n){var l;var s=(l=t.$$slots)==null?void 0:l[r],i=!1;s===!0&&(s=t.children,i=!0),s===void 0||s(e,i?()=>a:a)}function Fn(e,t,r){var a=e,n,s;Wt(()=>{n!==(n=t())&&(s&&(Ct(s),s=null),n&&(s=yt(()=>r(a,n))))},Ft)}function mo(e,t,r,a,n,s){var i,l,f=null,u=e,_;Wt(()=>{const p=t()||null;var c=gn;p!==i&&(_&&(p===null?Ct(_,()=>{_=null,l=null}):p===l?It(_):nt(_)),p&&p!==l&&(_=yt(()=>{if(f=document.createElementNS(c,p),Mt(f,f),a){var b=f.appendChild(Vt());a(f,b)}fe.nodes_end=f,u.before(f)})),i=p,i&&(l=i))},Ft)}function jn(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=jn(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function bo(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=jn(e))&&(a&&(a+=" "),a+=t);return a}function Er(e){return typeof e=="object"?bo(e):e??""}function en(e,t){var r=e.__attributes??(e.__attributes={});r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function yo(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ct(e,t,r,a){var n=e.__attributes??(e.__attributes={});n[t]!==(n[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[sa]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Vn(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function tn(e,t,r,a,n=!1,s=!1,i=!1){var l=t||{},f=e.tagName==="OPTION";for(var u in t)u in r||(r[u]=null);r.class&&(r.class=Er(r.class));var _=Vn(e),p=e.__attributes??(e.__attributes={});for(const $ in r){let k=r[$];if(f&&$==="value"&&k==null){e.value=e.__value="",l[$]=k;continue}var c=l[$];if(k!==c){l[$]=k;var b=$[0]+$[1];if(b!=="$$"){if(b==="on"){const z={},A="$$"+$;let T=$.slice(2);var y=Qa(T);if(Za(T)&&(T=T.slice(0,-7),z.capture=!0),!y&&c){if(k!=null)continue;e.removeEventListener(T,l[A],z),l[A]=null}if(k!=null)if(y)e[`__${T}`]=k,so([T]);else{let K=function(R){l[$].call(this,R)};var N=K;l[A]=On(T,e,K,z)}else y&&(e[`__${T}`]=void 0)}else if($==="style"&&k!=null)e.style.cssText=k+"";else if($==="autofocus")ao(e,!!k);else if(!s&&($==="__value"||$==="value"&&k!=null))e.value=e.__value=k;else if($==="selected"&&f)yo(e,k);else{var P=$;n||(P=to(P));var x=P==="defaultValue"||P==="defaultChecked";if(k==null&&!s&&!x)if(p[$]=null,P==="value"||P==="checked"){let z=e;const A=t===void 0;if(P==="value"){let T=z.defaultValue;z.removeAttribute(P),z.defaultValue=T,z.value=z.__value=A?T:null}else{let T=z.defaultChecked;z.removeAttribute(P),z.defaultChecked=T,z.checked=A?T:!1}}else e.removeAttribute($);else x||_.includes(P)&&(s||typeof k!="string")?e[P]=k:typeof k!="function"&&ct(e,P,k)}$==="style"&&"__styles"in e&&(e.__styles={})}}}return l}var rn=new Map;function Vn(e){var t=rn.get(e.nodeName);if(t)return t;rn.set(e.nodeName,t=[]);for(var r,a=e,n=Element.prototype;n!==a;){r=sn(a);for(var s in r)r[s].set&&t.push(s);a=zr(a)}return t}function Ce(e,t,r){var a=e.__className,n=ho(t,r);(a!==n||yn)&&(t==null&&!r?e.removeAttribute("class"):e.className=n,e.__className=n)}function ho(e,t){return(e??"")+(t?" "+t:"")}function pr(e,t,r){if(r){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function bt(e,t,r=t){var a=jt();Rn(e,"input",n=>{var s=n?e.defaultValue:e.value;if(s=_r(e)?gr(s):s,r(s),a&&s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ue(t)==null&&e.value&&r(_r(e)?gr(e.value):e.value),ir(()=>{var n=t();_r(e)&&n===gr(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function _r(e){var t=e.type;return t==="number"||t==="range"}function gr(e){return e===""?null:+e}function nn(e,t,r){var a=et(e,t);a&&a.set&&(e[t]=r,Sn(()=>{e[t]=null}))}function Wn(e,t,r){if(e.multiple)return ko(e,t);for(var a of e.options){var n=Lt(a);if(Sa(n,t)){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function xo(e,t){sr(()=>{var r=new MutationObserver(()=>{var a=e.__value;Wn(e,a)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function wo(e,t,r=t){var a=!0;Rn(e,"change",n=>{var s=n?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(s),Lt);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");i=l&&Lt(l)}r(i)}),sr(()=>{var n=t();if(Wn(e,n,a),a&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=Lt(s),r(n))}e.__value=n,a=!1}),xo(e)}function ko(e,t){for(var r of e.options)r.selected=~t.indexOf(Lt(r))}function Lt(e){return"__value"in e?e.__value:e.value}function Ze(e=!1){const t=pe,r=t.l.u;if(!r)return;let a=()=>Ga(t.s);if(e){let n=0,s={};const i=St(()=>{let l=!1;const f=t.s;for(const u in f)f[u]!==s[u]&&(s[u]=f[u],l=!0);return l&&n++,n});a=()=>o(i)}r.b.length&&Pa(()=>{an(t,a),mr(r.b)}),yr(()=>{const n=Ue(()=>r.m.map(na));return()=>{for(const s of n)typeof s=="function"&&s()}}),r.a.length&&yr(()=>{an(t,a),mr(r.a)})}function an(e,t){if(e.l.s)for(const r of e.l.s)o(r);t()}function $o(e){var t=De(0);return function(){return arguments.length===1?(m(t,o(t)+1),arguments[0]):(o(t),e())}}function Eo(e,t,r){if(e==null)return t(void 0),Ht;const a=Ue(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const kt=[];function qr(e,t=Ht){let r=null;const a=new Set;function n(l){if(fn(e,l)&&(e=l,r)){const f=!kt.length;for(const u of a)u[1](),kt.push(u,e);if(f){for(let u=0;u<kt.length;u+=2)kt[u][0](kt[u+1]);kt.length=0}}}function s(l){n(l(e))}function i(l,f=Ht){const u=[l,f];return a.add(u),a.size===1&&(r=t(n,s)||Ht),l(e),()=>{a.delete(u),a.size===0&&r&&(r(),r=null)}}return{set:n,update:s,subscribe:i}}function Un(e){let t;return Eo(e,r=>t=r)(),t}let Kt=!1;function So(e){var t=Kt;try{return Kt=!1,[e(),Kt]}finally{Kt=t}}const Co={get(e,t){if(!e.exclude.includes(t))return o(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=Ne({get[t](){return e.props[t]}},t,_n)),e.special[t](r),Ur(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Ur(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function ye(e,t){return new Proxy({props:e,exclude:t,special:{},version:De(0)},Co)}const Mo={get(e,t){let r=e.props.length;for(;r--;){let a=e.props[r];if(Tt(a)&&(a=a()),typeof a=="object"&&a!==null&&t in a)return a[t]}},set(e,t,r){let a=e.props.length;for(;a--;){let n=e.props[a];Tt(n)&&(n=n());const s=et(n,t);if(s&&s.set)return s.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let a=e.props[r];if(Tt(a)&&(a=a()),typeof a=="object"&&a!==null&&t in a){const n=et(a,t);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,t){if(t===rt||t===dn)return!1;for(let r of e.props)if(Tt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){Tt(r)&&(r=r());for(const a in r)t.includes(a)||t.push(a)}return t}};function xe(...e){return new Proxy({props:e},Mo)}function Ne(e,t,r,a){var K;var n=(r&ha)!==0,s=!At||(r&xa)!==0,i=(r&wa)!==0,l=(r&ka)!==0,f=!1,u;i?[u,f]=So(()=>e[t]):u=e[t];var _=rt in e||dn in e,p=i&&(((K=et(e,t))==null?void 0:K.set)??(_&&t in e&&(R=>e[t]=R)))||void 0,c=a,b=!0,y=!1,P=()=>(y=!0,b&&(b=!1,l?c=Ue(a):c=a),c);u===void 0&&a!==void 0&&(p&&s&&da(),u=P(),p&&p(u));var x;if(s)x=()=>{var R=e[t];return R===void 0?P():(b=!0,y=!1,R)};else{var N=(n?St:$e)(()=>e[t]);N.f|=cn,x=()=>{var R=o(N);return R!==void 0&&(c=void 0),R===void 0?c:R}}if(!(r&_n))return x;if(p){var $=e.$$legacy;return function(R,le){return arguments.length>0?((!s||!le||$||f)&&p(le?x():R),R):x()}}var k=!1,z=!1,A=Lr(u),T=St(()=>{var R=x(),le=o(A);return k?(k=!1,z=!0,le):(z=!1,A.v=R)});return n||(T.equals=Pr),function(R,le){if(lt!==null&&(k=z,x(),o(A)),arguments.length>0){const ue=le?o(T):s&&i?Qe(R):R;return T.equals(ue)||(k=!0,m(A,ue),y&&c!==void 0&&(c=ue),Ue(()=>o(T))),R}return o(T)}}function Pt(e){pe===null&&Br(),At&&pe.l!==null?Po(pe).m.push(e):yr(()=>{const t=Ue(e);if(typeof t=="function")return t})}function Ao(e){pe===null&&Br(),Pt(()=>()=>Ue(e))}function zo(e,t,{bubbles:r=!1,cancelable:a=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:a})}function No(){const e=pe;return e===null&&Br(),(t,r,a)=>{var s;const n=(s=e.s.$$events)==null?void 0:s[t];if(n){const i=rr(n)?n.slice():[n],l=zo(t,r,a);for(const f of i)f.call(e.x,l);return!l.defaultPrevented}return!0}}function Po(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const To="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(To);ma();/**
 * @license lucide-svelte v0.475.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Do={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Bo=io("<svg><!><!></svg>");function we(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]),a=ye(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ve(t,!1);let n=Ne(t,"name",8,void 0),s=Ne(t,"color",8,"currentColor"),i=Ne(t,"size",8,24),l=Ne(t,"strokeWidth",8,2),f=Ne(t,"absoluteStrokeWidth",8,!1),u=Ne(t,"iconNode",24,()=>[]);const _=(...P)=>P.filter((x,N,$)=>!!x&&$.indexOf(x)===N).join(" ");Ze();var p=Bo();let c;var b=d(p);Ae(b,1,u,Me,(P,x)=>{let N=()=>o(x)[0],$=()=>o(x)[1];var k=V(),z=B(k);mo(z,N,!0,(A,T)=>{let K;j(()=>K=tn(A,K,{...$()},void 0,A.namespaceURI===gn,A.nodeName.includes("-")))}),v(P,k)});var y=g(b);he(y,t,"default",{}),j((P,x)=>c=tn(p,c,{...Do,...a,width:i(),height:i(),stroke:s(),"stroke-width":P,class:x},void 0,!0),[()=>f()?Number(l())*24/Number(i()):l(),()=>_("lucide-icon","lucide",n()?`lucide-${n()}`:"",r.class)],$e),v(e,p),We()}function Kn(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Sr(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"arrow-left"},()=>r,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Cr(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"arrow-right"},()=>r,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Hn(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Lo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"circle-stop"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Ro(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"clock"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Io(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"coffee"},()=>r,{iconNode:[["path",{d:"M10 2v2"}],["path",{d:"M14 2v2"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1"}],["path",{d:"M6 2v2"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Oo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"file-json"},()=>r,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function qo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Fo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"list"},()=>r,{iconNode:[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Yn(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"moon"},()=>r,{iconNode:[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function jo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"play"},()=>r,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Vo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"printer"},()=>r,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Wo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"settings"},()=>r,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Uo(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"skip-back"},()=>r,{iconNode:[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Ko(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"skip-forward"},()=>r,{iconNode:[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Jn(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"sun"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Gn(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"volume-2"},()=>r,{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Mr(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"volume-x"},()=>r,{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Ho(e,t){const r=ye(t,["children","$$slots","$$events","$$legacy"]);we(e,xe({name:"zap"},()=>r,{iconNode:[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]],children:(n,s)=>{var i=V(),l=B(i);he(l,t,"default",{}),v(n,i)},$$slots:{default:!0}}))}function Yo(){let e=br(null),t=br(null);return{get selectedComponent(){return o(e)},set selectedComponent(r){m(e,Qe(r))},get selectedComponentType(){return o(t)},set selectedComponentType(r){m(t,Qe(r))}}}const Ot=Yo(),mt=window.location.hostname==="localhost"?"http://localhost:80":`http://${window.location.hostname}`,on=window.location.hostname==="localhost"?"ws://localhost:80/ws":`ws://${window.location.hostname}/ws`;function Jo(){const{subscribe:e,set:t,update:r}=qr([]);return{subscribe:e,fetchAll:async()=>{try{const a=await fetch(`${mt}/api/macros`);if(!a.ok)throw new Error(`Failed to fetch macros: ${a.status} ${a.statusText}`);const n=await a.json();return t(n),n}catch(a){throw console.error("Error fetching macros:",a),a}},fetchMacro:async a=>{try{const n=await fetch(`${mt}/api/macros/${a}`);if(!n.ok)throw new Error(`Failed to fetch macro: ${n.status} ${n.statusText}`);return await n.json()}catch(n){throw console.error(`Error fetching macro ${a}:`,n),n}},createMacro:async a=>{try{const n=await fetch(`${mt}/api/macros`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create macro: ${n.status} ${n.statusText}`);const s=await n.json();return r(i=>[...i,s]),s}catch(n){throw console.error("Error creating macro:",n),n}},updateMacro:async(a,n)=>{try{const s=await fetch(`${mt}/api/macros/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error(`Failed to update macro: ${s.status} ${s.statusText}`);const i=await s.json();return r(l=>l.map(f=>f.id===a?i:f)),i}catch(s){throw console.error(`Error updating macro ${a}:`,s),s}},deleteMacro:async a=>{try{const n=await fetch(`${mt}/api/macros/${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete macro: ${n.status} ${n.statusText}`);r(s=>s.filter(i=>i.id!==a))}catch(n){throw console.error(`Error deleting macro ${a}:`,n),n}},executeMacro:async a=>{try{const n=await fetch(`${mt}/api/macros/${a}/execute`,{method:"POST"});if(!n.ok)throw new Error(`Failed to execute macro: ${n.status} ${n.statusText}`)}catch(n){throw console.error(`Error executing macro ${a}:`,n),n}}}}function Go(){const{subscribe:e,update:t}=qr({connected:!1,events:[]});let r=null,a=null;const n={subscribe:e,connect:()=>{try{if(Un({subscribe:e}).connected)return;console.log("Attempting to connect to WebSocket at:",on),r=new WebSocket(on),r.onopen=()=>{console.log("WebSocket connected successfully"),t(i=>({...i,connected:!0}));try{r&&r.readyState===WebSocket.OPEN&&(console.log("Requesting initial configuration data"),r.send(JSON.stringify({type:"get_all_configs"})))}catch(i){console.error("Error requesting initial data:",i)}},r.onclose=()=>{a&&clearTimeout(a),t(i=>({...i,connected:!1})),console.log("WebSocket disconnected, will attempt to reconnect"),a=setTimeout(()=>n.connect(),3e3)},r.onerror=i=>{console.log("WebSocket connection error, will retry automatically"),t(l=>({...l,connected:!1}))},r.onmessage=i=>{try{const l=JSON.parse(i.data);console.log("WebSocket message received:",l),t(f=>({...f,events:[...f.events.slice(-99),l]}))}catch(l){console.error("Error parsing WebSocket message:",l)}}}catch{console.log("Error initializing WebSocket, will retry"),a=setTimeout(()=>n.connect(),3e3)}},disconnect:()=>{r&&(r.close(),a&&(clearTimeout(a),a=null))},sendMessage:s=>r&&r.readyState===WebSocket.OPEN?(r.send(JSON.stringify(s)),Promise.resolve()):(console.error("WebSocket not connected, unable to send message"),Promise.reject(new Error("WebSocket not connected"))),executeMacro:s=>n.sendMessage({type:"execute_macro",macroId:s}),assignMacroToButton:(s,i)=>n.sendMessage({type:"assign_macro",macroId:s,buttonId:i}),saveMacro:s=>n.sendMessage({type:"save_macro",macro:s}),clearEvents:()=>{t(s=>({...s,events:[]}))}};return n}function Zo(){const{subscribe:e,update:t}=qr({loading:!1,error:null,lastSaved:null});return{subscribe:e,saveConfig:async r=>{try{t(n=>({...n,loading:!0,error:null}));const a=await fetch(`${mt}/api/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modules:r})});if(!a.ok)throw new Error(`Failed to save configuration: ${a.status} ${a.statusText}`);return t(n=>({...n,loading:!1,lastSaved:new Date().toISOString()})),!0}catch(a){throw console.error("Error saving configuration:",a),t(n=>({...n,loading:!1,error:a.message||"Failed to save configuration"})),a}},saveConfigWs:r=>Un(Re).connected?Re.sendMessage({type:"save_config",data:{modules:r}}).then(()=>(t(a=>({...a,lastSaved:new Date().toISOString()})),!0)):Promise.reject(new Error("WebSocket not connected"))}}const ut=Jo(),Re=Go(),Jt=Zo();var gt=$o(()=>Ot),Xo=h('<p class="assignment-line pending svelte-g6pxw9"><span class="component-name svelte-g6pxw9"> </span> <span class="new-binding-label svelte-g6pxw9">New Assignment:</span> <span class="new-binding svelte-g6pxw9"> </span></p>'),Qo=h('<h3>Component Details</h3> <div class="details-content svelte-g6pxw9"><p class="svelte-g6pxw9"><strong>ID:</strong> </p> <p class="svelte-g6pxw9"><strong>Type:</strong> </p> <p class="svelte-g6pxw9"><strong>Position:</strong> </p> <div class="assignment-details svelte-g6pxw9"><h4>Assignments</h4> <p class="assignment-line svelte-g6pxw9"><span class="component-name svelte-g6pxw9"> </span> <span class="current-binding-label svelte-g6pxw9">Current:</span> <span class="current-binding svelte-g6pxw9"> </span></p> <!></div></div>',1),es=h('<h3>Component Details</h3> <div class="details-content svelte-g6pxw9"><p class="svelte-g6pxw9"><strong>ID:</strong> </p> <p class="svelte-g6pxw9"><strong>Type:</strong> </p> <p class="svelte-g6pxw9"><strong>Position:</strong> </p> <div class="assignment-details svelte-g6pxw9"><h4>Assignments</h4> <p class="assignment-line svelte-g6pxw9"><span class="component-name svelte-g6pxw9"> </span> <span class="current-binding-label svelte-g6pxw9">Current:</span> <span class="current-binding svelte-g6pxw9"> </span></p></div></div>',1),ts=h("<p>No components available</p>"),rs=h('<div class="macro-indicator svelte-g6pxw9">M</div>'),ns=h('<div class="pending-change-indicator svelte-g6pxw9">!</div>'),as=h("<div><!> <!></div>"),os=h('<div class="macro-indicator svelte-g6pxw9">M</div>'),ss=h('<div class="pending-change-indicator svelte-g6pxw9">!</div>'),is=h("<div><!> <!></div>"),ls=h('<li class="svelte-g6pxw9"><span class="component-id svelte-g6pxw9"> </span> <span class="change-details svelte-g6pxw9"><span class="from svelte-g6pxw9"> </span> <span class="arrow svelte-g6pxw9">→</span> <span class="to svelte-g6pxw9"> </span></span></li>'),cs=h('<div class="pending-changes-summary svelte-g6pxw9"><h3 class="svelte-g6pxw9">Pending Changes</h3> <ul class="svelte-g6pxw9"></ul> <div class="summary-note svelte-g6pxw9">Changes will take effect after saving</div> <button class="save-button svelte-g6pxw9">Save Changes</button></div>'),us=h('<div class="module-container svelte-g6pxw9"><div class="layout-grid svelte-g6pxw9"><div class="component-details-panel svelte-g6pxw9"><!></div> <div class="module-view svelte-g6pxw9"><h2 class="svelte-g6pxw9"></h2> <h5 class="svelte-g6pxw9"></h5> <div class="module svelte-g6pxw9"></div></div></div> <!></div>');function ds(e,t){Ve(t,!1);let r=Ne(t,"moduleInfo",8);const a=r().id,n=r().name,s=r().gridSize,i=r().components;let l=ne({}),f=[],u=!0,_=ne({}),p=ne(null);Pt(async()=>{try{u=!0,f=await ut.fetchAll(),u=!1,c()}catch(C){console.error("Failed to load macros:",C),u=!1}});function c(){m(l,{}),i.forEach(C=>{if(C.keyBinding&&C.keyBinding.startsWith("macro:")){const S=C.keyBinding.replace("macro:","");Se(l,o(l)[C.id]=S)}else C.keyBinding&&Se(l,o(l)[C.id]=C.keyBinding)})}function b(C){var S;gt(gt().selectedComponent=C.id),gt(gt().selectedComponentType=C.type),console.log(a,gt().selectedComponent,gt().selectedComponentType),m(p,{id:C.id,type:C.type,macroId:(S=C.keyBinding)!=null&&S.startsWith("macro:")?C.keyBinding.replace("macro:",""):null,position:C.position}),o(_)[C.id]&&Se(p,o(p).pendingChange=o(_)[C.id])}function y(C){if(!C)return"None";if(f.length){const S=f.find(Z=>Z.id===C);if(S)return S.name}return C}function P(C){const S=["cell",C.id,C.type];return gt().selectedComponent===C.id&&S.push("selected"),o(l)[C.id]&&S.push("has-macro"),o(_)[C.id]&&S.push("has-pending-change"),S.join(" ")}function x(C,S){Se(_,o(_)[C]={macroId:S,macroName:y(S)}),o(p)&&o(p).id===C&&Se(p,o(p).pendingChange=o(_)[C])}function N(){m(_,{}),o(p)&&Se(p,o(p).pendingChange=null)}async function $(){try{for(const[C,S]of Object.entries(o(_))){const Z=i.find(ve=>ve.id===C);Z&&(Z.keyBinding=S.macroId?`macro:${S.macroId}`:null)}await Jt.saveConfigWs([r()]),N(),c()}catch(C){console.error("Failed to save changes:",C)}}Ze();var k=us(),z=d(k),A=d(z),T=d(A);{var K=C=>{var S=Qo(),Z=g(B(S),2),ve=d(Z),D=g(d(ve)),H=g(ve,2),w=g(d(H)),M=g(H,2),W=g(d(M)),Y=g(M,2),J=g(d(Y),2),G=d(J),O=d(G),Q=g(G,4),ee=d(Q),X=g(J,2);{var te=F=>{var ie=Xo(),re=d(ie),oe=d(re),ge=g(re,4),be=d(ge);j(()=>{I(oe,`${o(p).id??""}:`),I(be,o(p).pendingChange.macroName||o(p).pendingChange.macroId)}),v(F,ie)};L(X,F=>{o(p).pendingChange&&F(te)})}j(F=>{I(D,` ${o(p).id??""}`),I(w,` ${o(p).type??""}`),I(W,` Row ${o(p).position.row??""}, Col ${o(p).position.column??""}`),I(O,`${o(p).id??""}:`),I(ee,F)},[()=>o(p).macroId?y(o(p).macroId)||o(p).macroId:"None"],$e),v(C,S)},R=C=>{var S=V(),Z=B(S);{var ve=H=>{var w=es(),M=g(B(w),2),W=d(M),Y=g(d(W)),J=g(W,2),G=g(d(J)),O=g(J,2),Q=g(d(O)),ee=g(O,2),X=g(d(ee),2),te=d(X),F=d(te),ie=g(te,4),re=d(ie);j(oe=>{I(Y,` ${i[0].id??""}`),I(G,` ${i[0].type??""}`),I(Q,` Row ${i[0].position.row??""}, Col ${i[0].position.column??""}`),I(F,`${i[0].id??""}:`),I(re,oe)},[()=>i[0].keyBinding&&i[0].keyBinding.startsWith("macro:")?y(i[0].keyBinding.replace("macro:","")):i[0].keyBinding||"None"],$e),v(H,w)},D=H=>{var w=ts();v(H,w)};L(Z,H=>{i.length>0?H(ve):H(D,!1)},!0)}v(C,S)};L(T,C=>{o(p)?C(K):C(R,!1)})}var le=g(A,2),ue=d(le);ue.textContent=n;var ae=g(ue,2);ae.textContent=a;var E=g(ae,2);Ae(E,5,()=>i,Me,(C,S)=>{var Z=V(),ve=B(Z);{var D=w=>{var M=as(),W=d(M);{var Y=O=>{var Q=rs();v(O,Q)};L(W,O=>{o(l)[o(S).id]&&O(Y)})}var J=g(W,2);{var G=O=>{var Q=ns();v(O,Q)};L(J,O=>{o(_)[o(S).id]&&O(G)})}j((O,Q)=>{Ce(M,Er(O),"svelte-g6pxw9"),ct(M,"style",`
                grid-area: ${o(S).position.row+1} / ${o(S).position.column+1} / span ${o(S).size.rows??""} / span ${o(S).size.columns??""};
              `),ct(M,"title",Q)},[()=>P(o(S)),()=>o(l)[o(S).id]?`Macro: ${y(o(l)[o(S).id])}`:""],$e),q("click",M,()=>b(o(S))),v(w,M)},H=w=>{var M=is(),W=d(M);{var Y=O=>{var Q=os();v(O,Q)};L(W,O=>{o(l)[o(S).id]&&O(Y)})}var J=g(W,2);{var G=O=>{var Q=ss();v(O,Q)};L(J,O=>{o(_)[o(S).id]&&O(G)})}j((O,Q)=>{Ce(M,Er(O),"svelte-g6pxw9"),ct(M,"style",`grid-column: ${o(S).position.column+1}; grid-row: ${o(S).position.row+1}`),ct(M,"title",Q)},[()=>P(o(S)),()=>o(l)[o(S).id]?`Macro: ${y(o(l)[o(S).id])}`:""],$e),q("click",M,()=>b(o(S))),v(w,M)};L(ve,w=>{o(S).size?w(D):w(H,!1)})}v(C,Z)});var U=g(z,2);{var se=C=>{var S=cs(),Z=g(d(S),2);Ae(Z,5,()=>Object.entries(o(_)),Me,(D,H)=>{let w=()=>o(H)[0],M=()=>o(H)[1];var W=ls(),Y=d(W),J=d(Y),G=g(Y,2),O=d(G),Q=d(O),ee=g(O,4),X=d(ee);j(te=>{I(J,`${w()??""}:`),I(Q,te),I(X,M().macroName||M().macroId)},[()=>(()=>{const te=i.find(F=>F.id===w());if(te&&te.keyBinding&&te.keyBinding.startsWith("macro:")){const F=te.keyBinding.replace("macro:","");return y(F)||F}return"None"})()],$e),v(D,W)});var ve=g(Z,4);q("click",ve,$),v(C,S)};L(U,C=>{Object.keys(o(_)).length>0&&C(se)})}return j(()=>ct(E,"style",`grid-template-columns: repeat(${s.columns??""}, 40px); grid-template-rows: repeat(${s.rows??""}, 40px)`)),v(e,k),nn(t,"setPendingChange",x),nn(t,"clearPendingChanges",N),We({setPendingChange:x,clearPendingChanges:N})}var vs=h('<div class="module-container svelte-1pddc1k"><!></div>'),fs=h('<div class="macropad-view svelte-1pddc1k"></div>');function ps(e,t){let r=Ne(t,"modules",8);var a=fs();Ae(a,5,r,Me,(n,s)=>{var i=vs(),l=d(i);ds(l,{get moduleInfo(){return o(s)}}),v(n,i)}),v(e,a)}var _s=h('<button class="svelte-4yxp50"><!> <span> </span></button>'),gs=h('<div class="encoder-options svelte-4yxp50"><div class="direction-toggle svelte-4yxp50"><button class="svelte-4yxp50"><!> <span>Left</span></button> <button class="svelte-4yxp50"><!> <span>Right</span></button></div> <div class="speed-slider svelte-4yxp50"><!> <input type="range" min="0" max="100" class="svelte-4yxp50"> <!> <span class="speed-value svelte-4yxp50"> </span></div> <div class="actions-grid svelte-4yxp50"></div></div>');function ms(e){let t=ne("right"),r=ne(50),a=ne(null);const n=[{key:"Arrow Left",icon:Sr},{key:"Arrow Right",icon:Cr},{key:"Arrow Up",icon:Hn},{key:"Arrow Down",icon:Kn},{key:"Brightness Up",icon:Jn},{key:"Brightness Down",icon:Yn},{key:"Volume Up",icon:Gn},{key:"Volume Down",icon:Mr}];function s(A){m(t,A)}function i(A){m(r,parseInt(A.target.value))}function l(A){m(a,A)}var f=gs(),u=d(f),_=d(u),p=d(_);Sr(p,{size:"20"});var c=g(_,2),b=d(c);Cr(b,{size:"20"});var y=g(u,2),P=d(y);Ro(P,{size:"16",title:"Slow"});var x=g(P,2),N=g(x,2);Ho(N,{size:"16",title:"Fast"});var $=g(N,2),k=d($),z=g(y,2);Ae(z,5,()=>n,Me,(A,T)=>{var K=_s(),R=d(K);Fn(R,()=>o(T).icon,(ae,E)=>{E(ae,{size:"20"})});var le=g(R,2),ue=d(le);j(()=>{pr(K,"selected",o(a)&&o(a).key===o(T).key),I(ue,o(T).key)}),q("click",K,()=>l(o(T))),v(A,K)}),j(()=>{pr(_,"selected",o(t)==="left"),pr(c,"selected",o(t)==="right"),I(k,o(r))}),q("click",_,()=>s("left")),q("click",c,()=>s("right")),bt(x,()=>o(r),A=>m(r,A)),q("input",x,i),v(e,f)}var bs=h('<button class="keyboard-key svelte-1jicinv"><!></button>'),ys=h('<div class="keyboard-row svelte-1jicinv"></div>'),hs=h('<div class="keyboard-container svelte-1jicinv"></div>');function xs(e,t){Ve(t,!1);let r=Ne(t,"selectedKey",8),a=Ne(t,"assignKey",8);const n=[[{key:"Volume Up",size:1},{key:"Volume Down",size:1},{key:"Mute",size:1},{key:"Play/Pause",size:1},{key:"Stop",size:1}],[{key:"Next Track",size:1},{key:"Previous Track",size:1},{key:"Brightness Up",size:1},{key:"Brightness Down",size:1}],[{key:"Print Screen",size:1},{key:"Scroll Lock",size:1},{key:"Pause/Break",size:1}],[{key:"Insert",size:1},{key:"Home",size:1},{key:"End",size:1},{key:"Page Up",size:1},{key:"Page Down",size:1}],[{key:"Left Arrow",size:1},{key:"Right Arrow",size:1},{key:"Up Arrow",size:1},{key:"Down Arrow",size:1}]],s={"Volume Up":Gn,"Volume Down":Mr,Mute:Mr,"Play/Pause":jo,Stop:Lo,"Next Track":Ko,"Previous Track":Uo,"Brightness Up":Jn,"Brightness Down":Yn,"Print Screen":Vo,"Scroll Lock":null,"Pause/Break":null,Insert:null,Home:null,End:null,"Page Up":null,"Page Down":null,"Left Arrow":Sr,"Right Arrow":Cr,"Up Arrow":Hn,"Down Arrow":Kn};Ze();var i=hs();Ae(i,5,()=>n,Me,(l,f)=>{var u=ys();Ae(u,5,()=>o(f),Me,(_,p)=>{var c=bs(),b=d(c);{var y=x=>{var N=V(),$=B(N);Fn($,()=>s[o(p).key],(k,z)=>{z(k,{size:"16"})}),v(x,N)},P=x=>{var N=lo();j(()=>I(N,o(p).key)),v(x,N)};L(b,x=>{s[o(p).key]?x(y):x(P,!1)})}j(()=>ct(c,"style",`flex: ${o(p).size??""}`)),q("click",c,()=>a()(r(),o(p).key)),v(_,c)}),v(l,u)}),v(e,i),We()}var ws=h('<div class="error-message svelte-lqtpp9"> </div>'),ks=h('<div class="loading svelte-lqtpp9">Loading macros...</div>'),$s=h('<div class="no-selection svelte-lqtpp9"><p>Select a key on the grid to assign a macro</p></div>'),Es=h('<div class="current-assignment svelte-lqtpp9"><h4 class="svelte-lqtpp9">Current Assignment</h4> <p> </p> <p> </p> <div class="actions svelte-lqtpp9"><button class="button button-secondary svelte-lqtpp9">Test Macro</button> <button class="button button-danger svelte-lqtpp9">Remove Assignment</button></div></div>'),Ss=h("<p>No macro currently assigned</p>"),Cs=h("<p>No macros available. Create some first!</p>"),Ms=h('<li><div class="macro-item svelte-lqtpp9"><div class="macro-info"><strong> </strong> <span class="macro-id svelte-lqtpp9"> </span></div> <div class="macro-actions svelte-lqtpp9"><button class="button button-small svelte-lqtpp9">Assign</button> <button class="button button-small button-secondary svelte-lqtpp9">Preview</button></div></div></li>'),As=h('<ul class="svelte-lqtpp9"></ul>'),zs=h('<div class="editor-content svelte-lqtpp9"><h3 class="svelte-lqtpp9"> </h3> <!> <div class="macro-list svelte-lqtpp9"><h4 class="svelte-lqtpp9">Available Macros</h4> <!></div> <div class="pending-actions svelte-lqtpp9"><button class="button button-secondary svelte-lqtpp9">Cancel All Changes</button> <button class="button svelte-lqtpp9"> </button></div></div>'),Ns=h('<div class="macro-editor svelte-lqtpp9"><h2 class="svelte-lqtpp9">Macro Editor</h2> <!> <!></div>');function Ps(e,t){Ve(t,!1);const r=ne(),a=ne();let n=ne([]),s=ne(!0),i=ne(null),l=!1,f=ne(!1),u=null;const _=Jt.subscribe(E=>{m(f,E.loading),E.error&&m(i,`Failed to save configuration: ${E.error}`)}),p=Re.subscribe(E=>{l=E.connected});Pt(async()=>{try{m(s,!0),m(n,await ut.fetchAll()),m(s,!1),setTimeout(()=>{const E=document.querySelector(".module-container");E&&E.__svelte&&(u=E.__svelte,console.log("Module component found:",u))},500)}catch(E){m(i,E.message||"Failed to load macros"),m(s,!1)}return()=>{p(),_()}});function c(){var E,U,se,C;return(C=(se=(U=(E=document.querySelector(".macropad-view"))==null?void 0:E.parentNode)==null?void 0:U.__svelte)==null?void 0:se.ctx)==null?void 0:C.get(0)}function b(E){const U=c();if(!U)return null;for(const se of U)for(const C of se.components)if(C.id===E)return C;return null}function y(E){if(!E)return null;const U=b(E);if(!U||!U.keyBinding||!U.keyBinding.startsWith("macro:"))return null;const se=U.keyBinding.replace("macro:","");return o(n).length?o(n).find(S=>S.id===se)||null:{id:se,name:"Loading..."}}async function P(){const E=c();if(!E)return alert("Could not access module configuration. Please try again."),!1;try{return l?await Jt.saveConfigWs(E):await Jt.saveConfig(E),u&&u.clearPendingChanges(),!0}catch(U){return m(i,U.message||"Failed to save configuration"),!1}}async function x(E){if(o(r)){const U=b(o(r));if(U){if(u&&u.setPendingChange(o(r),E),U.keyBinding=`macro:${E}`,await P()){k();const C=o(n).find(S=>S.id===E);C&&alert(`Macro "${C.name}" successfully assigned to component ${o(r)}`)}}else alert(`Component ${o(r)} not found in any module`)}}async function N(){if(o(r)){const E=b(o(r));if(E&&E.keyBinding&&E.keyBinding.startsWith("macro:")){u&&u.setPendingChange(o(r),null);const U=E.keyBinding;E.keyBinding="",await P()?(k(),alert(`Macro assignment removed from component ${o(r)}`)):E.keyBinding=U}else alert(`Component ${o(r)} does not have a macro assigned`)}}async function $(E){try{await ut.executeMacro(E),alert("Macro executed successfully")}catch(U){m(i,U.message||"Failed to execute macro")}}function k(){var U,se,C,S;const E=c();if(E){const Z=[...E];(S=(C=(se=(U=document.querySelector(".macropad-view"))==null?void 0:U.parentNode)==null?void 0:se.__svelte)==null?void 0:C.ctx)==null||S.set(0,Z)}}function z(E){o(r)&&u&&u.setPendingChange(o(r),E)}function A(){u&&u.clearPendingChanges()}Jr(()=>Ot,()=>{m(r,Ot.selectedComponent)}),Jr(()=>o(r),()=>{m(a,y(o(r)))}),Da(),Ze();var T=Ns(),K=g(d(T),2);{var R=E=>{var U=ws(),se=d(U);j(()=>I(se,o(i))),v(E,U)};L(K,E=>{o(i)&&E(R)})}var le=g(K,2);{var ue=E=>{var U=ks();v(E,U)},ae=E=>{var U=V(),se=B(U);{var C=Z=>{var ve=$s();v(Z,ve)},S=Z=>{var ve=zs(),D=d(ve),H=d(D),w=g(D,2);{var M=F=>{var ie=Es(),re=g(d(ie),2),oe=d(re),ge=g(re,2),be=d(ge),me=g(ge,2),de=d(me),ce=g(de,2);j(()=>{I(oe,`Macro: ${o(a).name??""}`),I(be,`ID: ${o(a).id??""}`),de.disabled=o(f),ce.disabled=o(f)}),q("click",de,()=>$(o(a).id)),q("click",ce,N),v(F,ie)},W=F=>{var ie=Ss();v(F,ie)};L(w,F=>{o(a)?F(M):F(W,!1)})}var Y=g(w,2),J=g(d(Y),2);{var G=F=>{var ie=Cs();v(F,ie)},O=F=>{var ie=As();Ae(ie,5,()=>o(n),Me,(re,oe)=>{var ge=Ms(),be=d(ge),me=d(be),de=d(me),ce=d(de),Ee=g(de,2),ze=d(Ee),Ie=g(me,2),ke=d(Ie),Oe=g(ke,2);j(()=>{I(ce,o(oe).name),I(ze,o(oe).id),ke.disabled=o(f)}),q("click",ke,()=>x(o(oe).id)),q("click",Oe,()=>z(o(oe).id)),v(re,ge)}),v(F,ie)};L(J,F=>{o(n).length===0?F(G):F(O,!1)})}var Q=g(Y,2),ee=d(Q),X=g(ee,2),te=d(X);j(()=>{I(H,`Selected Component: ${o(r)??""}`),X.disabled=o(f),I(te,o(f)?"Saving...":"Save All Changes")}),q("click",ee,A),q("click",X,P),v(Z,ve)};L(se,Z=>{o(r)?Z(S,!1):Z(C)},!0)}v(E,U)};L(le,E=>{o(s)?E(ue):E(ae,!1)})}v(e,T),We()}var Ts=h('<button class="keyboard-key svelte-1bc1pux"> </button>'),Ds=h('<div class="keyboard-row svelte-1bc1pux"></div>'),Bs=h('<div class="keyboard-container svelte-1bc1pux"></div>');function Ls(e,t){Ve(t,!1);let r=Ne(t,"selectedKey",8),a=Ne(t,"assignKey",8);const n=[[{key:"Esc",size:1},{key:"1",size:1},{key:"2",size:1},{key:"3",size:1},{key:"4",size:1},{key:"5",size:1},{key:"6",size:1},{key:"7",size:1},{key:"8",size:1},{key:"9",size:1},{key:"0",size:1},{key:"-",size:1},{key:"=",size:1},{key:"Backspace",size:2}],[{key:"Tab",size:1.5},{key:"Q",size:1},{key:"W",size:1},{key:"E",size:1},{key:"R",size:1},{key:"T",size:1},{key:"Y",size:1},{key:"U",size:1},{key:"I",size:1},{key:"O",size:1},{key:"P",size:1},{key:"[",size:1},{key:"]",size:1},{key:"\\",size:1.5}],[{key:"Caps",size:1.75},{key:"A",size:1},{key:"S",size:1},{key:"D",size:1},{key:"F",size:1},{key:"G",size:1},{key:"H",size:1},{key:"J",size:1},{key:"K",size:1},{key:"L",size:1},{key:";",size:1},{key:"'",size:1},{key:"Enter",size:2.25}],[{key:"Shift",size:2.25},{key:"Z",size:1},{key:"X",size:1},{key:"C",size:1},{key:"V",size:1},{key:"B",size:1},{key:"N",size:1},{key:"M",size:1},{key:",",size:1},{key:".",size:1},{key:"/",size:1},{key:"Shift",size:2.75}],[{key:"Ctrl",size:1.25},{key:"Alt",size:1.25},{key:"Space",size:6.25},{key:"Alt",size:1.25},{key:"Fn",size:1.25},{key:"Ctrl",size:1.25}]];Ze();var s=Bs();Ae(s,5,()=>n,Me,(i,l)=>{var f=Ds();Ae(f,5,()=>o(l),Me,(u,_)=>{var p=Ts(),c=d(p);j(()=>{ct(p,"style",`flex: ${o(_).size??""}`),I(c,o(_).key)}),q("click",p,()=>a()(r(),o(_).key)),v(u,p)}),v(i,f)}),v(e,s),We()}var Rs=h(" <button> </button>",1),Is=h('<div class="basic-options"><!></div>'),Os=h('<div class="extended-options"><!></div>'),qs=h('<div class="macro-options"><!></div>'),Fs=h('<div class="display-options"><!></div>'),js=h('<div class="encoder-options"><!></div>'),Vs=h('<div class="nav-tabs svelte-aaksxd"></div> <div class="tab-content svelte-aaksxd"><!></div>',1),Ws=h('<div class="no-selection svelte-aaksxd">Select a component to view options</div>'),Us=h('<nav class="macropad-options svelte-aaksxd"><!></nav>');function Ks(e,t){Ve(t,!0);const r={button:["Basic","Extended","Macros"],display:["Display"],encoder:["Encoder"],"encoder-btn":["Basic","Extended","Macros","Encoder"]};let a=St(()=>r[Ot.selectedComponentType]||[]),n=br("");function s(_){m(n,Qe(_))}var i=Us(),l=d(i);{var f=_=>{var p=Vs(),c=B(p);Ae(c,21,()=>o(a),Me,(N,$)=>{var k=Rs(),z=B(k),A=g(z),T=d(A);j(K=>{I(z,`${K??""} `),Ce(A,`nav-tab ${(o(n)===o($)?"active":"")??""} svelte-aaksxd`),I(T,o($))},[()=>console.log(o($))]),q("click",A,()=>s(o($))),v(N,k)});var b=g(c,2),y=d(b);{var P=N=>{var $=Is(),k=d($);Ls(k,{}),v(N,$)},x=N=>{var $=V(),k=B($);{var z=T=>{var K=Os(),R=d(K);xs(R,{}),v(T,K)},A=T=>{var K=V(),R=B(K);{var le=ae=>{var E=qs(),U=d(E);Ps(U,{}),v(ae,E)},ue=ae=>{var E=V(),U=B(E);{var se=S=>{var Z=Fs();v(S,Z)},C=S=>{var Z=V(),ve=B(Z);{var D=H=>{var w=js(),M=d(w);ms(M),v(H,w)};L(ve,H=>{o(n)==="Encoder"&&H(D)},!0)}v(S,Z)};L(U,S=>{o(n)==="Display"?S(se):S(C,!1)},!0)}v(ae,E)};L(R,ae=>{o(n)==="Macros"?ae(le):ae(ue,!1)},!0)}v(T,K)};L(k,T=>{o(n)==="Extended"?T(z):T(A,!1)},!0)}v(N,$)};L(y,N=>{o(n)==="Basic"?N(P):N(x,!1)})}v(_,p)},u=_=>{var p=Ws();v(_,p)};L(l,_=>{Ot.selectedComponentType?_(f):_(u,!1)})}v(e,i),We()}var Hs=h('<div class="container svelte-6nzlba"><div class="top-section svelte-6nzlba"><!></div> <div class="bottom-section svelte-6nzlba"><!></div></div>');function Ys(e){let r=[{id:"A1:B2:C3:D4:E5:F6",name:"Main Module",description:"This is the main module with a display, rotary encoder, and buttons.",gridSize:{rows:5,columns:5},components:[{id:"display-1",type:"display",position:{row:0,column:0},size:{rows:2,columns:3},keyBinding:null},{id:"rotary-btn-1",type:"encoder-btn",position:{row:0,column:4},keyBinding:"Volume Up"},{id:"btn-1",type:"button",position:{row:0,column:3},keyBinding:"DELAY 500; PRESS Ctrl; PRESS Z; RELEASE Ctrl; RELEASE Z"},{id:"btn-2",type:"button",position:{row:1,column:3},keyBinding:"DELAY 100; PRESS Alt; PRESS F4; RELEASE Alt; RELEASE F4"},{id:"btn-3",type:"button",position:{row:1,column:4},keyBinding:"DELAY 500; PRESS Ctrl; PRESS C; RELEASE Ctrl; RELEASE C"},{id:"btn-4",type:"button",position:{row:2,column:0},keyBinding:"DELAY 200; PRESS Space; RELEASE Space"},{id:"btn-5",type:"button",position:{row:2,column:1},keyBinding:"Ctrl+V"},{id:"btn-6",type:"button",position:{row:2,column:2},keyBinding:"Ctrl+A"},{id:"btn-7",type:"button",position:{row:2,column:3},keyBinding:"DELAY 200; PRESS Shift; PRESS Esc; RELEASE Shift; RELEASE Esc"},{id:"btn-8",type:"button",position:{row:2,column:4},keyBinding:"DELAY 300; PRESS Ctrl; PRESS S; RELEASE Ctrl; RELEASE S"},{id:"btn-9",type:"button",position:{row:3,column:0},keyBinding:"F5"},{id:"btn-10",type:"button",position:{row:3,column:1},keyBinding:"F11"},{id:"btn-11",type:"button",position:{row:3,column:2},keyBinding:"Alt+Tab"},{id:"btn-12",type:"button",position:{row:3,column:3},keyBinding:"Ctrl+Shift+Esc"},{id:"btn-13",type:"button",position:{row:3,column:4},keyBinding:"Ctrl+P"},{id:"btn-14",type:"button",position:{row:4,column:0},keyBinding:"Alt+F4"},{id:"btn-15",type:"button",position:{row:4,column:1},keyBinding:"Ctrl+W"},{id:"btn-16",type:"button",position:{row:4,column:2},keyBinding:"Ctrl+Shift+T"},{id:"btn-17",type:"button",position:{row:4,column:3},keyBinding:"Ctrl+N"},{id:"btn-18",type:"button",position:{row:4,column:4},keyBinding:"Ctrl+Shift+S"}]}];var a=Hs(),n=d(a),s=d(n);ps(s,{modules:r});var i=g(n,2),l=d(i);Ks(l,{}),v(e,a)}var Js=h('<div class="lightings-tab-container svelte-1iq6ddv"><!> <!></div>');function Gs(e){let t=ne(null);var r=Js(),a=d(r);LightingsDisplay(a,{get selectedLED(){return o(t)},set selectedLED(s){m(t,s)},$$legacy:!0});var n=g(a,2);LightingsEditor(n,{get selectedLED(){return o(t)}}),v(e,r)}var Zs=h('<div><label class="block text-xs text-gray-500 mb-1"></label> <input type="text" class="w-full p-1 border border-gray-300 rounded"></div>'),Xs=h('<button class="px-2 py-1 text-xs bg-white border border-gray-300 rounded shadow-sm hover:bg-gray-50"> </button>'),Qs=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Key Report (HID Keyboard Report)</label> <div class="grid grid-cols-4 gap-2 mb-3"></div> <div class="bg-gray-100 p-3 rounded-md"><h3 class="text-sm font-medium mb-2">Common Keys</h3> <div class="flex flex-wrap gap-2"></div> <p class="text-xs text-gray-500 mt-2">Byte 0: Modifiers, Byte 2: Key code</p></div></div>'),ei=h('<div><label class="block text-xs text-gray-500 mb-1"></label> <input type="text" class="w-full p-1 border border-gray-300 rounded"></div>'),ti=h('<button class="px-2 py-1 text-xs bg-white border border-gray-300 rounded shadow-sm hover:bg-gray-50"> </button>'),ri=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Consumer Report</label> <div class="grid grid-cols-4 gap-2 mb-3"></div> <div class="bg-gray-100 p-3 rounded-md"><h3 class="text-sm font-medium mb-2">Common Consumer Controls</h3> <div class="flex flex-wrap gap-2"></div></div></div>'),ni=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="delay-ms">Delay (milliseconds)</label> <input id="delay-ms" type="number" min="1" max="10000" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"> <p class="text-xs text-gray-500 mt-1">Delay between 1 and 10000 milliseconds</p></div>'),ai=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="text-content">Text to Type</label> <textarea id="text-content" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" rows="3"></textarea></div>'),oi=h('<div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="target-macro">Target Macro ID</label> <input id="target-macro" type="text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Enter the ID of the macro to execute"> <p class="text-xs text-gray-500 mt-1">This will execute another macro as part of this sequence</p></div>'),si=h('<span class="text-xs text-gray-500 ml-2"> </span>'),ii=h('<span class="text-xs text-gray-500 ml-2"> </span>'),li=h('<span class="text-xs text-gray-500 ml-2"> </span>'),ci=h('<span class="text-xs text-gray-500 ml-2"> </span>'),ui=h('<span class="text-xs text-gray-500 ml-2"> </span>'),di=h('<li class="p-3 flex justify-between items-center hover:bg-gray-50"><div><span class="font-medium"> </span> <!></div> <button class="text-red-500 hover:text-red-700">×</button></li>'),vi=h('<div class="mt-6"><h3 class="font-medium mb-2">Command Sequence</h3> <ul class="border rounded-md divide-y"></ul></div>'),fi=h('<div class="command-editor"><div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="command-type">Command Type</label> <select id="command-type" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"><option>Key Press (press and release)</option><option>Key Down (press and hold)</option><option>Key Up (release all keys)</option><option>Consumer Control</option><option>Delay</option><option>Type Text</option><option>Execute Macro</option></select></div> <!> <div class="flex justify-end"><button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-300">Add Command</button></div> <!></div>');function pi(e,t){Ve(t,!1);let r=Ne(t,"commands",28,()=>[]);const a=No();let n=ne("key_press"),s=ne(new Array(8).fill(0)),i=ne(new Array(4).fill(0)),l=ne(100),f=ne(""),u=ne("");function _(){let D;switch(o(n)){case"key_press":D={type:"key_press",report:[...o(s)]};break;case"key_down":D={type:"key_down",report:[...o(s)]};break;case"key_up":D={type:"key_up"};break;case"consumer_press":D={type:"consumer_press",report:[...o(i)]};break;case"delay":D={type:"delay",ms:o(l)};break;case"type_text":D={type:"type_text",text:o(f)};break;case"execute_macro":D={type:"execute_macro",macro_id:o(u)};break}D&&(r([...r(),D]),a("update",{commands:r()}),c())}function p(D){r(r().filter((H,w)=>w!==D)),a("update",{commands:r()})}function c(){switch(o(n)){case"key_press":case"key_down":m(s,new Array(8).fill(0));break;case"consumer_press":m(i,new Array(4).fill(0));break;case"delay":m(l,100);break;case"type_text":m(f,"");break;case"execute_macro":m(u,"");break}}function b(D,H,w=!0){let M;try{H.startsWith("0x")?M=parseInt(H.substring(2),16):M=parseInt(H,16)}catch{return}isNaN(M)||M<0||M>255||(w?(Se(s,o(s)[D]=M),m(s,[...o(s)])):(Se(i,o(i)[D]=M),m(i,[...o(i)])))}const y=[{name:"A",code:"0x04"},{name:"B",code:"0x05"},{name:"C",code:"0x06"},{name:"D",code:"0x07"},{name:"Ctrl",code:"0xE0"},{name:"Shift",code:"0xE1"},{name:"Alt",code:"0xE2"},{name:"Enter",code:"0x28"},{name:"Esc",code:"0x29"},{name:"Backspace",code:"0x2A"},{name:"Tab",code:"0x2B"},{name:"Space",code:"0x2C"}],P=[{name:"Play/Pause",code:"0xCD"},{name:"Mute",code:"0xE2"},{name:"Volume Up",code:"0xE9"},{name:"Volume Down",code:"0xEA"},{name:"Media Next",code:"0xB5"},{name:"Media Previous",code:"0xB6"}];function x(D){m(s,new Array(8).fill(0)),D==="0xE0"||D==="0xE1"||D==="0xE2"?Se(s,o(s)[0]=parseInt(D.substring(2),16)):Se(s,o(s)[2]=parseInt(D.substring(2),16)),m(s,[...o(s)])}function N(D){m(i,new Array(4).fill(0)),Se(i,o(i)[0]=parseInt(D.substring(2),16)),m(i,[...o(i)])}Ze();var $=fi(),k=d($),z=g(d(k),2);j(()=>{o(n),Ya(()=>{})});var A=d(z);A.value=(A.__value="key_press")==null?"":"key_press";var T=g(A);T.value=(T.__value="key_down")==null?"":"key_down";var K=g(T);K.value=(K.__value="key_up")==null?"":"key_up";var R=g(K);R.value=(R.__value="consumer_press")==null?"":"consumer_press";var le=g(R);le.value=(le.__value="delay")==null?"":"delay";var ue=g(le);ue.value=(ue.__value="type_text")==null?"":"type_text";var ae=g(ue);ae.value=(ae.__value="execute_macro")==null?"":"execute_macro";var E=g(k,2);{var U=D=>{var H=Qs(),w=g(d(H),2);Ae(w,5,()=>o(s),Me,(Y,J,G)=>{var O=Zs(),Q=d(O);Q.textContent=`Byte ${G??""}`;var ee=g(Q,2);j(X=>en(ee,X),[()=>`0x${o(J).toString(16).padStart(2,"0").toUpperCase()}`],$e),q("change",ee,X=>b(G,X.target.value,!0)),v(Y,O)});var M=g(w,2),W=g(d(M),2);Ae(W,5,()=>y,Me,(Y,J)=>{var G=Xs(),O=d(G);j(()=>I(O,o(J).name)),q("click",G,()=>x(o(J).code)),v(Y,G)}),v(D,H)},se=D=>{var H=V(),w=B(H);{var M=Y=>{var J=ri(),G=g(d(J),2);Ae(G,5,()=>o(i),Me,(ee,X,te)=>{var F=ei(),ie=d(F);ie.textContent=`Byte ${te??""}`;var re=g(ie,2);j(oe=>en(re,oe),[()=>`0x${o(X).toString(16).padStart(2,"0").toUpperCase()}`],$e),q("change",re,oe=>b(te,oe.target.value,!1)),v(ee,F)});var O=g(G,2),Q=g(d(O),2);Ae(Q,5,()=>P,Me,(ee,X)=>{var te=ti(),F=d(te);j(()=>I(F,o(X).name)),q("click",te,()=>N(o(X).code)),v(ee,te)}),v(Y,J)},W=Y=>{var J=V(),G=B(J);{var O=ee=>{var X=ni(),te=g(d(X),2);bt(te,()=>o(l),F=>m(l,F)),v(ee,X)},Q=ee=>{var X=V(),te=B(X);{var F=re=>{var oe=ai(),ge=g(d(oe),2);bt(ge,()=>o(f),be=>m(f,be)),v(re,oe)},ie=re=>{var oe=V(),ge=B(oe);{var be=me=>{var de=oi(),ce=g(d(de),2);bt(ce,()=>o(u),Ee=>m(u,Ee)),v(me,de)};L(ge,me=>{o(n)==="execute_macro"&&me(be)},!0)}v(re,oe)};L(te,re=>{o(n)==="type_text"?re(F):re(ie,!1)},!0)}v(ee,X)};L(G,ee=>{o(n)==="delay"?ee(O):ee(Q,!1)},!0)}v(Y,J)};L(w,Y=>{o(n)==="consumer_press"?Y(M):Y(W,!1)},!0)}v(D,H)};L(E,D=>{o(n)==="key_press"||o(n)==="key_down"?D(U):D(se,!1)})}var C=g(E,2),S=d(C),Z=g(C,2);{var ve=D=>{var H=vi(),w=g(d(H),2);Ae(w,5,r,Me,(M,W,Y)=>{var J=di(),G=d(J),O=d(G),Q=d(O),ee=g(O,2);{var X=ie=>{var re=si(),oe=d(re);j(ge=>I(oe,`[${ge??""}]`),[()=>o(W).report.map(ge=>"0x"+ge.toString(16).padStart(2,"0").toUpperCase()).join(" ")],$e),v(ie,re)},te=ie=>{var re=V(),oe=B(re);{var ge=me=>{var de=ii(),ce=d(de);j(Ee=>I(ce,`[${Ee??""}]`),[()=>o(W).report.map(Ee=>"0x"+Ee.toString(16).padStart(2,"0").toUpperCase()).join(" ")],$e),v(me,de)},be=me=>{var de=V(),ce=B(de);{var Ee=Ie=>{var ke=li(),Oe=d(ke);j(()=>I(Oe,`${o(W).ms??""}ms`)),v(Ie,ke)},ze=Ie=>{var ke=V(),Oe=B(ke);{var pt=He=>{var Te=ci(),Ye=d(Te);j(()=>I(Ye,`"${o(W).text??""}"`)),v(He,Te)},st=He=>{var Te=V(),Ye=B(Te);{var xt=_t=>{var Ut=ui(),dr=d(Ut);j(()=>I(dr,`macro_id: ${o(W).macro_id??""}`)),v(_t,Ut)};L(Ye,_t=>{o(W).type==="execute_macro"&&_t(xt)},!0)}v(He,Te)};L(Oe,He=>{o(W).type==="type_text"?He(pt):He(st,!1)},!0)}v(Ie,ke)};L(ce,Ie=>{o(W).type==="delay"?Ie(Ee):Ie(ze,!1)},!0)}v(me,de)};L(oe,me=>{o(W).type==="consumer_press"?me(ge):me(be,!1)},!0)}v(ie,re)};L(ee,ie=>{o(W).type==="key_press"||o(W).type==="key_down"?ie(X):ie(te,!1)})}var F=g(G,2);j(()=>I(Q,o(W).type)),q("click",F,()=>p(Y)),v(M,J)}),v(D,H)};L(Z,D=>{r().length>0&&D(ve)})}j(()=>S.disabled=o(n)==="type_text"&&!o(f)||o(n)==="execute_macro"&&!o(u)),wo(z,()=>o(n),D=>m(n,D)),q("click",S,_),v(e,$),We()}var _i=h('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"><strong>Error:</strong> <button class="float-right font-bold">×</button></div>'),gi=h('<div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4"><strong>Notice:</strong> Not connected to the device. Macro execution will not work until connection is established. <button class="ml-2 px-2 py-1 bg-yellow-500 text-white rounded text-xs hover:bg-yellow-600">Reconnect</button></div>'),mi=h('<div class="flex justify-center py-8"><div class="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"></div></div>'),bi=h('<div class="bg-white shadow rounded-lg p-6"><h3 class="text-lg font-medium mb-4"> </h3> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="macro-id">ID</label> <input id="macro-id" type="text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Unique identifier (no spaces, lowercase)"></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="macro-name">Name</label> <input id="macro-name" type="text" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Display name"></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-1" for="macro-description">Description (optional)</label> <textarea id="macro-description" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Description of what this macro does" rows="2"></textarea></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Commands</label> <!></div> <div class="flex justify-end gap-3 mt-6"><button class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancel</button> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-300"> </button></div></div>'),yi=h('<div class="bg-gray-100 rounded-lg p-8 text-center"><p class="text-gray-500">No macros defined yet.</p> <button class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Create Your First Macro</button></div>'),hi=h('<p class="text-sm text-gray-600 mt-1"> </p>'),xi=h('<div class="bg-white shadow rounded-lg overflow-hidden"><div class="p-4"><div class="flex justify-between items-start"><h3 class="text-lg font-medium"> </h3> <div class="flex space-x-2"><button class="text-blue-600 hover:text-blue-800" title="Edit"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg></button> <button class="text-red-600 hover:text-red-800" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></button></div></div> <!> <p class="text-xs text-gray-500 mt-2"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <div class="bg-gray-50 px-4 py-3 border-t flex justify-between"><button class="flex-1 bg-green-500 text-white px-2 py-2 rounded-l hover:bg-green-600 flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg> Execute</button> <button class="flex-1 bg-indigo-500 text-white px-2 py-2 rounded-r hover:bg-indigo-600 flex justify-center items-center ml-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"></path></svg> Assign</button></div></div>'),wi=h('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>'),ki=h('<div class="flex justify-between mb-6"><div class="flex items-center"><div></div> <span class="text-sm text-gray-600"> </span></div> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Create Macro</button></div> <!>',1),$i=h('<button class="p-4 bg-gray-100 hover:bg-blue-100 border border-gray-300 rounded text-center"></button>'),Ei=h(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full"><h3 class="text-lg font-medium mb-4"> </h3> <p class="text-sm text-gray-600 mb-4">Select a button to assign this macro to. This will update the button's configuration.</p> <div class="grid grid-cols-3 gap-2 mb-4"></div> <div class="flex justify-end"><button class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancel</button></div></div></div>`),Si=h('<div class="macros-page p-4"><h2 class="text-2xl font-bold mb-4">Macros</h2> <!> <!> <!></div> <!>',1);function Ci(e,t){Ve(t,!1);let r=ne([]),a=ne(!0),n=ne(null),s=null,i=ne(!1),l=ne(!1),f=ne(!1),u=ne(!1),_=ne(null),p=ne(""),c=ne(""),b=ne(""),y=ne([]);const P=Re.subscribe(w=>{m(l,w.connected)});Pt(async()=>{try{m(a,!0),m(r,await ut.fetchAll()),m(a,!1)}catch(w){m(n,w.message||"Failed to load macros"),m(a,!1)}return()=>{P()}});function x(w){s=w,m(p,w.id),m(c,w.name),m(b,w.description||""),m(y,[...w.commands||[]]),m(i,!0),m(f,!1)}function N(){s=null,m(p,""),m(c,""),m(b,""),m(y,[]),m(i,!0),m(f,!0)}function $(){m(i,!1),m(f,!1),s=null}async function k(w){try{await ut.executeMacro(w.id)}catch(M){m(n,M.message||"Failed to execute macro")}}async function z(w){if(confirm(`Are you sure you want to delete the macro "${w.name}"?`))try{await ut.deleteMacro(w.id),m(r,o(r).filter(M=>M.id!==w.id))}catch(M){m(n,M.message||"Failed to delete macro")}}async function A(){const w={id:o(p),name:o(c),description:o(b),commands:o(y)};try{if(o(f)){const M=await ut.createMacro(w);m(r,[...o(r),M])}else{const M=await ut.updateMacro(o(p),w);m(r,o(r).map(W=>W.id===o(p)?M:W))}m(i,!1),m(f,!1),s=null}catch(M){m(n,M.message||"Failed to save macro")}}function T(w){m(y,w.detail.commands)}function K(w){m(_,w),m(u,!0)}function R(){m(u,!1),m(_,null)}async function le(w){if(o(_))try{await Re.assignMacroToButton(o(_).id,w),R()}catch(M){m(n,M.message||"Failed to assign macro to button")}}Ze();var ue=Si(),ae=B(ue),E=g(d(ae),2);{var U=w=>{var M=_i(),W=g(d(M)),Y=g(W);j(()=>I(W,` ${o(n)??""} `)),q("click",Y,()=>m(n,null)),v(w,M)};L(E,w=>{o(n)&&w(U)})}var se=g(E,2);{var C=w=>{var M=gi(),W=g(d(M),2);q("click",W,()=>Re.connect()),v(w,M)};L(se,w=>{o(l)||w(C)})}var S=g(se,2);{var Z=w=>{var M=mi();v(w,M)},ve=w=>{var M=V(),W=B(M);{var Y=G=>{var O=bi(),Q=d(O),ee=d(Q),X=g(Q,2),te=g(d(X),2),F=g(X,2),ie=g(d(F),2),re=g(F,2),oe=g(d(re),2),ge=g(re,2),be=g(d(ge),2);pi(be,{get commands(){return o(y)},$$events:{update:T}});var me=g(ge,2),de=d(me),ce=g(de,2),Ee=d(ce);j(()=>{I(ee,o(f)?"Create New Macro":"Edit Macro"),te.disabled=!o(f),ce.disabled=!o(p)||!o(c)||o(y).length===0,I(Ee,o(f)?"Create":"Save")}),bt(te,()=>o(p),ze=>m(p,ze)),bt(ie,()=>o(c),ze=>m(c,ze)),bt(oe,()=>o(b),ze=>m(b,ze)),q("click",de,$),q("click",ce,A),v(G,O)},J=G=>{var O=ki(),Q=B(O),ee=d(Q),X=d(ee),te=g(X,2),F=d(te),ie=g(ee,2),re=g(Q,2);{var oe=be=>{var me=yi(),de=g(d(me),2);q("click",de,N),v(be,me)},ge=be=>{var me=wi();Ae(me,5,()=>o(r),Me,(de,ce)=>{var Ee=xi(),ze=d(Ee),Ie=d(ze),ke=d(Ie),Oe=d(ke),pt=g(ke,2),st=d(pt),He=g(st,2),Te=g(Ie,2);{var Ye=fr=>{var jr=hi(),Xn=d(jr);j(()=>I(Xn,o(ce).description)),v(fr,jr)};L(Te,fr=>{o(ce).description&&fr(Ye)})}var xt=g(Te,2),_t=d(xt),Ut=g(xt,2),dr=d(Ut),Zn=g(ze,2),vr=d(Zn),Fr=g(vr,2);j(()=>{I(Oe,o(ce).name),I(_t,`ID: ${o(ce).id??""}`),I(dr,`${(o(ce).commands||[]).length??""} commands`),vr.disabled=!o(l),Fr.disabled=!o(l)}),q("click",st,()=>x(o(ce))),q("click",He,()=>z(o(ce))),q("click",vr,()=>k(o(ce))),q("click",Fr,()=>K(o(ce))),v(de,Ee)}),v(be,me)};L(re,be=>{o(r).length===0?be(oe):be(ge,!1)})}j(()=>{Ce(X,`w-3 h-3 rounded-full mr-2 ${o(l)?"bg-green-500":"bg-red-500"}`),I(F,`WebSocket: ${(o(l)?"Connected":"Disconnected")??""}`)}),q("click",ie,N),v(G,O)};L(W,G=>{o(i)?G(Y):G(J,!1)},!0)}v(w,M)};L(S,w=>{o(a)?w(Z):w(ve,!1)})}var D=g(ae,2);{var H=w=>{var M=Ei(),W=d(M),Y=d(W),J=d(Y),G=g(Y,4);Ae(G,4,()=>Array(9),Me,(ee,X,te)=>{var F=$i();F.textContent=`Button ${te+1}`,q("click",F,()=>le(`button-0-${te}`)),v(ee,F)});var O=g(G,2),Q=d(O);j(()=>I(J,`Assign "${o(_).name??""}" to Button`)),q("click",Q,R),v(w,M)};L(D,w=>{o(u)&&w(H)})}v(e,ue),We()}var Mi=h('<button class="ml-2 text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors">Reconnect</button>'),Ai=h('<span class="text-sm"> <!></span>'),zi=h('<button class="text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors">Reconnect</button>'),Ni=h("<div><div></div> <!></div>");function Pi(e,t){Ve(t,!1);let r=Ne(t,"showLabel",8,!0),a=Ne(t,"position",8,"top-right"),n=ne(!1);const s=Re.subscribe(c=>{m(n,c.connected)});Ao(s);function i(){Re.connect()}Ze();var l=Ni(),f=d(l),u=g(f,2);{var _=c=>{var b=Ai(),y=d(b),P=g(y);{var x=N=>{var $=Mi();q("click",$,i),v(N,$)};L(P,N=>{o(n)||N(x)})}j(()=>I(y,`${(o(n)?"Connected":"Disconnected")??""} `)),v(c,b)},p=c=>{var b=V(),y=B(b);{var P=x=>{var N=zi();q("click",N,i),v(x,N)};L(y,x=>{o(n)||x(P)},!0)}v(c,b)};L(u,c=>{r()?c(_):c(p,!1)})}j(()=>{Ce(l,`${`connection-status ${a()} flex items-center gap-2`??""} svelte-q06out`),Ce(f,`${`w-3 h-3 rounded-full ${o(n)?"bg-green-500":"bg-red-500"}`??""} svelte-q06out`)}),v(e,l),We()}var Ti=h('<div class="flex justify-center items-center p-8 svelte-1ps1vr7"><div class="loading-spinner svelte-1ps1vr7"></div> <p class="ml-2 svelte-1ps1vr7">Loading configuration data...</p></div> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-4 svelte-1ps1vr7">Load Sample Data (Demo)</button>',1),Di=h('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded svelte-1ps1vr7"><p class="svelte-1ps1vr7"> </p> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-4 svelte-1ps1vr7">Load Sample Data (Demo)</button></div>'),Bi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Li=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Ri=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Ii=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Oi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),qi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),Fi=h('<pre class="json-display svelte-1ps1vr7"> </pre>'),ji=h('<p class="text-gray-500 italic svelte-1ps1vr7">No data available for this configuration type</p>'),Vi=h('<div class="flex border-b mb-4 flex-wrap svelte-1ps1vr7"><button>Modules</button> <button>Macros</button> <button>System</button> <button>Actions</button> <button>Components</button> <button>Info</button> <button>LEDs</button></div> <div class="config-content-container svelte-1ps1vr7"><!></div>',1),Wi=h(`<div class="raw-config-container svelte-1ps1vr7"><div class="flex justify-between items-center mb-4 svelte-1ps1vr7"><h2 class="text-2xl font-bold svelte-1ps1vr7">Raw Configuration</h2> <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 flex items-center svelte-1ps1vr7"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1 svelte-1ps1vr7" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" class="svelte-1ps1vr7"></path></svg> Refresh</button></div> <div class="bg-white rounded-lg shadow p-4 mb-6 svelte-1ps1vr7"><p class="text-gray-600 mb-4 svelte-1ps1vr7">This page displays the raw JSON configuration files stored in the ESP32 memory.
      You can view different configuration files by selecting the tabs below.</p> <!></div></div>`);function Ui(e,t){Ve(t,!1);let r=ne({modules:null,macros:null,system:null,actions:null,components:null,info:null,leds:null}),a=ne("modules"),n=ne(!0),s=ne(null);function i(x){try{return JSON.stringify(x,null,2)}catch{return"Error formatting JSON"}}Pt(async()=>{try{m(n,!0);const x=setTimeout(()=>{o(n)&&!o(r).modules&&!o(r).macros&&!o(r).system&&(console.log("No configuration data received, loading sample data"),l())},5e3);Re.subscribe($=>$.connected).connected?Re.sendMessage({type:"get_all_configs"}).catch($=>{console.error("Error sending config request:",$)}):l();const N=Re.subscribe($=>{if($.events&&$.events.length>0){const k=$.events[$.events.length-1];k.type==="config_data"&&(k.configType==="modules"?Se(r,o(r).modules=k.data):k.configType==="macros"?Se(r,o(r).macros=k.data):k.configType==="system"?Se(r,o(r).system=k.data):k.configType==="actions"?Se(r,o(r).actions=k.data):k.configType==="components"?Se(r,o(r).components=k.data):k.configType==="info"?Se(r,o(r).info=k.data):k.configType==="leds"&&Se(r,o(r).leds=k.data),m(n,!1),clearTimeout(x))}});return()=>{N(),clearTimeout(x)}}catch(x){console.error("Failed to load configurations:",x),m(s,x.message||"Failed to load configurations"),m(n,!1)}});function l(){m(r,{modules:[{id:"A1:B2:C3:D4:E5:F6",name:"Main Module",gridSize:{rows:5,columns:5},components:[{id:"display-1",type:"display",position:{row:0,column:0},keyBinding:null},{id:"btn-1",type:"button",position:{row:1,column:0},keyBinding:"macro:123"}]}],macros:[{id:"123",name:"Test Macro",commands:[{type:"keypress",key:"a"}]}],system:{version:"1.0.0",deviceName:"Modular Macropad",lastSync:new Date().toISOString()},actions:{keyPress:["a","b","c"],specialKeys:["F1","F2","Enter"]},components:{buttons:["btn-1","btn-2"],encoders:["encoder-1"],displays:["display-1"]},info:{manufacturer:"Modular Macropad",model:"DIY-1",firmware:"1.0.0"},leds:{brightness:100,patterns:["solid","rainbow","breathe"]}}),m(n,!1)}function f(){if(!Re.subscribe(x=>x.connected).connected){m(s,"WebSocket not connected. Cannot refresh data.");return}m(n,!0),m(s,null),Re.sendMessage({type:"get_all_configs"}).catch(x=>{console.error("Error requesting configurations:",x),m(s,x.message||"Failed to request configurations"),m(n,!1)})}Ze();var u=Wi(),_=d(u),p=g(d(_),2),c=g(_,2),b=g(d(c),2);{var y=x=>{var N=Ti(),$=g(B(N),2);q("click",$,l),v(x,N)},P=x=>{var N=V(),$=B(N);{var k=A=>{var T=Di(),K=d(T),R=d(K),le=g(K,2);j(()=>I(R,o(s))),q("click",le,l),v(A,T)},z=A=>{var T=Vi(),K=B(T),R=d(K),le=g(R,2),ue=g(le,2),ae=g(ue,2),E=g(ae,2),U=g(E,2),se=g(U,2),C=g(K,2),S=d(C);{var Z=D=>{var H=Bi(),w=d(H);j(M=>I(w,M),[()=>i(o(r).modules)],$e),v(D,H)},ve=D=>{var H=V(),w=B(H);{var M=Y=>{var J=Li(),G=d(J);j(O=>I(G,O),[()=>i(o(r).macros)],$e),v(Y,J)},W=Y=>{var J=V(),G=B(J);{var O=ee=>{var X=Ri(),te=d(X);j(F=>I(te,F),[()=>i(o(r).system)],$e),v(ee,X)},Q=ee=>{var X=V(),te=B(X);{var F=re=>{var oe=Ii(),ge=d(oe);j(be=>I(ge,be),[()=>i(o(r).actions)],$e),v(re,oe)},ie=re=>{var oe=V(),ge=B(oe);{var be=de=>{var ce=Oi(),Ee=d(ce);j(ze=>I(Ee,ze),[()=>i(o(r).components)],$e),v(de,ce)},me=de=>{var ce=V(),Ee=B(ce);{var ze=ke=>{var Oe=qi(),pt=d(Oe);j(st=>I(pt,st),[()=>i(o(r).info)],$e),v(ke,Oe)},Ie=ke=>{var Oe=V(),pt=B(Oe);{var st=Te=>{var Ye=Fi(),xt=d(Ye);j(_t=>I(xt,_t),[()=>i(o(r).leds)],$e),v(Te,Ye)},He=Te=>{var Ye=ji();v(Te,Ye)};L(pt,Te=>{o(a)==="leds"&&o(r).leds?Te(st):Te(He,!1)},!0)}v(ke,Oe)};L(Ee,ke=>{o(a)==="info"&&o(r).info?ke(ze):ke(Ie,!1)},!0)}v(de,ce)};L(ge,de=>{o(a)==="components"&&o(r).components?de(be):de(me,!1)},!0)}v(re,oe)};L(te,re=>{o(a)==="actions"&&o(r).actions?re(F):re(ie,!1)},!0)}v(ee,X)};L(G,ee=>{o(a)==="system"&&o(r).system?ee(O):ee(Q,!1)},!0)}v(Y,J)};L(w,Y=>{o(a)==="macros"&&o(r).macros?Y(M):Y(W,!1)},!0)}v(D,H)};L(S,D=>{o(a)==="modules"&&o(r).modules?D(Z):D(ve,!1)})}j(()=>{Ce(R,`${`px-4 py-2 mr-2 ${o(a)==="modules"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),Ce(le,`${`px-4 py-2 mr-2 ${o(a)==="macros"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),Ce(ue,`${`px-4 py-2 mr-2 ${o(a)==="system"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),Ce(ae,`${`px-4 py-2 mr-2 ${o(a)==="actions"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),Ce(E,`${`px-4 py-2 mr-2 ${o(a)==="components"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),Ce(U,`${`px-4 py-2 mr-2 ${o(a)==="info"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`),Ce(se,`${`px-4 py-2 mr-2 ${o(a)==="leds"?"border-b-2 border-blue-500 font-semibold":"text-gray-600"}`??""} svelte-1ps1vr7`)}),q("click",R,()=>m(a,"modules")),q("click",le,()=>m(a,"macros")),q("click",ue,()=>m(a,"system")),q("click",ae,()=>m(a,"actions")),q("click",E,()=>m(a,"components")),q("click",U,()=>m(a,"info")),q("click",se,()=>m(a,"leds")),v(A,T)};L($,A=>{o(s)?A(k):A(z,!1)},!0)}v(x,N)};L(b,x=>{o(n)?x(y):x(P,!1)})}j(()=>p.disabled=o(n)),q("click",p,f),v(e,u),We()}var Ki=h('<main class="min-h-screen flex flex-col bg-gray-50"><!> <div class="navbar mb-2 p-2 bg-primary text-primary-content rounded-lg shadow"><div class="flex-1"><h1 class="text-xl font-bold ml-2">Macropad Control Panel</h1></div> <div class="flex-none"><div class="tabs tabs-boxed bg-primary-focus"><button data-tab="macropad"><!> Macropad</button> <button data-tab="macros"><!> Macros</button> <button data-tab="lighting"><!> Lighting</button> <button data-tab="settings"><!> Settings</button> <button data-tab="raw-config"><!> Raw Config</button></div></div></div> <div class="main-content mb-8"><!></div></main>');function Hi(e,t){Ve(t,!1);let r=ne("macropad");Pt(()=>{Re.connect()}),Ze();var a=Ki(),n=d(a);Pi(n,{position:"top-right"});var s=g(n,2),i=g(d(s),2),l=d(i),f=d(l),u=d(f);qo(u,{class:"inline-block w-5 h-5 mr-1"});var _=g(f,2),p=d(_);Fo(p,{class:"inline-block w-5 h-5 mr-1"});var c=g(_,2),b=d(c);Io(b,{class:"inline-block w-5 h-5 mr-1"});var y=g(c,2),P=d(y);Wo(P,{class:"inline-block w-5 h-5 mr-1"});var x=g(y,2),N=d(x);Oo(N,{class:"inline-block w-5 h-5 mr-1"});var $=g(s,2),k=d($);{var z=T=>{Ys(T)},A=T=>{var K=V(),R=B(K);{var le=ae=>{Ci(ae,{})},ue=ae=>{var E=V(),U=B(E);{var se=S=>{Gs(S)},C=S=>{var Z=V(),ve=B(Z);{var D=w=>{},H=w=>{var M=V(),W=B(M);{var Y=J=>{Ui(J,{})};L(W,J=>{o(r)==="raw-config"&&J(Y)},!0)}v(w,M)};L(ve,w=>{o(r)==="settings"?w(D):w(H,!1)},!0)}v(S,Z)};L(U,S=>{o(r)==="lighting"?S(se):S(C,!1)},!0)}v(ae,E)};L(R,ae=>{o(r)==="macros"?ae(le):ae(ue,!1)},!0)}v(T,K)};L(k,T=>{o(r)==="macropad"?T(z):T(A,!1)})}j(()=>{Ce(f,`tab transition-colors duration-200 ${o(r)==="macropad"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ce(_,`tab transition-colors duration-200 ${o(r)==="macros"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ce(c,`tab transition-colors duration-200 ${o(r)==="lighting"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ce(y,`tab transition-colors duration-200 ${o(r)==="settings"?"tab-active bg-primary-content text-primary":"text-primary-content"}`),Ce(x,`tab transition-colors duration-200 ${o(r)==="raw-config"?"tab-active bg-primary-content text-primary":"text-primary-content"}`)}),q("click",f,()=>m(r,"macropad")),q("click",_,()=>m(r,"macros")),q("click",c,()=>m(r,"lighting")),q("click",y,()=>m(r,"settings")),q("click",x,()=>m(r,"raw-config")),v(e,a),We()}co(Hi,{target:document.getElementById("app")});
